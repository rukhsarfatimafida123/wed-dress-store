(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,,,function(e,t,a){"use strict";a.d(t,"a",function(){return f}),a.d(t,"D",function(){return B}),a.d(t,"E",function(){return F}),a.d(t,"B",function(){return L}),a.d(t,"z",function(){return P}),a.d(t,"A",function(){return G}),a.d(t,"r",function(){return H}),a.d(t,"p",function(){return U}),a.d(t,"v",function(){return V}),a.d(t,"q",function(){return q}),a.d(t,"k",function(){return K}),a.d(t,"o",function(){return Z}),a.d(t,"w",function(){return X}),a.d(t,"y",function(){return ee}),a.d(t,"x",function(){return ae}),a.d(t,"u",function(){return re}),a.d(t,"j",function(){return ie}),a.d(t,"g",function(){return ue}),a.d(t,"s",function(){return de}),a.d(t,"K",function(){return pe}),a.d(t,"L",function(){return he}),a.d(t,"F",function(){return ge}),a.d(t,"h",function(){return ye}),a.d(t,"M",function(){return ve}),a.d(t,"H",function(){return we}),a.d(t,"n",function(){return Ne}),a.d(t,"J",function(){return Se}),a.d(t,"t",function(){return Oe}),a.d(t,"i",function(){return Ie}),a.d(t,"c",function(){return ke}),a.d(t,"d",function(){return Te}),a.d(t,"e",function(){return Fe}),a.d(t,"f",function(){return Le}),a.d(t,"I",function(){return Pe}),a.d(t,"b",function(){return Ge}),a.d(t,"m",function(){return Ve}),a.d(t,"l",function(){return Ye}),a.d(t,"G",function(){return qe}),a.d(t,"C",function(){return We});var n=a(1),r=a(2),o=a.n(r),l=a(8),c=a(12),i=a(10),s=a(6),u=a(29),m=a.n(u),d=a(40);a(90);var p=d.firestore();window.location.href.match(/localhost/)&&(window.db=p);var h,f=window.location.href.match(/localhost/)?"http://localhost:5000/cssbattleapp/us-central1":"".concat(window.location.origin,"/api"),g="/packages/nextjs/api",b="battles",y="battleScores",E="targetScores",v="purchases",_=0;function w(){p.doc("global/misc").update({reads:d.firestore.FieldValue.increment(_)}),_=0}function N(e){window.readCount=window.readCount||0,window.readCount+=e,_+=e,window.location.href.match(/localhost/)&&console.log("readCount",window.readCount),clearTimeout(h),h=setTimeout(w,2e3)}function C(e){return p.collection(E).where("levelId","==",e).orderBy("score","desc").orderBy("lastUpdated")}function S(e){var t=[];return e.forEach(function(e){t.push(Object(c.a)({id:e.id},e.data()))}),N(t.length),t}function O(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).withoutId,a=void 0!==t&&t;return e.get().then(function(e){return e.exists?(N(1),a?e.data():Object(c.a)({id:e.id},e.data())):null})}function j(e){return e.get().then(S)}function I(e){return e.sort(function(e,t){return e.score===t.score?e.lastUpdated-t.lastUpdated:t.score-e.score})}function k(e){return p.doc("scores/".concat(e)).get().then(function(e){return e.exists?(N(1),e.data()):void 0}).catch(function(){})}function B(e){return T.apply(this,arguments)}function T(){return(T=Object(l.a)(o.a.mark(function e(t){var a,n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){return j(p.collection(E).where("levelId","==",e).where("userId","==",a)).then(function(e){return e[0]})},a=t.userId,n=t.levelIds,e.abrupt("return",Promise.all(n.filter(Boolean).map(r)).then(function(e){return e.filter(Boolean).reduce(function(e,t){return e[t.levelId]=t,e},{})}));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e){return j(p.collection("following").where("followerId","==",e)).then(function(e){return e.map(function(e){return e.followedId})})}function F(e){return A.apply(this,arguments)}function A(){return(A=Object(l.a)(o.a.mark(function e(t){var a,n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.userId,n=t.levelId,r=p.collection("submissions").where("userId","==",a).where("levelId","==",n).orderBy("timestamp","desc"),e.abrupt("return",j(r).catch(function(e){return console.log("Error getting document:",e),0}));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(e){return M.apply(this,arguments)}function M(){return(M=Object(l.a)(o.a.mark(function e(t){var a,n,r,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){return(n=Object(l.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O(p.doc("submissions/".concat(t))));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)},a=function(e){return n.apply(this,arguments)},e.next=4,V({levelId:t});case 4:return r=e.sent,e.next=7,Promise.all(r.map(function(e){return a(e.submissionId)}));case 7:return i=e.sent,e.abrupt("return",r.map(function(e,t){return Object(c.a)({},i[t],e)}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(e,t){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(o.a.mark(function e(t,a){var n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.location.href.match(/localhost/)&&!a){e.next=4;break}return e.abrupt("return",O(p.doc("players/".concat(t))).then(function(e){return e&&(e=Object(c.a)({},e,{displayName:e.displayName||"User"})),e}));case 4:return e.next=6,fetch("".concat(g,"/playerProfile?userId=").concat(t));case 6:return n=e.sent,e.next=9,n.json();case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function G(e){return j(p.collection("players").where("username","==",e)).then(function(e){if(e.length)return Object(c.a)({id:e[0].id},e[0],{displayName:e[0].displayName||"User"})})}function H(){return R.apply(this,arguments)}function R(){return(R=Object(l.a)(o.a.mark(function e(){var t,a,n,r=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:10,a=p.collection("scores"),n=a.orderBy("score","desc").orderBy("lastUpdated").limit(t),e.abrupt("return",n.get().then(function(e){var t=S(e);if(!t.length)return[];var a=t.map(function(e){return P(e.id)});return Promise.all(a).then(function(e){return e.map(function(e,a){return Object(c.a)({},t[a],{rank:a+1,playedCount:Object.keys(t[a].levels).length,playerProfile:e})})})}).catch(function(e){return console.log("Error getting document:",e),0}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function U(e){return z.apply(this,arguments)}function z(){return(z=Object(l.a)(o.a.mark(function e(t){var a,r,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.userId,e.next=3,x(a);case 3:if((r=e.sent).length){e.next=6;break}return e.abrupt("return",[]);case 6:return r.push(a),l=r.map(function(e){return Promise.all([P(e),k(e)])}),e.abrupt("return",Promise.all(l).then(function(e){return I(e=e.map(function(e,t){var a=Object(n.a)(e,2),r=a[0],o=a[1];return Object(c.a)({},o,{id:r.id,playedCount:Object.keys(o.levels).length,playerProfile:r})}))}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function V(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(l.a)(o.a.mark(function e(t){var a,n,r,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.levelId,n=t.numberOfPlayers,r=void 0===n?10:n,l=C(a).limit(r),e.abrupt("return",j(l).then(function(e){if(!e.length)return[];var t=e.map(function(e){return P(e.userId)});return Promise.all(t).then(function(t){return t.map(function(t,a){return Object(c.a)({id:e[a].id},e[a],{rank:a+1,playerProfile:t})})})}).catch(function(e){return console.log("Error getting document:",e),0}));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function q(e){return W.apply(this,arguments)}function W(){return(W=Object(l.a)(o.a.mark(function e(t){var a,r,l,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.userId,r=t.levelId,e.next=3,x(a);case 3:if((l=e.sent).length){e.next=6;break}return e.abrupt("return",[]);case 6:return l.push(a),i=l.map(function(e){return Promise.all([P(e),re({playerId:e,levelId:r}).then(function(e){return e||{score:0}})])}),e.abrupt("return",Promise.all(i).then(function(e){return I(e=e.map(function(e,t){var a=Object(n.a)(e,2),r=a[0],o=a[1];return Object(c.a)({},o,{id:r.id,playerProfile:r})}))}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function K(e){return J.apply(this,arguments)}function J(){return(J=Object(l.a)(o.a.mark(function e(t){var a,r,i,s,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.battleId,r=t.numberOfPlayers,i=void 0===r?10:r,s=p.collection("battleScores"),u=s.where("battleId","==",a).orderBy("score","desc").orderBy("lastUpdated").limit(i),e.abrupt("return",j(u).then(function(){var e=Object(l.a)(o.a.mark(function e(t){var r,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,ke(a);case 4:return r=e.sent,l=t.map(function(e){return Promise.all([P(e.userId),B({userId:e.userId,levelIds:r.levelIds})])}),e.abrupt("return",Promise.all(l).then(function(e){return e.map(function(e,a){var o=Object(n.a)(e,2),l=o[0],i=o[1];return Object(c.a)({},t[a],{id:t[a].userId,rank:a+1,playedCount:r.levelIds.filter(function(e){return i[e]}).length,playerProfile:l})})}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){return console.log("Error getting document:",e),[]}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Z(e){return $.apply(this,arguments)}function $(){return($=Object(l.a)(o.a.mark(function e(t){var a,r,l,i,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.userId,r=t.battleId,e.next=3,ke(r);case 3:return l=e.sent,e.next=6,x(a);case 6:if((i=e.sent).length){e.next=9;break}return e.abrupt("return",[]);case 9:return i.push(a),s=i.map(function(e){return Promise.all([P(e),k(e),p.collection("battleScores").where("userId","==",e).where("battleId","==",r).get().then(function(e){return S(e)[0]||{score:0}})])}),e.abrupt("return",Promise.all(s).then(function(e){return I(e=e.map(function(e,t){var a=Object(n.a)(e,3),r=a[0],o=a[1],i=a[2];return Object(c.a)({},i,{id:r.id,playedCount:l.levelIds.filter(function(e){return o.levels[e]}).length,playerProfile:r})}))}));case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function X(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(l.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=C(t).limit(1),e.abrupt("return",j(a).then(function(e){if(!e.length)return null;var a=e.map(function(e){return P(e.userId)});return a.length?Promise.all(a).then(function(a){return a.map(function(a,n){return{levelId:t,highscore:{score:e[n].score,codeSize:e[n].codeSize,match:e[n].match,playerProfile:a}}})[0]}):null}).catch(function(e){return console.log("Error getting document:",e),null}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(l.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map(function(e){return X(e)}),e.abrupt("return",Promise.all(a));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(l.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=C(t).limit(3),e.abrupt("return",j(a).catch(function(e){return console.log("Error getting document:",e),[]}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function re(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(l.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.playerId,n=t.levelId,e.abrupt("return",O(p.doc("".concat(E,"/").concat(a,"_").concat(n)),{withoutId:!0}).catch(function(){}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function le(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(l.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.playerId,e.abrupt("return",p.doc("scores/".concat(a)).get().then(function(e){return e.exists?(N(1),e.data()):{}}).catch(function(){return{}}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ie(e){return se.apply(this,arguments)}function se(){return(se=Object(l.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.playerId,e.next=3,le({playerId:a});case 3:return n=e.sent,e.abrupt("return",n.levels||{});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ue(e){return me.apply(this,arguments)}function me(){return(me=Object(l.a)(o.a.mark(function e(t){var a,n,r,l,c,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.token,n=void 0===a?"":a,r=t.userId,l=t.levelId,c=t.battleId,s=new URLSearchParams(Object(i.j)({token:n,userId:r,battleId:c,levelId:l})),e.abrupt("return",fetch("".concat(f,"/getRank?").concat(s)).then(function(e){return e.json()}));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function de(){return O(p.doc("global/stats"))}function pe(e,t){return p.doc("players/".concat(e)).update(t)}function he(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(l.a)(o.a.mark(function e(t,a){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getIdToken();case 2:return n=e.sent,e.abrupt("return",fetch("".concat(f,"/saveUsername"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n,username:a})}).then(function(e){if(!e.ok)throw e;return e.text()}).catch(function(e){if(e instanceof Response)throw e.text()}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ge(e){return be.apply(this,arguments)}function be(){return(be=Object(l.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.followedId,n=t.followerId,e.abrupt("return",p.collection("following").doc("".concat(a,"_").concat(n)).get().then(function(e){return e.exists}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ye(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(l.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.followedId,n=t.followerId,e.abrupt("return",p.collection("following").doc("".concat(a,"_").concat(n)).set({followedId:a,followerId:n,timestamp:d.firestore.FieldValue.serverTimestamp()}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ve(e){return _e.apply(this,arguments)}function _e(){return(_e=Object(l.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.followedId,n=t.followerId,e.abrupt("return",p.collection("following").doc("".concat(a,"_").concat(n)).delete());case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function we(e,t){return p.collection("notifications").where("userId","==",e).onSnapshot(function(e){var a=S(e).map(function(e){return Object(c.a)({},e,{timestamp:1e3*e.timestamp.seconds})});a.sort(function(e,t){return t.timestamp-e.timestamp}),t(a)})}function Ne(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(l.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.userId,e.abrupt("return",p.collection("editorPlugins").where("userId","==",a).get().then(S).catch(function(e){return console.log("Error getting document:",e),0}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Se(e){var t={title:e.title,code:e.code,shouldAutoRun:e.shouldAutoRun||!1};return e.id?p.collection("editorPlugins").doc(e.id).update(Object(c.a)({},t,{updatedOn:d.firestore.FieldValue.serverTimestamp()})):p.collection("editorPlugins").add(Object(c.a)({},t,{userId:e.userId,createdOn:d.firestore.FieldValue.serverTimestamp()})).then(function(e){return e.id})}function Oe(e){return je.apply(this,arguments)}function je(){return(je=Object(l.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.userId,e.abrupt("return",p.collection("subscriptions").where("userId","==",a).where("type","==","subscription_created").get().then(function(e){var t=S(e);return t.sort(function(e,t){return t.timestamp.seconds-e.timestamp.seconds}),t[0]}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ie(e){var t=p.collection("events").orderBy("timestamp","desc");return e&&(t=t.where("data.battleId","==",e)),(t=t.limit(20)).get().then(function(e){var t=S(e);if(!t.length)return t;Object(i.g)(t);var a=t.map(function(e){return P(e.data.userId)});return Promise.all(a).then(function(e){return e.map(function(e,a){return Object(c.a)({},t[a],{timestamp:1e3*t[a].timestamp.seconds,playerProfile:e})})})})}function ke(e){return Be.apply(this,arguments)}function Be(){return(Be=Object(l.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=s.battles.find(function(e){return e.id===t}))){e.next=3;break}return e.abrupt("return",a);case 3:return e.abrupt("return",O(p.collection("battles").doc(t)));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Te(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(l.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t?s.battles.find(function(e){return e.levelIds.includes(t.id)}):null)){e.next=3;break}return e.abrupt("return",a);case 3:return e.abrupt("return",O(p.collection(b).doc(t.battleId)));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Fe(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(l.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{});case 2:if(!(a=m.a.find(function(e){return e.id===t}))){e.next=5;break}return e.abrupt("return",a);case 5:return e.abrupt("return",O(p.collection("levels").doc(t)));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Le(e){return Me.apply(this,arguments)}function Me(){return(Me=Object(l.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map(function(e){return Fe(e)}),e.abrupt("return",Promise.all(a));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pe(e){return De.apply(this,arguments)}function De(){return(De=Object(l.a)(o.a.mark(function e(t){var a,n,r,l,u,m,h,f;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.userId,n=t.battle,r=t.levels,l=t.oldLevels,u=Object(i.j)({name:n.name,description:n.description,duration:n.duration,status:n.status,levelIds:r?r.map(function(e){return e.id}):void 0,startDate:n.startDate,endDate:n.endDate}),console.table(u),u.startDate&&(u.startDate=d.firestore.FieldValue.serverTimestamp()),u.endDate&&(u.endDate=d.firestore.FieldValue.serverTimestamp()),!(r&&l&&l.length)){e.next=12;break}if(!(m=l.filter(function(e){return!r.find(function(t){return t.id===e.id})}).map(function(e){return e.id})).length){e.next=12;break}return h=m.map(function(e){return Ue(e)}),console.log("levels to delete",m),e.next=12,Promise.all(h);case 12:if(f=r?r.map(function(e){return Re({userId:a,battleId:n.id,level:e})}):Promise.resolve(),console.log("saving battle",n,r,a,u),!n.id){e.next=18;break}return e.abrupt("return",Promise.all([p.collection("battles").doc(n.id).update(Object(c.a)({},u,{updatedOn:d.firestore.FieldValue.serverTimestamp()})),f]));case 18:return e.abrupt("return",p.collection("battles").add(Object(c.a)({},u,{createdBy:a,status:s.BattleStatuses.UPCOMING,createdOn:d.firestore.FieldValue.serverTimestamp(),updatedOn:d.firestore.FieldValue.serverTimestamp()})).then(function(e){return e.id}));case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ge(e){return He.apply(this,arguments)}function He(){return(He=Object(l.a)(o.a.mark(function e(t){var a,n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.battleId,n=t.levelIds,r=(void 0===n?[]:n).map(function(e){return Ue(e)}),e.next=4,Promise.all(r);case 4:return e.abrupt("return",p.doc("".concat(b,"/").concat(a)).delete());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Re(e){var t=e.userId,a=e.battleId,n=e.level,r=Object(i.j)(Object(c.a)({createdBy:t,battleId:a,updatedOn:d.firestore.FieldValue.serverTimestamp()},n));return console.log("level saving ",r),p.collection("levels").doc(n.id).set(r)}function Ue(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(l.a)(o.a.mark(function e(t){var n,r,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a(64),n=d.storage(),e.next=4,Fe(t);case 4:return r=e.sent,l=n.ref().child(decodeURIComponent(r.image.match(/user.*png/)[0])),e.abrupt("return",Promise.all([p.doc("levels/".concat(t)).delete(),l.delete()]));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ve(e){return j(p.collection("battles").where("createdBy","==",e))}function Ye(e){return j(p.collection("purchases").where("userId","==",e).where("type","==","customBattle"))}function qe(e,t){return p.collection(v).where("userId","==",e).where("type","==","customBattle").where("isUsed","==",!1).onSnapshot(function(e){var a=S(e);t(a)})}function We(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(l.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(p.collection(y).where("userId","==",t));case 2:return a=e.sent,e.next=5,Promise.all(a.map(function(e){return ke(e.battleId)}));case 5:return n=e.sent,e.abrupt("return",n.map(function(e,t){return Object(c.a)({},a[t],e)}));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}window.deleteLevel=Ue,window.getDocument=O,window.queryDocuments=j},,function(e,t,a){"use strict";a.d(t,"a",function(){return d}),a.d(t,"i",function(){return p}),a.d(t,"g",function(){return h}),a.d(t,"d",function(){return f}),a.d(t,"c",function(){return g}),a.d(t,"e",function(){return b}),a.d(t,"b",function(){return y}),a.d(t,"h",function(){return E}),a.d(t,"f",function(){return v});var n=a(30),r=a(0),o=a.n(r),l=a(4),c=a(14),i=a(10),s=a(28),u=a(13),m=a(37);function d(e){var t,a=e.url,r=e.userId,c=e.username,s=e.size,u=void 0===s?24:s,m=e.small,d=Object(n.a)(e,["url","userId","username","size","small"]),p=a;return a?(m&&(p=Object(i.f)(a)),t=o.a.createElement("img",Object.assign({src:p,alt:c?"".concat(c," avatar"):""},d,{style:{borderRadius:"50%"},width:u,height:u}))):t=o.a.createElement("svg",Object.assign({style:{width:"".concat(u,"px"),height:"".concat(u,"px")},viewBox:"0 0 24 24"},d),o.a.createElement("path",{fill:"currentColor",d:"M12 19.2c-2.5 0-4.71-1.28-6-3.2.03-2 4-3.1 6-3.1s5.97 1.1 6 3.1a7.232 7.232 0 0 1-6 3.2M12 5a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-3A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10z"})),r?o.a.createElement(l.a,{to:"/player/".concat(c||r),className:"avatar-link link"},t):t}function p(e){var t=e.name,a=e.userId,n=e.username,i=e.className,u=void 0===i?"":i,m=e.isPro,d=e.ellipsis,p=Object(r.useContext)(c.a),h=o.a.createElement("span",{className:"".concat(u," ").concat(p&&a===p.uid?"append-star":"")},t);return!m&&Math.random(),o.a.createElement("div",{style:{display:d?"flex":"inline-block"}},o.a.createElement(l.a,{to:"/player/".concat(n||a),className:"name-link"},h),m&&o.a.createElement(l.a,{to:"/pro",style:{margin:"0 0.4rem"}},o.a.createElement(s.a,{height:"15"})))}function h(e){var t=e.label,a=e.help,r=Object(n.a)(e,["label","help"]),l="input-".concat(~~(1e3*Math.random()));return o.a.createElement("div",{className:"input-container"},o.a.createElement("label",{htmlFor:l},t),o.a.createElement("input",Object.assign({id:l},r)),a?o.a.createElement("p",{className:"input-hint"},a):null)}function f(e){var t=e.label,a=e.value,r=e.help,l=Object(n.a)(e,["label","value","help"]);return o.a.createElement("div",{className:"input-container"},o.a.createElement("label",null,o.a.createElement("input",Object.assign({type:"checkbox",checked:a},l))," ",t),r?o.a.createElement("p",{className:"input-hint"},r):null)}function g(e){var t=e.children,a=e.center;return o.a.createElement("div",{className:"btn-group ".concat(a?"btn-group--center":"")},t)}function b(){return o.a.createElement("div",{style:{padding:"1rem"}},o.a.createElement(m.a,{gap:"5px"},o.a.createElement(u.a,null),o.a.createElement("span",null,"Loading...")))}function y(e){var t=e.tag,a=void 0===t?"div":t,n=e.inline,r=e.style,l=e.children,c=a;return n&&(r.display="inline-block"),o.a.createElement(c,{style:r},l)}function E(e){var t=e.id;return t?t.length>5?"":"#".concat(t):""}function v(e){var t=e.label,a=e.children;return o.a.createElement("span",{role:"img","aria-label":t},a)}},function(e,t,a){var n=a(89);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var o={BIG_BATTLE:"big",MINI_BATTLE:"mini"},l={UPCOMING:"upComing",ONGOING:"onGoing",FINISHED:"finished"},c=[{id:1,slug:"pilot-battle",name:"Pilot Battle",type:o.BIG_BATTLE,levelIds:[1,2,3,4,5,6,7,8,9,10,11,12],startDate:"Apr 4 2019 16:30:00 GMT+0530",endDate:"May 9 2019 16:30:00 GMT+0530",description:"First ever battle of CSSBattle. 12 fun warm-up targets to play and climb the leaderboards."},{id:2,slug:"visibility",name:"Visibility",type:o.BIG_BATTLE,levelIds:[13,14,15,16,17,18],startDate:"May 9 2019 16:30:00 GMT+0530",endDate:"May 30 2019 16:30:00 GMT+0530",description:"6 targets unlock across 3 weeks. Recreate them in the smallest possible CSS code and climb the leaderboards."},{id:3,slug:"cursor",name:"Cursor",type:o.MINI_BATTLE,levelIds:[19,20],startDate:"Jun 1 2019 16:30:00 GMT+0530",endDate:"Jun 3 2019 16:30:00 GMT+0530",description:"First ever mini-battle. 48 hours, 2 Targets. Some intense CSS golfing."},{id:4,slug:"display",name:"Display",type:o.BIG_BATTLE,levelIds:[21,22,23,24,25,26,27,28],startDate:"Jun 12 2019 16:30:00 GMT+0530",endDate:"Jul 3 2019 16:30:00 GMT+0530",description:"8 targets unlock across 3 weeks. Recreate them in the smallest possible CSS code and climb the leaderboard!",sponsor:{name:"SitePoint",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fwww.sitepoint.com%3Futm_source%3Dcss-battles%26utm_medium%3Dreferral%26utm_campaign%3Dlogo-battle&sponsorId=2"},rewards:{gold:"$50",silver:"$30",bronze:"$20",others:"Top 20: SitePoint Premium"}},{id:5,slug:"inline",name:"Inline",type:o.MINI_BATTLE,levelIds:[29,30],startDate:"Jul 13 2019 16:30:00 GMT+0530",endDate:"Jul 15 2019 16:30:00 GMT+0530",description:"48 hours, 2 Targets and some intense CSS golfing."},{id:6,slug:"conic",name:"Conic",type:o.MINI_BATTLE,levelIds:[31,32],startDate:"Jul 19 2019 16:30:00 GMT+0530",endDate:"Jul 21 2019 16:30:00 GMT+0530",description:"48 hours, 2 Targets and some intense CSS golfing."},{id:7,slug:"backface",name:"Backface",type:o.BIG_BATTLE,levelIds:[33,34,35,36,37,38,39,40,41],startDate:"Aug 01 2019 16:30:00 GMT+0530",endDate:"Aug 22 2019 16:30:00 GMT+0530",description:"9 targets unlock across 3 weeks. Recreate them with smallest possible CSS code and climb the leaderboard!"},{id:8,slug:"transition",name:"Transition",type:o.MINI_BATTLE,levelIds:[42,43,44],startDate:"Sep 07 2019 16:30:00 GMT+0530",endDate:"Sep 09 2019 16:30:00 GMT+0530",description:"3 fun targets for the weekend \ud83d\ude00"},{id:9,slug:"margin",name:"Margin",type:o.MINI_BATTLE,levelIds:[45,46],startDate:"Dec 12 2019 16:30:00 GMT+0530",endDate:"Dec 14 2019 16:30:00 GMT+0530",description:"2 fun targets to flex your muscles for the next big battle \ud83d\udd25"},{id:10,slug:"block",name:"Block",type:o.BIG_BATTLE,levelIds:[47,48,49,50,51,52],startDate:"Mar 26 2020 16:30:00 GMT+0530",endDate:"Apr 9 2020 16:30:00 GMT+0530",description:"6 targets to battle out over 2 weeks and learn about best practices against Corona Virus \ud83d\udd25"},{id:11,slug:"overflow",name:"Overflow",type:o.BIG_BATTLE,levelIds:[53,54,55,56,57,58,59,60],startDate:"Jun 9 2020 16:30:00 GMT+0530",endDate:"Jul 9 2020 16:30:00 GMT+0530",description:"8 targets (2 per week) to battle out over 4 weeks and win some cool rewards!",sponsor:{name:"Pastel",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fusepastel.com%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=3"},rewards:{gold:"$50",silver:"$30",bronze:"$20",others:"Top 10: 1-year free Pastel Premium"}},{id:12,slug:"blend",name:"Blend",type:o.BIG_BATTLE,levelIds:[61,62,63,64,65,66,67,68],openLevelIds:[62],startDate:"Nov 21 2020 16:30:00 GMT+0530",endDate:"Dec 20 2020 16:30:00 GMT+0530",description:"8 targets (2 per week, and a new twist) to battle out over 4 weeks and win some cool rewards!",sponsor:{name:"ImprovMX",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fimprovmx.com%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=4"},rewards:{gold:"$80 + ImprovMX premium for 1337 months",silver:"$55 + ImprovMX premium for 42 months",bronze:"$40 + ImprovMX premium for 24 months",others:"4th-10th: $25 + ImprovMX premium for 12 months",note:"Cash prizes will be given in the form of Amazon Gift Cards"}},{id:13,slug:"clip",name:"Clip",type:o.BIG_BATTLE,levelIds:[69,70,71,72,73,74,75,76],openLevelIds:[69,71,73],startDate:"Mar 02 2021 16:30:00 GMT+0530",endDate:"Mar 30 2021 16:30:00 GMT+0530",rewards:{others:"Top 10: Customized limited edition CSSBattle Merchandise"},description:"8 targets (with some open ones!) to battle out over 4 weeks and win some cool rewards!",sponsor:{name:"PushOwl",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fpushowl.com%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=5"}}];function i(e){return e.id.length>6}e.exports={BattleTypes:o,BattleStatuses:l,battles:c,checkIfCustomBattle:i,getBattleStatus:function(e){if(i(e=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach(function(t){n(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e))){if(!e.startDate)return l.UPCOMING;e.startDate=new Date(1e3*e.startDate.seconds),e.endDate=e.endDate?new Date(1e3*e.endDate.seconds):+e.startDate+60*e.duration*1e3}var t=Date.now(),a=new Date(e.startDate).getTime(),o=new Date(e.endDate).getTime();return t<a?l.UPCOMING:t>o?l.FINISHED:l.ONGOING}}},function(e,t,a){"use strict";a.d(t,"a",function(){return c});var n=a(30),r=a(0),o=a.n(r),l=a(13);function c(e){var t=e.type,a=void 0===t?"button":t,r=e.primary,c=e.danger,i=e.extraClasses,s=void 0===i?"":i,u=e.children,m=e.isLoading,d=Object(n.a)(e,["type","primary","danger","extraClasses","children","isLoading"]);return o.a.createElement("button",Object.assign({type:a,className:"button ".concat(r?"button--primary":""," ").concat(c?"button--danger":""," ").concat(s)},d),u," ",m&&o.a.createElement(l.a,null))}},,function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(0),r=a.n(n);function o(e){var t=e.children,a=e.sticky,n=e.keyCombo,o=e.meta;return r.a.createElement("div",{className:"item__header  ".concat(a?"item__header--sticky":"")},r.a.createElement("h3",{className:"header__title"},t),n&&r.a.createElement("p",{className:"key-combo  key-combo--header"}," ",n," "),r.a.createElement("div",{className:"header__extra-info"},o))}},function(e,t,a){"use strict";a.d(t,"b",function(){return o}),a.d(t,"n",function(){return l}),a.d(t,"j",function(){return c}),a.d(t,"d",function(){return i}),a.d(t,"f",function(){return s}),a.d(t,"l",function(){return u}),a.d(t,"m",function(){return m}),a.d(t,"c",function(){return d}),a.d(t,"i",function(){return p}),a.d(t,"k",function(){return h}),a.d(t,"g",function(){return f}),a.d(t,"h",function(){return g}),a.d(t,"e",function(){return b}),a.d(t,"o",function(){return y}),a.d(t,"a",function(){return E});var n=a(65),r=a(40);function o(e,t,a){var n;return function(){var r=this,o=arguments,l=a&&!n;clearTimeout(n),n=setTimeout(function(){n=null,a||e.apply(r,o)},t),l&&e.apply(r,o)}}function l(e,t,a){for(var n=t.split("."),r=e;n.length>1;){var o=n.shift();r[o]=r[o]||{},r=r[o]}return r[n[0]]=a,e}function c(e){return Object.keys(e).forEach(function(t){e[t]&&"object"===typeof e[t]?c(e[t]):void 0!==e[t]&&null!==e[t]||delete e[t]}),e}function i(e){if(0===e)return"-";var t=e%10,a=e%100;return 1===t&&11!==a?e+"st":2===t&&12!==a?e+"nd":3===t&&13!==a?e+"rd":e+"th"}function s(e){return e.replace(/\.(\w+)\?alt/,"_64.$1?alt")}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=Date.now()+1e3*e;!function e(){Object(n.a)({particleCount:1,startVelocity:0,ticks:100,origin:{x:Math.random(),y:Math.random()-.2},colors:[["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"][~~(7*Math.random())]]}),Date.now()<t&&requestAnimationFrame(e)}()}var m=function(e){"object"!==typeof e&&(e=new Date(e));var t,a=Math.floor((new Date-e)/1e3),n=Math.floor(a/31536e3);return n>=1?t="year":(n=Math.floor(a/2592e3))>=1?t="month":(n=Math.floor(a/86400))>=1?t="day":(n=Math.floor(a/3600))>=1?t="hour":(n=Math.floor(a/60))>=1?t="minute":(n=a,t="second"),(n>1||0===n)&&(t+="s"),n+" "+t};function d(e,t){var a=Math.abs(new Date(t)-new Date(e))/1e3,n=Math.floor(a/86400);a-=86400*n;var r=Math.floor(a/3600)%24;a-=3600*r;var o=Math.floor(a/60)%60;return a-=60*o,{days:n,hours:r,minutes:o,seconds:Math.floor(a%60)}}function p(e){var t={};["uid","displayName","photoURL","isPro","settings"].map(function(a){return t[a]=e[a]}),window.localStorage.setItem("lastUser",JSON.stringify(t))}function h(e,t){return new Function("code","\n  ".concat(e.code,"\n\n  return run(code);\n  "))(t)}function f(e){for(var t,a,n=0;n<e.length-1;){for(var r=n;r+1<e.length&&(t=e[n],a=e[r+1],t.data.userId===a.data.userId&&t.data.levelId===a.data.levelId&&t.data.previousUserId===a.data.previousUserId);)e[n].data.previousUserCodeSize=e[r+1].data.previousUserCodeSize,r++;n!==r&&e.splice(n+1,r-n),n++}}function g(e){for(var t,a,n=0;n<e.length-1;){for(var r=n+1;r<e.length;)t=e[n],a=e[r],t.code.trim()===a.code.trim()?e.splice(r,1):r++;n++}}function b(){for(var e="abcdefghijklmnopqrstuvqxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="",a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;a--;)t+=e[~~(Math.random()*e.length)];return t}function y(e){var t=e.path,n=e.file;a(64);var o=r.storage().ref().child(t).put(n);return new Promise(function(e,a){o.on("state_changed",function(e){},function(e){console.log(e),a()},function(){e("https://firebasestorage.googleapis.com/v0/b/cssbattleapp.appspot.com/o/".concat(encodeURIComponent(t),"?alt=media"))})})}function E(e){return e.length>6}},,,function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return l});var n=a(0),r=a.n(n);function o(){return r.a.createElement("svg",{viewBox:"0 0 166 166",height:"1.6em",style:{margin:"0 0.8rem"},className:"loader"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M83 166c-45.84 0-83-37.16-83-83S37.16 0 83 0s83 37.16 83 83-37.16 83-83 83zm0-29c29.823 0 54-24.177 54-54s-24.177-54-54-54-54 24.177-54 54 24.177 54 54 54z",fill:"currentColor",style:{opacity:.2}}),r.a.createElement("path",{d:"M137.008 83H137c0-29.823-24.177-54-54-54S29 53.177 29 83h-.008c.005.166.008.333.008.5C29 91.508 22.508 98 14.5 98S0 91.508 0 83.5c0-.167.003-.334.008-.5H0C0 37.16 37.16 0 83 0s83 37.16 83 83h-.008c.005.166.008.333.008.5 0 8.008-6.492 14.5-14.5 14.5S137 91.508 137 83.5c0-.167.003-.334.008-.5z",fill:"currentColor"}),r.a.createElement("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 83 83",to:"360 83 83",repeatCount:"indefinite"})))}function l(e){var t=e.children;return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"2rem 1rem"}},r.a.createElement(o,null)," ",t)}},function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(0),r=a.n(n).a.createContext({user:null,setUser:function(){}})},function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(0),r=a(14);function o(){return Object(n.useContext)(r.a)}},function(e,t,a){e.exports={halfAndHalf:"Homepage_halfAndHalf__2Kdwr",customBattle:"Homepage_customBattle__1KqdX",customBattleHighlighted:"Homepage_customBattleHighlighted__26Y7x",customBattle_flex:"Homepage_customBattle_flex__DPs-4",customBattle_name:"Homepage_customBattle_name__3O3Rk",buttons:"Homepage_buttons__3a3xg",viewButton:"Homepage_viewButton__1fBiE",homepageTopFlex:"Homepage_homepageTopFlex__2AEhC",liveCounterContainer:"Homepage_liveCounterContainer__2eC9j",liveCounter:"Homepage_liveCounter__z9fw2",liveCounterEmoji:"Homepage_liveCounterEmoji__1-xYV"}},,,,,,,,,,,function(e,t,a){e.exports={BattleTile:"BattleTile_BattleTile__3JuWT",BattleTile___ongoing:"BattleTile_BattleTile___ongoing__3JuFI",BattleTile___upcoming:"BattleTile_BattleTile___upcoming__33Pzd",BattleTile_content:"BattleTile_BattleTile_content__1lD6d",BattleTile_desc:"BattleTile_BattleTile_desc__QZlEn",BattleTile_name:"BattleTile_BattleTile_name__cZ2mz",BattleTile_leaders:"BattleTile_BattleTile_leaders__210yX",BattleTile_info:"BattleTile_BattleTile_info__23Y1k",BattleTile_header:"BattleTile_BattleTile_header__2xkCg",BattleTile_countdown:"BattleTile_BattleTile_countdown__316w_",BattleTile_targets:"BattleTile_BattleTile_targets__2wy1Z",BattleTile_target:"BattleTile_BattleTile_target__1hVXU"}},function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(0),r=a.n(n),o=function(e){var t=e.height,a=void 0===t?18:t,n=e.style;return r.a.createElement("img",{height:a,className:"pro-badge",style:n,src:"/images/pro-badge.svg",alt:"Pro badge"})}},function(e,t){e.exports=[{id:1,name:"Simply Square",image:"/targets/1.png",colors:["#5d3a3a","#b5e0ba"]},{id:2,name:"Carrom",image:"/targets/2.png",colors:["#62374e","#fdc57b"]},{id:3,name:"Push Button",image:"/targets/3.png",colors:["#6592CF","#243D83","#EEB850"]},{id:4,name:"Ups n Downs",image:"/targets/4.png",colors:["#62306D","#F7EC7D"]},{id:5,name:"Acid Rain",image:"/targets/5.png",colors:["#0B2429","#F3AC3C","#998235"]},{id:6,name:"Missing Slice",image:"/targets/6.png",colors:["#E3516E","#F7F3D7","#51B5A9","#FADE8B"]},{id:7,name:"Leafy Trail",image:"/targets/7.png",colors:["#0B2429","#F3AC3C","#998235","#1A4341"]},{id:8,name:"Forking Crazy",image:"/targets/8.png",colors:["#6592CF","#060F55"]},{id:9,name:"Tesseract",image:"/targets/9.png",colors:["#222730","#4CAAB3","#393E46"]},{id:10,name:"Cloaked Spirits",image:"/targets/10.png",colors:["#62306D","#F7EC7D","#AA445F","#E38F66"]},{id:11,name:"Eye of Sauron",image:"/targets/11.png",colors:["#191210","#ECA03D","#84271C"]},{id:12,name:"Wiggly Moustache",image:"/targets/12.png",colors:["#F5D6B4","#D86F45"]},{id:13,name:"Totally Triangle",image:"/targets/13.png",colors:["#0B2429","#F3AC3C"]},{id:14,name:"Web Maker Logo",image:"/targets/14.png",colors:["#F2F2B6","#FF6D00","#FD4602"]},{id:15,name:"Overlap",image:"/targets/15.png",colors:["#09042A","#7B3F61","#E78481"]},{id:16,name:"Eye of the Tiger",image:"/targets/16.png",colors:["#0B2429","#998235","#F3AC3C"]},{id:17,name:"Fidget Spinner",image:"/targets/17.png",colors:["#09042A","#E78481","#F5BB9C"]},{id:18,name:"Matrix",image:"/targets/18.png",colors:["#5C434C","#F09462","#F5D6B4"]},{id:19,name:"Cube",image:"/targets/19.png",colors:["#0B2429","#F3AC3C","#998235","#1A4341"]},{id:20,name:"Ticket",image:"/targets/20.png",colors:["#62306D","#F7EC7D","#E38F66"]},{id:21,name:"SitePoint Logo",image:"/targets/21.png",colors:["#222","#F2994A","#2D9CDB"]},{id:22,name:"Cloud",image:"/targets/22.png",colors:["#F5D6B4","#D86F45"]},{id:23,name:"Boxception",image:"/targets/23.png",colors:["#F3AC3C","#1A4341","#998235"]},{id:24,name:"Switches",image:"/targets/24.png",colors:["#62306D","#F7EC7D","#AA445F","#E38F66"]},{id:25,name:"Blossom",image:"/targets/25.png",colors:["#998235","#1A4341","#F3AC3C"]},{id:26,name:"Smiley",image:"/targets/26.png",colors:["#6592CF","#060F55"]},{id:27,name:"Lock Up",image:"/targets/27.png",colors:["#E38F66","#AA445F","#F7EC7D"]},{id:28,name:"Cups & Balls",image:"/targets/28.png",colors:["#1A4341","#998235","#F3AC3C"]},{id:29,name:"Suffocate",image:"/targets/29.png",colors:["#F3AC3C","#1A4341"]},{id:30,name:"Horizon",image:"/targets/30.png",colors:["#F7EC7D","#E38F66","#AA445F","#62306D"]},{id:31,name:"Equals",image:"/targets/31.png",colors:["#AA445F","#F7EC7D","#E38F66"]},{id:32,name:"Band-aid",image:"/targets/32.png",colors:["#FFFFFF","#F3AC3C","#A3A368","#FBE18C"]},{id:33,name:"Birdie",image:"/targets/33.png",colors:["#1A4341","#998235","#F3AC3C","#0B2429"]},{id:34,name:"Christmas Tree",image:"/targets/34.png",colors:["#007065","#FFEECF","#F5C181","#00A79D"]},{id:35,name:"Ice Cream",image:"/targets/35.png",colors:["#293462","#FFF1C1","#FE5F55","#A64942"]},{id:36,name:"Interleaved",image:"/targets/36.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:37,name:"Tunnel",image:"/targets/37.png",colors:["#6592CF","#243D83"]},{id:38,name:"Not Simply Square",image:"/targets/38.png",colors:["#293462","#FFF1C1","#FE5F55","#A64942"]},{id:39,name:"Sunset",image:"/targets/39.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:40,name:"Letter B",image:"/targets/40.png",colors:["#6592CF","#243D83"]},{id:41,name:"Fox Head",image:"/targets/41.png",colors:["#293462","#FE5F55"]},{id:42,name:"Baby",image:"/targets/42.png",colors:["#293462","#FE5F55","#FFF1C1"]},{id:43,name:"Wrench",image:"/targets/43.png",colors:["#6592CF","#243D83"]},{id:44,name:"Stripes",image:"/targets/44.png",colors:["#1A4341","#F3AC3C"]},{id:45,name:"Magical Tree",image:"/targets/45.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:46,name:"Mountains",image:"/targets/46.png",colors:["#293462","#FFF1C1","#FE5F55"]},{id:47,name:"Corona Virus",image:"/targets/47.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:48,name:"Wash Your Hands",image:"/targets/48.png",colors:["#293462","#FE5F55","#A64942"]},{id:49,name:"Stay at Home",image:"/targets/49.png",colors:["#6592CF","#243D83","#EEB850"]},{id:50,name:"Use Hand Sanitizer",image:"/targets/50.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:51,name:"Wear a Mask",image:"/targets/51.png",colors:["#293462","#FFF1C1","#FE5F55"]},{id:52,name:"Break the Chain",image:"/targets/52.png",colors:["#6592CF","#243D83","#EEB850"]},{id:53,name:"Pastel Logo",image:"/targets/53.png",colors:["#19191A","#4F77FF","#9AD5FF","#F9E492"]},{id:54,name:"Black Lives Matter",image:"/targets/54.png",colors:["#191919","#F9E492"]},{id:55,name:"Windmill",image:"/targets/55.png",colors:["#191919","#F9E492","#4F77FF"]},{id:56,name:"Skull",image:"/targets/56.png",colors:["#191919","#4F77FF"]},{id:57,name:"Pillars",image:"/targets/57.png",colors:["#191919","#4F77FF","#F9E492"]},{id:58,name:"Rose",image:"/targets/58.png",colors:["#191919","#4F77FF","#F9E492"]},{id:59,name:"Earth",image:"/targets/59.png",colors:["#191919","#4F77FF"]},{id:60,name:"Evil Triangles",image:"/targets/60.png",colors:["#191919","#4F77FF"]},{id:61,name:"ImprovMX",image:"/targets/61.png",colors:["#191919","#5DBCF9"]},{id:62,name:"Sunset",isOpen:!0,image:"/targets/62.png",colors:["#191919","#F2AD43","#E08027","#824B20","#FFF58F"]},{id:63,name:"Command Key",image:"/targets/63.png",colors:["#191919","#5DBCF9"]},{id:64,name:"Door Knob",image:"/targets/64.png",colors:["#191919","#E08027","#824B20","#FFF58F"]},{id:65,name:"Max Volume",image:"/targets/65.png",colors:["#191919","#5DBCF9"]},{id:66,name:"Batmicky",image:"/targets/66.png",colors:["#191919","#F2AD43"]},{id:67,name:"Video Reel",image:"/targets/67.png",colors:["#191919","#5DBCF9"]},{id:68,name:"Bell",image:"/targets/68.png",colors:["#191919","#E08027","#F2AD43","#824B20"]},{id:69,name:"PushOwl",image:"/targets/69.png",colors:["#191919","#E08027"],isOpen:!0},{id:70,name:"Froggy",image:"/targets/70.png",colors:["#293462","#FE5F55","#A64942","#FFF1C1"]},{id:71,name:"Elephant",image:"/targets/71.png",colors:["#998235","#1A4341","#0B2429","#FFFFFF"],isOpen:!0},{id:72,name:"Sheep",image:"/targets/72.png",colors:["#243D83","#6592CF"]},{id:73,name:"Happy Tiger",image:"/targets/73.png",colors:["#F3AC3C","#998235","#1A4341","#FFFFFF"],isOpen:!0},{id:74,name:"Danger Noodle",image:"/targets/74.png",colors:["#191919","#E08027"]},{id:75,name:"Hippo",image:"/targets/75.png",colors:["#191919","#A64942","#FE5F55","#000000"]},{id:76,name:"Beeee",image:"/targets/76.png",colors:["#998235","#FFFFFF","#EFF33C","#191919"]}]},,function(e,t){e.exports=[{id:1,name:"Processful",description:"Easy pricess management for modern teams.",website:"https://processful.io/",image:"/jobs/5.webp",title:"Senior Frontend Engineer",location:"Europe, Russia",url:"mailto:jobs@processful.io",salary:"$48,000 - $98,000",startDate:"Jan 21 2021 20:30:00 GMT+0530",endDate:"Feb 21 2021 20:30:00 GMT+0530",showOnHomepage:!0},{id:2,name:"Vinovest",description:"The simplest way to invest in fine wine.",website:"https://www.vinovest.co/",image:"/jobs/1.jpeg",title:"Senior Frontend Engineer",location:"100% Remote",url:"https://www.vinovest.co/careers#job-575209",salary:"Competitive salary",startDate:"Jan 21 2021 20:30:00 GMT+0530",endDate:"Feb 21 2021 20:30:00 GMT+0530",showOnHomepage:!1},{id:3,name:"Clevertech",description:"Tech at the speed of ideas.",website:"https://www.clevertech.biz/",image:"/jobs/2.jpeg",title:"Senior React Developer",location:"100% Remote",url:"https://clevertech.biz/careers/senior-react-developer/apply",salary:"Competitive salary",startDate:"Jan 21 2021 18:30:00 GMT+0530",endDate:"Feb 21 2021 18:30:00 GMT+0530",showOnHomepage:!1},{id:4,name:"Teaching.com",description:"Developing Children's Futures, Helping Educators Now.",website:"https://teaching.com/",image:"/jobs/3.jpeg",title:"Senior Front End Engineer",location:"100% Remote",url:"https://jobs.lever.co/teaching/4b1ec64f-0b2f-4f07-afd6-05e36b40364e",salary:"Competitive salary",startDate:"Jan 21 2021 17:30:00 GMT+0530",endDate:"Feb 21 2021 17:30:00 GMT+0530",showOnHomepage:!1},{id:5,name:"NuffSaid, Inc",description:"Get your actual work done.",website:"https://www.nuffsaid.com/",image:"/jobs/4.jpeg",title:"Staff Frontend Engineer",location:"100% Remote",url:"https://nuffsaid-inc.breezy.hr/p/8f8ae1d36c77-staff-frontend-engineer?source=cssbattle",salary:"Competitive salary + equity",startDate:"Jan 21 2021 16:30:00 GMT+0530",endDate:"Feb 21 2021 16:30:00 GMT+0530",showOnHomepage:!1}]},function(e,t,a){e.exports={duration:"BattleDurationInput_duration__3dFeq",durationInput:"BattleDurationInput_durationInput__30vU2",radio:"BattleDurationInput_radio__1uQ_u",creditItem:"BattleDurationInput_creditItem__3CoYU",creditInfo:"BattleDurationInput_creditInfo__1llq0",creditItem___selected:"BattleDurationInput_creditItem___selected__jLRy7",creditItem___success:"BattleDurationInput_creditItem___success__3NhKd",creditItem___warning:"BattleDurationInput_creditItem___warning__cO0hY",creditText:"BattleDurationInput_creditText__35dbt"}},,function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(0),r=a.n(n),o=function(e){var t=e.dropdownBtnClasses,a=void 0===t?"":t,o=e.dropdownMenuClasses,l=void 0===o?"":o,c=e.dropdownBtnContent,i=e.onOpen,s=e.children,u=Object(n.useRef)();function m(e){u.current&&(u.current.contains(e.target)||u.current.removeAttribute("open"))}return Object(n.useEffect)(function(){return document.addEventListener("click",m,!1),function(){document.removeEventListener("click",m)}},[]),r.a.createElement("details",{ref:u,className:"dropdown-container",onToggle:function(){i&&u.current.hasAttribute("open")&&i()}},r.a.createElement("summary",{className:"dropdown-btn ".concat(a)},c),r.a.createElement("div",{className:"dropdown-menu  ".concat(l)},s))}},,function(e,t,a){"use strict";a.d(t,"a",function(){return c});var n=a(0),r=a.n(n),o=a(9),l=a(72);function c(e){var t=e.isOpen,a=e.onRequestClose,n=e.size,c=void 0===n?"big":n,i=e.extraClasses,s=e.header,u=e.children;return t?r.a.createElement(l.a,{isOpen:t,onDismiss:a,className:"modal--".concat(c," ").concat(i)},s?r.a.createElement(o.a,null,s):null,r.a.createElement("div",{style:{padding:"2rem"}},u)):null}},function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(0);function r(e){var t=e.gap,a=void 0===t?"1rem":t,r=e.align,o=void 0===r?"center":r,l=e.justify,c=void 0===l?"flex-start":l,i=e.children;return n.createElement("div",{style:{display:"flex",gap:a,alignItems:o,justifyContent:c}},i)}},function(e,t,a){e.exports={targetInputHint:"BattleCreatePage_targetInputHint__3v3h7",targetsList:"BattleCreatePage_targetsList__3CfU0",addTarget:"BattleCreatePage_addTarget__3a4U4",targetTile:"BattleCreatePage_targetTile__2_Lul",buttonsOnHover:"BattleCreatePage_buttonsOnHover__1pRvF"}},,,,,,,,function(e,t,a){e.exports={halfInputs:"Styles_halfInputs__2Bt6j"}},,,,,,,,,,function(e,t,a){a(40).initializeApp({apiKey:"AIzaSyCR1oteCf0oGnq0HXymDmcn0jOf7IXUmuo",authDomain:"cssbattleapp.firebaseapp.com",databaseURL:"https://cssbattleapp.firebaseio.com",projectId:"cssbattleapp",storageBucket:"cssbattleapp.appspot.com",messagingSenderId:"924387938820"})},,,,,,,,,,,function(e,t,a){e.exports={breadcrumbs:"Header_breadcrumbs__11c3d"}},function(e,t,a){},,function(e,t,a){e.exports={pricing:"SettingsCustomBattlePurchases_pricing__2uXl5"}},function(e,t,a){e.exports={Cluster:"Layouts_Cluster__2spKv",addTarget:"Layouts_addTarget__3eCuo",targetTile:"Layouts_targetTile__jWd-q",buttonsOnHover:"Layouts_buttonsOnHover__1zKC5"}},,,,,,function(e,t,a){e.exports=a(112)},,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(43),l=a.n(o),c=(a(82),a(12)),i=a(1),s=(a(56),a(18)),u=a(2),m=a.n(u),d=a(8),p=a(4);function h(){return f.apply(this,arguments)}function f(){return(f=Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session?action=add");case 2:return t=e.sent,e.next=5,t.text();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var g=60;function b(){Object(n.useEffect)(function(){var e;(function(){var e=new RegExp("(googlebot/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)","i"),t=navigator.userAgent;return e.test(t)})()||window.sessionStorage.getItem("cssbattleSessionLogged")||(window.sessionStorage.setItem("cssbattleSessionLogged",!0),h().then(function(t){return e=t}),setInterval(function(){h().then(function(t){return e=t})},1e3*(g+5)),window.addEventListener("beforeunload",function(){navigator.sendBeacon("/api/session?action=remove&sessionId=".concat(e))}))},[])}var y=function(e){var t,a=e.name,n=e.color,o=e.size,l=void 0===o?20:o,c=e.marginRight,i=e.marginLeft;return"tick"===a&&(t=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM16.1947 7.19467C16.7876 6.60178 17.7124 6.60178 18.3053 7.19467C18.8982 7.78756 18.8982 8.71244 18.3053 9.30533L10.8053 16.8053C10.6861 16.9246 10.537 17.0439 10.3452 17.1291C10.1502 17.2158 9.95001 17.25 9.75 17.25C9.54999 17.25 9.34978 17.2158 9.15477 17.1291C8.96302 17.0439 8.81395 16.9246 8.69467 16.8053L5.69467 13.8053C5.10178 13.2124 5.10178 12.2876 5.69467 11.6947C6.28756 11.1018 7.21244 11.1018 7.80533 11.6947L9.75 13.6393L16.1947 7.19467Z",fill:"#48BB79"})),"error"===a&&(t=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM10 6C10 4.89543 10.8954 4 12 4C13.1046 4 14 4.89543 14 6V12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12V6ZM12 16C10.8954 16 10 16.8954 10 18C10 19.1046 10.8954 20 12 20C13.1046 20 14 19.1046 14 18C14 16.8954 13.1046 16 12 16Z",fill:"#F83C3B"})),"user"===a&&(t=r.a.createElement("path",{fill:"currentColor",d:"M12 19.2c-2.5 0-4.71-1.28-6-3.2.03-2 4-3.1 6-3.1s5.97 1.1 6 3.1a7.232 7.232 0 0 1-6 3.2M12 5a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-3A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10z"})),"help"===a&&(t=r.a.createElement("path",{fill:"currentColor",d:"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"})),"battle"===a&&(t=r.a.createElement("path",{fill:"currentColor",d:"M6.2,2.44L18.1,14.34L20.22,12.22L21.63,13.63L19.16,16.1L22.34,19.28C22.73,19.67 22.73,20.3 22.34,20.69L21.63,21.4C21.24,21.79 20.61,21.79 20.22,21.4L17,18.23L14.56,20.7L13.15,19.29L15.27,17.17L3.37,5.27V2.44H6.2M15.89,10L20.63,5.26V2.44H17.8L13.06,7.18L15.89,10M10.94,15L8.11,12.13L5.9,14.34L3.78,12.22L2.37,13.63L4.84,16.1L1.66,19.29C1.27,19.68 1.27,20.31 1.66,20.7L2.37,21.41C2.76,21.8 3.39,21.8 3.78,21.41L7,18.23L9.44,20.7L10.85,19.29L8.73,17.17L10.94,15Z"})),"link"===a&&(t=r.a.createElement("path",{fill:"currentColor",d:"M14.6667 0V2.66667H19.4533L6.34667 15.7733L8.22667 17.6533L21.3333 4.54667V9.33333H24V0H14.6667ZM21.3333 21.3333H2.66667V2.66667H12V0H2.66667C1.18667 0 0 1.2 0 2.66667V21.3333C0 22.0406 0.280951 22.7189 0.781048 23.219C1.28115 23.719 1.95942 24 2.66667 24H21.3333C22.0406 24 22.7189 23.719 23.219 23.219C23.719 22.7189 24 22.0406 24 21.3333V12H21.3333V21.3333Z"})),"bell"===a&&(t=r.a.createElement("path",{fill:"currentColor",d:"M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21"})),"twitter"===a&&(t=r.a.createElement("path",{fill:"currentColor",d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"})),"github"===a&&(t=r.a.createElement("path",{fill:"currentColor",d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"})),"codepen"===a&&(t=r.a.createElement("path",{fill:"currentColor",d:"M15.09,12L12,14.08V14.09L8.91,12L12,9.92V9.92L15.09,12M12,2C11.84,2 11.68,2.06 11.53,2.15L2.5,8.11C2.27,8.22 2.09,8.43 2,8.67V14.92C2,15.33 2,15.33 2.15,15.53L11.53,21.86C11.67,21.96 11.84,22 12,22C12.16,22 12.33,21.95 12.47,21.85L21.85,15.5C22,15.33 22,15.33 22,14.92V8.67C21.91,8.42 21.73,8.22 21.5,8.1L12.47,2.15C12.32,2.05 12.16,2 12,2M16.58,13L19.59,15.04L12.83,19.6V15.53L16.58,13M19.69,8.9L16.58,11L12.83,8.47V4.38L19.69,8.9M20.33,10.47V13.53L18.07,12L20.33,10.47M7.42,13L11.17,15.54V19.6L4.41,15.04L7.42,13M4.31,8.9L11.17,4.39V8.5L7.42,11L4.31,8.9M3.67,10.5L5.93,12L3.67,13.54V10.5Z"})),"earth"===a&&(t=r.a.createElement("path",{fill:"currentColor",d:"M17.9,17.39C17.64,16.59 16.89,16 16,16H15V13A1,1 0 0,0 14,12H8V10H10A1,1 0 0,0 11,9V7H13A2,2 0 0,0 15,5V4.59C17.93,5.77 20,8.64 20,12C20,14.08 19.2,15.97 17.9,17.39M11,19.93C7.05,19.44 4,16.08 4,12C4,11.38 4.08,10.78 4.21,10.21L9,15V16A2,2 0 0,0 11,18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})),"plus-round"===a&&(t=r.a.createElement("path",{fill:"currentColor",d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})),r.a.createElement("svg",{width:l,height:l,viewBox:"0 0 24 24",fill:n||"none",style:{verticalAlign:"middle",marginRight:c||"0.5rem",marginLeft:i||"0"},xmlns:"http://www.w3.org/2000/svg"},t)},E=a(34),v=a(14),_=a(10),w=function(e){var t=e.imageUrl,a=e.actionLink,n=e.timeStamp,o=e.children,l=r.a.createElement("svg",{style:{width:"30px",height:"30px"},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"currentColor",d:"M12 19.2c-2.5 0-4.71-1.28-6-3.2.03-2 4-3.1 6-3.1s5.97 1.1 6 3.1a7.232 7.232 0 0 1-6 3.2M12 5a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-3A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10z"}));return r.a.createElement("div",{className:"notification-item"},r.a.createElement("div",{className:"notification-item__content"},r.a.createElement("div",{className:"notification-item__image"},t?r.a.createElement("img",{src:t,alt:""}):l),r.a.createElement("div",{className:"notification-item__text"},o,r.a.createElement("div",{className:"notification-item__time"},Object(_.m)(n)," ago"))),a?r.a.createElement(p.a,{to:a,className:"shadow-link"}):null)},N=a(3);function C(e,t){var a=Object(n.useState)(function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return console.log(n),t}}),r=Object(i.a)(a,2),o=r[0],l=r[1];return[o,function(t){try{var a=t instanceof Function?t(o):t;l(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(n){console.log(n)}}]}function S(e){return O.apply(this,arguments)}function O(){return(O=Object(d.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],t.forEach(function(e){"follow"===e.type&&a.push(Object(N.z)(e.data.followerId).then(function(t){e.data.follower=t}))}),e.next=4,Promise.all(a);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function j(){var e=Object(n.useContext)(v.a),t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],l=a[1],c=C("lastReadNotificationTimestamp",0),s=Object(i.a)(c,2),u=s[0],p=s[1],h=Object(n.useState)(0),f=Object(i.a)(h,2),g=f[0],b=f[1];return Object(n.useEffect)(function(){if(e){var t=Object(N.H)(e.uid,function(){var e=Object(d.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:l(t),b(t.filter(function(e){return e.timestamp>u}).length);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());return function(){t()}}},[e?e.uid:""]),r.a.createElement(E.a,{dropdownMenuClasses:"dropdown-menu--right  dropdown-menu--notifications",onOpen:function(){o.length&&(p(o[0].timestamp),b(0))},dropdownBtnContent:r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{name:"bell",size:"20",marginRight:"0"}),g?r.a.createElement("div",{className:"notifications-count  notifications-count--visible"},g):null)},o.length?null:r.a.createElement("p",{style:{padding:"1.25rem"}},"Nothing to see here."),o.map(function(e){return r.a.createElement(w,{key:e.id,timeStamp:e.timestamp,actionLink:"/player/".concat(e.data.follower.username||e.data.followerId),imageUrl:e.data.follower.avatar},e.data.follower.displayName," added you as a friend!")}))}var I,k,B,T=a(28),x=a(6),F=a(21),A=(I={},Object(F.a)(I,x.BattleStatuses.UPCOMING,"#feda44"),Object(F.a)(I,x.BattleStatuses.ONGOING,"#46d158"),Object(F.a)(I,x.BattleStatuses.FINISHED,"#a3483d"),I),L=(k={},Object(F.a)(k,x.BattleStatuses.UPCOMING,"#000"),Object(F.a)(k,x.BattleStatuses.ONGOING,"#000"),Object(F.a)(k,x.BattleStatuses.FINISHED,"#fff"),k),M=(B={},Object(F.a)(B,x.BattleStatuses.UPCOMING,"Upcoming"),Object(F.a)(B,x.BattleStatuses.ONGOING,"In Progress"),Object(F.a)(B,x.BattleStatuses.FINISHED,"Finished"),B);function P(e){var t=e.status,a=e.minimal;return r.a.createElement("div",{className:"battle-status ".concat(a?"battle-status--minimal hint--right":""),style:{backgroundColor:A[t],color:L[t]},"aria-label":a?M[t]:""},a?"":M[t])}var D=function(e){var t=e.name,a=e.category,n=e.label;window.gtag("event",t,{event_category:a,event_label:n})},G=a(67),H=a.n(G),R=a(5),U=a(37),z=a(40);function V(e){var t=e.battleId,a=e.battleName;return r.a.createElement(E.a,{onOpen:function(){D({name:t?"switchBattleDropdownOpen":"chooseBattleDropdownOpen"})},dropdownBtnContent:t?r.a.createElement(r.a.Fragment,null,"Battle ",r.a.createElement(R.h,{id:t}),r.a.createElement("span",{className:"desktop-only"}," - ",a)):r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{name:"battle",size:"20"}),r.a.createElement("span",{className:"desktop-only"},"Choose Battle"))},x.battles.slice(0).reverse().map(function(e,t){return r.a.createElement(p.a,{className:"dropdown-menu__item",to:"/battle/".concat(e.id),key:e.id},"#",e.id," - ",e.name," ",r.a.createElement(P,{status:Object(x.getBattleStatus)(e)}))}))}function Y(e){var t=e.levelId,a=e.level,o=e.battleId,l=e.battleName,c=Object(n.useContext)(v.a);b();var s=c?(c.displayName||"User").split(" ")[0]:"",u=Object(n.useState)(),m=Object(i.a)(u,2),d=m[0],h=m[1],f=Object(n.useState)(),g=Object(i.a)(f,2),_=g[0],w=g[1];Object(n.useEffect)(function(){a&&Object(N.d)(a).then(function(e){return h(e),e}).then(function(e){Object(N.f)(e.levelIds).then(w)})},[a]);var C=Object(n.useState)(c&&c.settings?c.settings.theme:"dark"),S=Object(i.a)(C,2),O=S[0],I=S[1];function k(e){var t=e.target.value;if("dark"===t)document.querySelector("#lightThemeLink")&&document.querySelector("#lightThemeLink").remove();else{var a=document.createElement("link");a.href="/light-theme.css",a.rel="stylesheet",a.id="lightThemeLink",document.head.append(a)}Object(N.K)(c.uid,{"settings.theme":t}).then(function(){D({name:"themeChanged",label:t})})}return Object(n.useEffect)(function(){c&&c.settings&&c.settings.theme&&I(c.settings.theme)},[c]),r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__left"},r.a.createElement("h1",{className:"logo",title:"CSSBattle"},r.a.createElement("span",{className:"visually-hidden"},"CSSBattle"),r.a.createElement(p.a,{to:"/"})),r.a.createElement("div",{className:H.a.breadcrumbs},d?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"level"},r.a.createElement(p.a,{to:"/battle/".concat(d.id),key:d.id},"Battle ",r.a.createElement(R.h,{id:d.id})," - ",d.name)),_?r.a.createElement(E.a,{onOpen:function(){D({name:"switchTargetDropdownOpen"})},dropdownBtnContent:r.a.createElement(r.a.Fragment,null,r.a.createElement(R.h,{id:t})," - ",a.name)},_.map(function(e){var t=e.id,a=e.name;return t?r.a.createElement(p.a,{className:"dropdown-menu__item",to:"/play/".concat(t),key:t},r.a.createElement(R.h,{id:t})," - ",a):""})):null):null,o?r.a.createElement(V,{battleId:o,battleName:l}):null,t||o?null:r.a.createElement(V,null))),r.a.createElement("div",{className:"header__right"},r.a.createElement("a",{href:"/learn",className:"button--cssbattle desktop-only"},"CSSBattle Learn"),r.a.createElement(p.a,{className:"button",to:"/jobs"},r.a.createElement(U.a,null,r.a.createElement("svg",{width:"20",height:"20",fill:"none",style:{marginRight:"-0.25rem"}},r.a.createElement("path",{d:"M1.667 2.5h16.666A1.725 1.725 0 0120 4.167v11.666a1.725 1.725 0 01-1.667 1.667H1.667A1.725 1.725 0 010 15.833V4.167A1.725 1.725 0 011.667 2.5zm5 9.092c-1.667 0-5 .908-5 2.575V15h10v-.833c0-1.667-3.334-2.575-5-2.575zm0-6.592a2.5 2.5 0 100 5 2.5 2.5 0 000-5zm7.5 3.333v2.5H17.5v-2.5h-3.333z",fill:"currentColor"})),"Jobs")),r.a.createElement("div",{style:{display:"inline-block"},className:"desktop-only"},r.a.createElement(E.a,{dropdownMenuClasses:"dropdown-menu--right  dropdown-menu--text",dropdownBtnContent:r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{name:"help",size:"20",marginRight:c?"0":"10"}),r.a.createElement("span",{className:"".concat(c?"visually-hidden":"")},"How to play"))},r.a.createElement("p",{className:"para"},"The objective of the game is to write HTML/CSS to replicate the given target image in the least code possible."),r.a.createElement("p",{className:"para"},"In the target page, start coding in the editor area on the left. As you start typing, the output area in the middle will start rendering your code. When you're confident that the output matches the target image, hit the ",r.a.createElement("strong",null,"Submit")," button to see your score."),r.a.createElement("h4",null,"Important points to Note:"),r.a.createElement("ul",{className:"unordered-list"},r.a.createElement("li",null,"What you write in the editor, renders as it is. We make no change. This means you don't even get the"," ",r.a.createElement("a",{href:"https://www.w3.org/wiki/Doctypes_and_markup_styles",rel:"external noopener noreferrer"},r.a.createElement("code",null,"DOCTYPE"))),r.a.createElement("li",null,'Since this is "CSS" battle, you are'," ",r.a.createElement("strong",null,"not allowed to use JavaScript or images in your code. In fact any external asset is not allowed.")," ","All code required to generate the target image has to be written in the given editor only.")),r.a.createElement("p",{className:"para"}," Now go and climb the leaderboards!"))),c?r.a.createElement(j,null):null,c?r.a.createElement("div",{className:"user-info"},r.a.createElement(E.a,{dropdownBtnClasses:"dropdown-btn--user",dropdownMenuClasses:"dropdown-menu--right",dropdownBtnContent:r.a.createElement(r.a.Fragment,null,c.photoURL?r.a.createElement("img",{src:c.photoURL,className:"user-info__avatar",alt:"User profile"}):r.a.createElement(y,{name:"user",size:"28"}),s,c.isPro&&r.a.createElement(T.a,null))},c.isPro?r.a.createElement("div",{className:"filter  generic-filter",style:{minWidth:"22rem"}},r.a.createElement("span",{className:"filter__button"},r.a.createElement("input",{type:"radio",name:"theme-filter",id:"dark",value:"dark",defaultChecked:"dark"===O,onChange:k}),r.a.createElement("label",{htmlFor:"dark"},"Dark Theme")),r.a.createElement("span",{className:"filter__button"},r.a.createElement("input",{type:"radio",name:"theme-filter",id:"light",value:"light",defaultChecked:"light"===O,onChange:k}),r.a.createElement("label",{htmlFor:"light"},"Light Theme"))):null,c.isPro?null:r.a.createElement(p.a,{className:"dropdown-menu__item  highlighted-link",to:"/pro/"},"Upgrade to Pro"),r.a.createElement(p.a,{className:"dropdown-menu__item",to:"/player/".concat(c.username||c.uid)},"View Profile"),!c.username&&r.a.createElement(p.a,{className:"dropdown-menu__item",to:"/settings"},"Claim a username"),r.a.createElement(p.a,{className:"dropdown-menu__item",to:"/my-battles"},"My Battles"),c.isPro?r.a.createElement(p.a,{className:"dropdown-menu__item",to:"/me/"},"My Analytics"):null,r.a.createElement(p.a,{className:"dropdown-menu__item",to:"/settings"},"Settings"),r.a.createElement("button",{type:"button",className:"dropdown-menu__item",onClick:function(){window.confirm("Are you sure you want to logout?")&&(window.localStorage.removeItem("lastUser"),z.auth().signOut().then(function(){window.location.reload()}))}},"Logout"))):r.a.createElement(p.a,{className:"button",to:"/login"},r.a.createElement("div",{className:"desktop-only"},"Sign In / Sign Up"),r.a.createElement("span",{className:"mobile-only"},"Login"))))}a(50);var q=a(15);function W(){return r.a.createElement("span",{"aria-hidden":"true",style:{margin:"0 1em"}},"\xb7")}var K=r.a.memo(function(){var e=(new Date).getFullYear(),t=Object(q.a)();return r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"\xa9 ",e," CSSBattle"),r.a.createElement("p",{className:"footer__links"},t&&t.isPro?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{to:"/pro/",style:{display:"inline-flex"}},"Upgrade to ",r.a.createElement(T.a,{style:{marginLeft:"0.5rem"}})),r.a.createElement(W,null)),r.a.createElement(p.a,{to:"/tips/"},"Tips & Tricks"),r.a.createElement(W,null),r.a.createElement("a",{href:"/blog/"},"Blog"),r.a.createElement(W,null),r.a.createElement(p.a,{to:"/faqs/"},"FAQs"),r.a.createElement(W,null),r.a.createElement("a",{href:"https://community.cssbattle.dev",target:"_blank",rel:"external noopener noreferrer"},"Community"),r.a.createElement(W,null),r.a.createElement(p.a,{to:"/about/"},"About"),r.a.createElement(W,null),r.a.createElement(p.a,{to:"/become-a-sponsor/"},"Become a Sponsor"),r.a.createElement(W,null),r.a.createElement(p.a,{to:"/privacy-and-terms/"},"Privacy & Terms"),r.a.createElement(W,null),r.a.createElement("a",{href:"https://twitter.com/css_battle",target:"_blank",rel:"external noopener noreferrer"},r.a.createElement(y,{name:"twitter",size:"18"}))))});function J(e){var t=e.fixedHeight,a=e.extraClasses,n=void 0===a?"":a,o=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,null),r.a.createElement("div",{className:"container ".concat(t?"container--fixed-height":""," ").concat(n)},o),r.a.createElement(K,null))}var Z=a(9);function $(e){Object(n.useEffect)(function(){document.title="".concat(e?e+" - ":"","CSSBattle").concat(e?null:" - the CSS code-golfing game!")},[e])}function X(e){var t=e.count,a=e.label;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"countdown__number"},t),a,1===t?"":"s")}function Q(e){var t=e.date,a=e.prefix,o=void 0===a?"":a,l=e.suffix,c=void 0===l?"remaining":l,s=e.separator,u=void 0===s?" : ":s,m=e.hideSeconds,d=void 0!==m&&m,p=Object(n.useState)({}),h=Object(i.a)(p,2),f=h[0],g=h[1];function b(){g(Object(_.c)(Date.now(),t))}return Object(n.useEffect)(function(){b();var e=setInterval(b,1e3);return function(){clearInterval(e)}},[t]),r.a.createElement("div",{className:"countdown"},r.a.createElement(R.f,{label:"watch",children:"\u23f0"}),o?"".concat(o," "):null,f.days?r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{label:"day",count:f.days}),u):null," ",f.hours?r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{label:"hour",count:f.hours}),u):null," ",f.minutes?r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{label:"minute",count:f.minutes}),d?"":u):null," ",d?null:r.a.createElement(X,{label:"second",count:f.seconds}),c?" ".concat(c):null)}var ee=a(7);function te(e){var t=e.battle,a=Object(q.a)();Object(n.useEffect)(function(){if(document.querySelector("#shape-anim"))try{window.shapeAnimation.start()}catch(t){console.log("error in shape animation")}else{var e=document.createElement("script");e.id="shape-anim",e.src="/scripts/shapes-anim.js",window.document.body.appendChild(e),e.onload=function(){try{window.shapeAnimation.start()}catch(t){console.log("error in shape animation")}}}return function(){try{window.shapeAnimation.stop()}catch(t){console.log("error in shape animation")}}},[]);var o=Object(n.useState)(),l=Object(i.a)(o,2),c=l[0],s=l[1];function u(){return!!a&&((!a.settings||!a.settings.emailNotifications)&&!1!==c)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"homepage-banner  homepage-banner--new-battle"},r.a.createElement("canvas",{id:"battle-particles"}),r.a.createElement("h1",{className:"homepage-banner__heading"},"Get ready for the next battle!"),r.a.createElement("p",{className:"homepage-banner__description"},"New targets. New leaderboards. The next battle begins on"," ",new Date(t.startDate).toLocaleString()),u()&&r.a.createElement(ee.a,{primary:!0,onClick:function(){s(!0),D({name:"emailNotificationUpdated",label:1}),Object(N.K)(a.uid,{"settings.emailNotifications":!0}).then(function(){s(!1)})},isLoading:c},"Get Notified via Email when it's live"),!1===c||a&&a.settings&&a.settings.emailNotifications?r.a.createElement("p",{className:"para"},"We'll notify you by email when it's live."):null,u()&&r.a.createElement("p",{className:"small",style:{marginTop:"2rem",color:"var(--clr-text-light)"}},"With this, you'll also receive future emails from us regarding such announcements. We won't spam you :)")))}var ae=a(27),ne=a.n(ae);function re(e){var t=e.battle,a=Object(x.getBattleStatus)(t),o=Object(n.useState)([]),l=Object(i.a)(o,2),c=l[0],s=l[1];return Object(n.useEffect)(function(){a===x.BattleStatuses.FINISHED?fetch("/packages/nextjs/api/battleLeaderboard?battleId=".concat(t.id)).then(function(){var e=Object(d.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,s(a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()):Object(N.k)({battleId:t.id,numberOfPlayers:3}).then(function(e){s(e)})},[t.id]),r.a.createElement("div",{className:"".concat(ne.a.BattleTile," \n      ").concat(a===x.BattleStatuses.ONGOING?ne.a.BattleTile___ongoing:"","\n      ").concat(a===x.BattleStatuses.UPCOMING?ne.a.BattleTile___upcoming:"","\n      ")},r.a.createElement("div",{className:ne.a.BattleTile_header},r.a.createElement("div",null,r.a.createElement(R.b,{inline:!0,style:{marginRight:"1rem"}},r.a.createElement(P,{status:a,minimal:!0})),r.a.createElement("h2",{className:ne.a.BattleTile_name},r.a.createElement(p.a,{className:"link",to:"/battle/".concat(t.id)},"Battle #",t.id," - ",t.name))),r.a.createElement("div",{className:ne.a.BattleTile_countdown},a===x.BattleStatuses.FINISHED&&r.a.createElement("time",{dateTime:t.endDate},"Finished ",Object(_.m)(t.endDate)," ago"),a===x.BattleStatuses.UPCOMING&&r.a.createElement(Q,{date:t.startDate,suffix:"",prefix:"Starts in",separator:", ",hideSeconds:!0}),a===x.BattleStatuses.ONGOING&&r.a.createElement(Q,{date:t.endDate,suffix:"",prefix:"Ends in",separator:", "}))),r.a.createElement("div",{className:ne.a.BattleTile_content},a===x.BattleStatuses.UPCOMING?r.a.createElement(te,{battle:t}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ne.a.BattleTile_info},r.a.createElement("div",null,r.a.createElement("p",{className:ne.a.BattleTile_desc},t.description)),r.a.createElement("div",{className:ne.a.BattleTile_leaders},r.a.createElement("h4",null,"Leaders"),c.map(function(e){return r.a.createElement(R.b,{key:e.id,inline:!0,style:{marginRight:"0.5rem"}},r.a.createElement(R.a,{size:"40",userId:e.id,url:e.playerProfile.avatar,username:e.playerProfile.username}))}))),r.a.createElement("div",{className:ne.a.BattleTile_targets},t.levelIds.map(function(e,a){return r.a.createElement(p.a,{to:"/play/".concat(e),className:ne.a.BattleTile_target,key:a},r.a.createElement("img",{loading:"lazy",src:"/targets/".concat(e,".png"),srcSet:"/targets/".concat(e,"@2x.png 2x"),alt:"Target #".concat(e)}),r.a.createElement("div",{className:"target-top-info"},e?r.a.createElement("p",{className:"target-top-info__pill"},"#",e):null,t.openLevelIds&&t.openLevelIds.includes(e)?r.a.createElement("p",{className:"target-top-info__pill"},r.a.createElement("img",{alt:"",src:"/images/open-book.svg"})):null))})))))}var oe=a(24);function le(e){var t=e.data;return r.a.createElement("div",{className:"leaderboard__user  leaderboard__user--".concat(t.rank)},r.a.createElement(R.a,{small:!0,size:"32",url:t.playerProfile.avatar,username:t.playerProfile.username,userId:t.userId||t.playerProfile.id,className:"leaderboard__user-avatar"}),r.a.createElement("div",{className:"leaderboard__user-info"},r.a.createElement(R.i,{name:t.playerProfile.displayName,username:t.playerProfile.username,isPro:t.playerProfile.isPro,userId:t.userId||t.playerProfile.id,className:"leaderboard__user-name",ellipsis:!0}),r.a.createElement("p",{className:"leaderboard__user-score"},t.score.toFixed(2)," ",t.playedCount?"(".concat(t.playedCount," Target").concat(t.playedCount>1?"s":"",")"):"",t.codeSize?"(".concat(t.codeSize," Chars)"):"")),r.a.createElement("p",{className:"leaderboard__user-rank  leaderboard__user-rank--".concat(t.rank)},Object(_.d)(t.rank)))}var ce=a(13);function ie(e){var t=e.isFriendsMode,a=e.onChange;function n(e){a(e),D({name:"friendLeaderboardToggle",label:"friends"===e.target.value})}return r.a.createElement("div",{className:"filter  leaderboard-filter"},r.a.createElement("span",{className:"filter__button"},r.a.createElement("input",{type:"radio",name:"leaderboard-filter",id:"friends",value:"friends",defaultChecked:t,onChange:n}),r.a.createElement("label",{htmlFor:"friends"},"Friends Only")),r.a.createElement("span",{className:"filter__button"},r.a.createElement("input",{type:"radio",name:"leaderboard-filter",id:"everyone",value:"everyone",defaultChecked:!t,onChange:n}),r.a.createElement("label",{htmlFor:"everyone"},"All Players")))}function se(){return r.a.createElement("div",{className:"friends-empty"},r.a.createElement("img",{alt:"Two friends high fiving",src:"/images/friends.svg"}),r.a.createElement("p",{className:"friends-empty__title"},"Add friends!"),r.a.createElement("p",{className:"friends-empty__desc"},"Want to see where you stand only among your friends? Visit their profile and add them as friends to see them here!"))}var ue=function(e){var t=e.numOfPlayersToShow,a=void 0===t?10:t,o=Object(n.useContext)(v.a),l=Object(n.useState)([]),s=Object(i.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)({}),h=Object(i.a)(d,2),f=h[0],g=h[1],b=Object(n.useState)(),y=Object(i.a)(b,2),E=y[0],_=y[1],w=C("showFriendsLeaderboard",!!o),S=Object(i.a)(w,2),O=S[0],j=S[1],I=Object(n.useState)({playerCount:0}),k=Object(i.a)(I,2),B=k[0],T=k[1];return Object(n.useEffect)(function(){Object(N.s)().then(T)},[]),Object(n.useEffect)(function(){_(!0),(O?Object(N.p)({userId:o.uid}):Object(N.r)(a)).then(function(e){m(e),_(!1),o&&o.getIdToken&&(e.find(function(e){return e.id===o.uid})?g({rank:e.findIndex(function(e){return e.id===o.uid})+1,totalPlayers:0}):o.getIdToken().then(function(t){Object(N.g)({token:t}).then(function(t){g(t),m([].concat(Object(oe.a)(e),[{score:t.score,playerProfile:Object(c.a)({},o,{avatar:o.photoURL}),id:o.uid,rank:t.rank,playedCount:t.playedCount}]))})}))})},[o?o.uid:"",O]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{meta:"You: ".concat(f.rank||"-","/").concat(B.playerCount||"-")},"Global Leaderboard"),r.a.createElement("div",{className:"item__content"},o&&r.a.createElement(ie,{isFriendsMode:O,onChange:function(e){j("friends"===e.target.value)}}),O&&!E&&!u.length&&r.a.createElement(se,null),0===f.rank&&r.a.createElement("p",{className:"section-helper"},"You need at least a score of 10000 to see your rank."),r.a.createElement("div",{className:"leaderboard-container"},E?r.a.createElement("p",{className:"ta-c"},r.a.createElement(ce.a,null)):null,r.a.createElement("ul",{className:"leaderboard__user-list"},u.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(le,{key:t,data:Object(c.a)({},e,{rank:void 0===e.rank?t+1:e.rank})}))})),0===f.rank&&r.a.createElement("p",{className:"section-helper"},"You need at least a score of 10000 to see your rank.")),u.length?r.a.createElement("p",{className:"para  ta-c leaderboard-buttons"},r.a.createElement(p.a,{to:"/leaderboard",className:"button"},"See top 100")):null))},me=a(68),de=a.n(me);function pe(e){var t=e.battleId,a=Object(n.useState)(!1),o=Object(i.a)(a,2),l=o[0],c=o[1],s=Object(n.useState)([]),u=Object(i.a)(s,2),m=u[0],d=u[1];return Object(n.useEffect)(function(){c(!0),Object(N.i)(t).then(function(e){c(!1),d(e)})},[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,null,"Activity Timeline"),r.a.createElement("div",{className:"item__content item__content--no-padding"},r.a.createElement("div",{className:de.a.streams},l?r.a.createElement("p",{className:"para ta-c"},r.a.createElement(ce.a,null)):null,l||m.length?null:r.a.createElement("p",{className:"para ta-c"},"No activity recorded here."),!l&&m.map(function(e){return r.a.createElement(w,{key:e.id,timeStamp:e.timestamp,imageUrl:e.playerProfile.avatar},e.playerProfile.displayName," ",e.data.userId===e.data.previousUserId?"broke own record on":"set a new record on"," ",r.a.createElement(p.a,{to:"/play/".concat(e.data.levelId),className:"link"},"Target #",e.data.levelId)," ","with ",e.data.codeSize," chars (",e.data.codeSize-e.data.previousUserCodeSize,").")}))))}var he=a(16),fe=a.n(he),ge=a(36);function be(e){var t=Object(n.useState)(e),a=Object(i.a)(t,2),r=a[0],o=a[1];return{input:{value:r,onChange:function(e,t){if(void 0!==t)return o(t);o("checkbox"===e.target.type?"on"===e.target.value:e.target.value)}},value:r,setValue:o}}var ye=Object(s.g)(function(e){var t=e.history,a=e.isOpen,o=e.onRequestClose,l=be("An awesome battle"),c=Object(n.useState)(!1),s=Object(i.a)(c,2),u=s[0],m=s[1],d=Object(q.a)();return r.a.createElement(ge.a,{isOpen:a,size:"small",extraClasses:"modal--text-center"},r.a.createElement("div",{style:{margin:"1rem 0 1.5rem"}},r.a.createElement(y,{name:"battle",size:"48"})),r.a.createElement("h2",null,"Host a Battle"),r.a.createElement("p",{className:"para",style:{lineHeight:"1.6"}},"Create your own battles with custom targets, leaderboards, and, duration. Enter a nice name for your battle to proceed:"),r.a.createElement(R.b,{style:{marginTop:"2.5rem"}},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m(!0),Object(N.I)({userId:d.uid,battle:{name:l.value,duration:30},levels:[]}).then(function(e){m(!1),t.push("/battle/create/".concat(e))})}},r.a.createElement(R.g,Object.assign({label:"Battle name"},l.input,{required:!0})),r.a.createElement(R.c,{center:!0},r.a.createElement(ee.a,{onClick:o},"Cancel"),r.a.createElement(ee.a,{type:"submit",isLoading:u,primary:!0},"Proceed to Battle edit")))))}),Ee=a(31),ve=a.n(Ee);function _e(e){e.job;var t=Object(q.a)(),a=Object(n.useState)(),o=Object(i.a)(a,2),l=o[0],c=o[1],s=Object(n.useState)(),u=Object(i.a)(s,2),h=u[0],f=u[1],g=Object(n.useState)(!!t&&t.isAvailableForHire),b=Object(i.a)(g,2),y=b[0],E=b[1];function v(e){return _.apply(this,arguments)}function _(){return(_=Object(d.a)(m.a.mark(function e(a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,Object(N.K)(t.uid,{isAvailableForHire:a});case 3:c(!1),t.isAvailableForHire=a,E(a);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){t&&E(t.isAvailableForHire)},[t]),Object(n.useEffect)(function(){var e=ve.a.filter(function(e){var t=new Date,a=new Date(e.startDate),n=new Date(e.endDate);return t>=a&&t<n&&e.showOnHomepage});f(e[0])},[ve.a]),h?r.a.createElement(r.a.Fragment,null,t&&y||!t?r.a.createElement("div",{className:"".concat(fe.a.customBattle," ").concat(fe.a.customBattleHighlighted)},r.a.createElement("div",{className:fe.a.customBattle_flex},r.a.createElement("div",null,r.a.createElement("img",{className:"jobs__company-logo",alt:"",src:h.image,style:{verticalAlign:"middle"}}),r.a.createElement("h2",{className:fe.a.customBattle_name},h.name," is hiring")),r.a.createElement("div",{className:fe.a.buttons},r.a.createElement(p.a,{className:"".concat(fe.a.viewButton," ","button"),to:"/jobs"},"View All Jobs"),r.a.createElement("a",{href:"https://cssbattle.dev/api/adRedirect?url=".concat(encodeURIComponent(h.url),"&sponsorId=90"),target:"ad",className:"".concat(fe.a.viewButton," ","button")},"Apply Now"))),r.a.createElement("p",null,h.description),r.a.createElement("div",{className:"job-tile-pills"},r.a.createElement(U.a,null,r.a.createElement("svg",{width:"20",height:"20",fill:"none"},r.a.createElement("path",{d:"M1.667 2.5h16.666A1.725 1.725 0 0120 4.167v11.666a1.725 1.725 0 01-1.667 1.667H1.667A1.725 1.725 0 010 15.833V4.167A1.725 1.725 0 011.667 2.5zm5 9.092c-1.667 0-5 .908-5 2.575V15h10v-.833c0-1.667-3.334-2.575-5-2.575zm0-6.592a2.5 2.5 0 100 5 2.5 2.5 0 000-5zm7.5 3.333v2.5H17.5v-2.5h-3.333z",fill:"#A0B3C6"})),r.a.createElement("p",null,h.title)),r.a.createElement(U.a,null,r.a.createElement("svg",{width:"20",height:"20",fill:"none"},r.a.createElement("path",{d:"M5.833 12.5H7.5c0 .9 1.142 1.667 2.5 1.667s2.5-.767 2.5-1.667c0-.917-.867-1.25-2.7-1.692-1.767-.441-3.967-.991-3.967-3.308 0-1.492 1.225-2.758 2.917-3.183V2.5h2.5v1.817c1.692.425 2.917 1.691 2.917 3.183H12.5c0-.9-1.142-1.667-2.5-1.667S7.5 6.6 7.5 7.5c0 .917.867 1.25 2.7 1.692 1.767.441 3.967.991 3.967 3.308 0 1.492-1.225 2.758-2.917 3.183V17.5h-2.5v-1.817c-1.692-.425-2.917-1.691-2.917-3.183z",fill:"#A0B3C6"})),r.a.createElement("p",null,h.salary)),r.a.createElement(U.a,null,r.a.createElement("svg",{width:"20",height:"20",fill:"none"},r.a.createElement("path",{d:"M10 9.583a2.083 2.083 0 110-4.166 2.083 2.083 0 010 4.166zm0-7.916A5.833 5.833 0 004.167 7.5C4.167 11.875 10 18.333 10 18.333s5.833-6.458 5.833-10.833A5.833 5.833 0 0010 1.667z",fill:"#A0B3C6"})),r.a.createElement("p",null,h.location)))):null,t&&void 0===y?r.a.createElement("div",{className:"".concat(fe.a.customBattle," ").concat(fe.a.customBattleHighlighted)},r.a.createElement("div",{className:fe.a.customBattle_flex},r.a.createElement("div",null,r.a.createElement("h2",{className:fe.a.customBattle_name,style:{display:"inline-flex",alignItems:"center"}},"Are you available for hire?",l&&r.a.createElement(ce.a,null))),r.a.createElement("div",{className:fe.a.buttons},r.a.createElement(ee.a,{primary:!0,onClick:function(){return v(!0)}},"Yes"),r.a.createElement(ee.a,{onClick:function(){return v(!1)}},"No"))),r.a.createElement("p",null,'CSSBattle now has a dedicated job portal for companies who are looking for developers like you. If you select "Yes" above, we\'ll show you new and related job openings in this space and companies will also be able to reach out to you.')):null):null}var we=function(){var e=Object(q.a)(),t=Object(n.useState)(!1),a=Object(i.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)([]),s=Object(i.a)(c,2),u=s[0],h=s[1];Object(n.useEffect)(function(){e&&Object(N.m)(e.uid).then(h)},[e?e.uid:""]),$("");var f=Object(x.getBattleStatus)(x.battles.slice(-1)[0])===x.BattleStatuses.UPCOMING,g=x.battles.slice(0,-2).reverse(),b=x.battles.find(function(e){return Object(x.getBattleStatus)(e)===x.BattleStatuses.ONGOING});b||(b=x.battles.filter(function(e){return Object(x.getBattleStatus)(e)===x.BattleStatuses.FINISHED}).pop());var y=Object(n.useState)(0),E=Object(i.a)(y,2),v=E[0],_=E[1],w=Object(n.useState)("\ud83d\ude42"),C=Object(i.a)(w,2),S=C[0],O=C[1];return Object(n.useEffect)(function(){v>=400&&O("\ud83d\udd25"),v<400&&O("\ud83e\udd2f"),v<350&&O("\ud83e\udd29"),v<250&&O("\ud83d\ude00"),v<150&&O("\ud83d\ude42")},[v]),Object(n.useEffect)(function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("visible"===document.visibilityState){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("/api/session");case 4:return t=e.sent,e.t0=parseInt,e.next=8,t.text();case 8:e.t1=e.sent,(a=(0,e.t0)(e.t1,10))&&_(a);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var a=window.setInterval(e,5e3);return e(),function(){clearInterval(a)}},[]),r.a.createElement(J,null,r.a.createElement("div",{className:"container__item  container__item--main  container__item--battles"},e?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,null,"Welcome"),r.a.createElement("div",{className:"homepage-banner"},r.a.createElement("h1",{className:"homepage-banner__heading"},"Welcome to CSSBattle!"),r.a.createElement("p",{className:"homepage-banner__description"},"CSS code-golfing game is here! Use your CSS skills to replicate targets with smallest possible code. Feel free to check out the targets below and put your CSS skills to test."),r.a.createElement("p",null,r.a.createElement(p.a,{className:"button",to:"/login"},"Sign In / Sign Up")))),r.a.createElement(Z.a,{sticky:!0},"Battles"),r.a.createElement("div",{className:"item__content"},r.a.createElement("div",{className:"battles-container"},r.a.createElement("div",{className:fe.a.homepageTopFlex},r.a.createElement("div",{className:fe.a.liveCounterContainer},r.a.createElement("div",null,r.a.createElement("p",{className:fe.a.liveCounterEmoji},S),r.a.createElement("p",{className:fe.a.liveCounter},v),r.a.createElement("p",null,"Players Online"))),r.a.createElement("div",{className:fe.a.customBattle},r.a.createElement("div",{className:fe.a.customBattle_flex},r.a.createElement("div",null,r.a.createElement("h2",{className:fe.a.customBattle_name},"Custom Battles")),r.a.createElement("div",{className:fe.a.buttons},e?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{className:"".concat(fe.a.viewButton," ","button"),to:"/my-battles"},"My Custom Battles (",u.length,")"),r.a.createElement(ee.a,{onClick:function(){l(!0)}},"Host Battle")):r.a.createElement("p",null,"Sign In / Sign Up to host a battle"))),r.a.createElement("p",null,"Hosting a conference, meetup, company engineering event or just want to have some nerd fun? Create your own battles with custom targets, leaderboards, and duration!"," ",r.a.createElement("a",{href:"/blog/introducing-custom-battles",className:"link",target:"_blank"},"Read more about Custom Battles"),"."))),f||b?r.a.createElement(re,{battle:x.battles[x.battles.length-1]}):null,e&&!f?r.a.createElement(Ne,null):null,r.a.createElement(re,{battle:x.battles[x.battles.length-2]}),r.a.createElement(_e,null),g.map(function(e){return r.a.createElement(re,{key:e.id,battle:e})})))),r.a.createElement("div",{className:"container__item  container__item--aside container__item--sticky"},r.a.createElement("div",{className:fe.a.halfAndHalf},r.a.createElement("div",null,r.a.createElement(ue,null)),r.a.createElement("div",null,r.a.createElement(pe,null)))),r.a.createElement(ye,{isOpen:o,onRequestClose:function(){return l(!1)}}))};function Ne(){var e=Object(q.a)(),t=Object(n.useState)(),a=Object(i.a)(t,2),o=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,(!e.settings||!e.settings.emailNotifications)&&!1!==o&&r.a.createElement("div",{className:"subscribe-box"},r.a.createElement("h3",null,"Subscribe for updates"),r.a.createElement(ee.a,{primary:!0,onClick:function(){l(!0),D({name:"emailNotificationUpdated",label:1}),Object(N.K)(e.uid,{"settings.emailNotifications":!0}).then(function(){l(!1)})},isLoading:o},"Get Notified via Email about new Battles"),r.a.createElement("p",{className:"para"},"We won't spam you ever :)"),!1===o?r.a.createElement("p",{className:"para"},"Great! We'll notify you about new Battles."):null))}var Ce=a(29),Se=a.n(Ce),Oe=a(17);function je(e){return r.a.createElement("button",{type:"button","aria-label":"Copy color ".concat(e.children),onClick:function(){var t=document.createElement("input");t.value=e.children,t.style.opacity=0,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),Oe.toast.info("Color ".concat(e.children," copied to clipboard")),window.dispatchEvent(new Event("customEditorFocus"))},className:"js-target-color colors-list__color",style:{"--color":"".concat(e.children)}},e.children)}var Ie=function(e){var t,a=e.code;return Object(n.useEffect)(function(){var e="<style>body{overflow:hidden}</style>"+a;t.contentDocument.open(),t.contentDocument.write(e),t.contentDocument.close()},[a]),r.a.createElement("iframe",{title:"Preview",ref:function(e){return t=e},style:{background:"white",width:"400px",height:"300px",border:"0",outline:"0"}})},ke=function(e){var t=e.code,a=e.levelImage,o=void 0===a?"":a,l=e.isSliderOn,c=Object(n.useState)(100),s=Object(i.a)(c,2),u=s[0],m=s[1],d=Object(n.useState)(!1),p=Object(i.a)(d,2),h=p[0],f=p[1];function g(e){"Shift"===e.key&&f(!0)}function b(e){"Shift"===e.key&&f(!1)}return Object(n.useEffect)(function(){return window.addEventListener("keydown",g),window.addEventListener("keyup",b),function(){window.removeEventListener("keydown",g),window.removeEventListener("keyup",b)}},[]),r.a.createElement("div",null,r.a.createElement("div",{style:{position:"relative",cursor:"col-resize",height:"300px"},onMouseMove:function(e){if(e.preventDefault(),l){var t=e.nativeEvent,a=t.offsetX,n=t.offsetY;m(100*(h?n/300:a/400))}},onMouseLeave:function(){m(100)}},r.a.createElement("div",{style:{overflow:"hidden",width:"".concat(h?"100%":"".concat(u,"%")),height:"".concat(h?"".concat(u,"%"):"100%"),position:"relative",zIndex:1,boxShadow:"".concat(100===u?"":h?"0 2px 0 red":"2px 0 0 red"),pointerEvents:l?"none":"initial"}},r.a.createElement(Ie,{code:t})),o?r.a.createElement("img",{style:{position:"absolute",top:0,left:0},alt:"",width:"400",height:"300",src:o,srcSet:"".concat(o.replace(/\.png/,"@2x.png")," 2x")}):null))},Be=function(e){var t=e.levelId,a=Object(n.useContext)(v.a),o=Object(n.useState)([]),l=Object(i.a)(o,2),s=l[0],u=l[1],m=Object(n.useState)(),d=Object(i.a)(m,2),h=d[0],f=d[1],g=C("showFriendsLeaderboard",!!a),b=Object(i.a)(g,2),y=b[0],E=b[1];return Object(n.useEffect)(function(){window.localStorage.debug,f(!0),u([]),(y?Object(N.q)({levelId:t,userId:a.uid}):Object(N.v)({levelId:t})).then(function(e){u(e),f(!1)})},[a?a.uid:"",t,y]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{meta:""},"Target #",t," Leaderboard"),r.a.createElement("div",{className:"item__content"},a&&r.a.createElement(ie,{isFriendsMode:y,onChange:function(e){E("friends"===e.target.value)}}),y&&!h&&!s.length&&r.a.createElement(se,null),r.a.createElement("div",{className:"leaderboard-container"},h?r.a.createElement("p",{className:"ta-c"},r.a.createElement(ce.a,null)):null,!h&&!s.length&&!y&&r.a.createElement("p",{className:"para"},"No one here. It could be you! How about playing some targets?"),r.a.createElement("ul",{className:"leaderboard__user-list  leaderboard__user-list--local"},s.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(le,{key:t,data:Object(c.a)({},e,{rank:t+1})}))}))),r.a.createElement("p",{className:"para ta-c"},r.a.createElement(p.a,{to:"/leaderboard/target/".concat(t),className:"link"},"See top 100"))))};function Te(e){var t=e.submission,a=e.onClick;return r.a.createElement(E.a,{dropdownBtnClasses:"button--full-width  submissions-dropdown",dropdownMenuClasses:"dropdown-menu--left",dropdownBtnContent:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Score: ",t.score," ","{".concat(t.codeSize,"}"),","," ",t.match,"% match"),r.a.createElement("p",{className:"submissions-list__time"},r.a.createElement("span",{className:"submissions-list__time--relative"},Object(_.m)(new Date(t.timestamp))," ago"),r.a.createElement("span",{className:"submissions-list__time--absolute"},new Date(t.timestamp).toLocaleString())))},r.a.createElement("p",{className:"submissions-list__code"},t.code),r.a.createElement(ee.a,{primary:!0,extraClasses:"button--full-width",onClick:a},"Load Code"))}var xe=function(e){var t=e.submissions,a=void 0===t?[]:t,o=e.onSubmissionSelect,l=e.isFetching,c=Object(n.useState)([]),s=Object(i.a)(c,2),u=s[0],m=s[1];Object(n.useEffect)(function(){m(Object(oe.a)(a))},[a.length]);var d=Object(n.useState)(""),p=Object(i.a)(d,2),h=p[0],f=p[1],g=Object(n.useState)(!1),b=Object(i.a)(g,2),y=b[0],E=b[1];return Object(n.useEffect)(function(){function e(){return y?a.filter(function(e){return 100===e.match}):Object(oe.a)(a)}if(h){var t=e().filter(function(e){return!!(e.code||"").toLowerCase().match(h.toLowerCase())});m(t)}else m(e())},[h,y]),r.a.createElement("div",null,r.a.createElement(Z.a,{meta:"".concat(a.length," submissions")},"Last Submissions"),r.a.createElement("div",{className:"item__content"},r.a.createElement("div",{className:"submissions-container"},l&&!a.length?r.a.createElement("p",{className:"ta-c"},r.a.createElement(ce.a,null)):null,l||a.length?null:r.a.createElement("p",{className:"section-helper"},"You don't have any submissions."),a.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{type:"text",placeholder:"Search by code",onInput:function(e){return f(e.target.value)}})),r.a.createElement(R.d,{label:"Show only 100% match submissions",checked:y,onChange:function(e){return E(e.target.checked)}})):null,a.length&&!u.length?r.a.createElement("p",{className:"section-helper"},"No matching submission found."):null,r.a.createElement("ul",{className:"submissions-list"},u.map(function(e){return r.a.createElement("li",{key:e.id,className:"submissions-list__item"},r.a.createElement(Te,{submission:e,onClick:function(){return o(e.code)}}))})))))};function Fe(e){var t=e.submission,a=e.onClick;return r.a.createElement("div",{className:"top-submission-container"},r.a.createElement("div",{className:"top-submission__author"},r.a.createElement(R.a,{small:!0,size:"32",url:t.playerProfile.avatar,userId:t.playerProfile.userId,username:t.playerProfile.username,className:"target-highscore__avatar top-submission__author__avatar"}),r.a.createElement("div",null,r.a.createElement(R.i,{name:t.playerProfile.displayName,username:t.playerProfile.username,userId:t.playerProfile.userId,isPro:t.playerProfile.isPro,ellipsis:!0}),r.a.createElement("p",{className:"top-submission__author__score"},"Score: ",t.score," ","{".concat(t.codeSize,"}"),","," ",t.match,"% match"))),r.a.createElement("p",{className:"submissions-list__code"},t.code),r.a.createElement(ee.a,{primary:!0,extraClasses:"button--full-width",onClick:function(){return a(t.code)}},"Load Code"))}var Ae=function(e){var t=e.onSubmissionSelect,a=e.levelId,o=Object(n.useState)([]),l=Object(i.a)(o,2),c=l[0],s=l[1],u=Object(n.useState)(!1),m=Object(i.a)(u,2),d=m[0],p=m[1];return Object(n.useEffect)(function(){p(!0),s([]),Object(N.B)(a).then(function(e){Object(_.h)(e),s(e),p(!1)})},[]),r.a.createElement("div",null,r.a.createElement(Z.a,{meta:"".concat(c.length," submissions")},"Top Submissions"),r.a.createElement("div",{className:"item__content"},r.a.createElement("div",{className:"submissions-container"},d&&!c.length?r.a.createElement("p",{className:"ta-c"},r.a.createElement(ce.a,null)):null,d||c.length?null:r.a.createElement("p",{className:"section-helper"},"No submissions yet."),!d&&c.length?r.a.createElement("p",null,"You are seeing only unique solutions in top 10"):null,d||c.length?null:r.a.createElement("p",{className:"section-helper"},"No matching submission found."),r.a.createElement("ul",{className:"submissions-list"},c.map(function(e){return r.a.createElement("li",{key:e.id,className:"submissions-list__item"},r.a.createElement(Fe,{submission:e,onClick:t}))})))))};function Le(e){var t=e.isOpen,a=e.onRequestClose,n=e.side,o=void 0===n?"left":n,l=e.noUnderlay,c=e.children;return r.a.createElement("div",{className:"sidebar-container ".concat(t?"sidebar-container--visible":"")},!l&&r.a.createElement("div",{className:"underlay",onClick:a}),r.a.createElement("div",{className:"sidebar sidebar--".concat(o)},r.a.createElement("button",{className:"sidebar__close",onClick:a}),r.a.createElement("div",{className:"sidebar__content"},c)))}var Me=function(e){return encodeURIComponent(btoa(escape(e)))};function Pe(e){var t=Object(n.useState)(e.type),a=Object(i.a)(t,2),o=a[0],l=a[1];return Object(n.useEffect)(function(){var e=document.createElement("script");e.async=!0,"ethicalads"===o?(e.src="https://media.ethicalads.io/media/client/ethicalads.min.js",e.onload=function(){window.ethicalads?window.ethicalads.wait.then(function(e){e.length?console.debug("EthicalAds are loaded"):(console.debug("Loading backup content"),l("carbon"))}):l("carbon")}):(e.id="_carbonads_js",e.src="https://cdn.carbonads.com/carbon.js?serve=CK7I6KJN&placement=cssbattledev");var t=document.querySelector(".no-sponsor");document.querySelector(".sponsor-container").insertBefore(e,t)},[o]),r.a.createElement("div",{className:"sponsor-container"},"ethicalads"===o&&r.a.createElement("div",{"data-ea-publisher":"cssbattle-dev",className:"horizontal flat dark","data-ea-type":"image"}),r.a.createElement("div",{className:"no-sponsor"},r.a.createElement("a",{href:"https://ui.dev/bytes/?r=cssbattle",target:"_blank",rel:"noopener"},r.a.createElement("img",{src:"/images/uidev-banner.jpeg",style:{maxWidth:"100%"}})),!1))}var De=function(e){var t=e.isOpen,a=e.onRequestClose,n=e.score;return r.a.createElement(ge.a,{isOpen:t,size:"small",extraClasses:"modal--text-center"},r.a.createElement("div",{className:"firstScoreIcon"}),r.a.createElement("h2",null,"You scored ",n,"!"),r.a.createElement("p",{className:"para",style:{lineHeight:"1.6"}},"To be able to access your submissions history, see your name in the leaderboards, and create a profile, feel free to create an account by clicking on the button below!"),r.a.createElement(R.c,{center:!0},r.a.createElement(ee.a,{onClick:a},"Cancel"),r.a.createElement(p.a,{className:"button button--primary",to:"/login"},"Sign Up / Sign In")))};var Ge=[{id:"1",name:"Web Maker",tagLine:"An offline and blazing fast frontend playground",link:"https://webmaker.app/?utm_source=cssbattle&utm_medium=referral",img:"https://webmaker.app/images/thumb_430.png",levelIds:[14],startDate:"May 8 2019 16:30:00 GMT+0530",endDate:"Sep 30 2019 16:40:00 GMT+0530"},{id:"2",name:"sitepoint.com",tagLine:"Learn HTML, CSS, JavaScript, PHP, Ruby & Responsive Design with 300+ books and courses",link:"https://www.sitepoint.com?utm_source=css-battles&utm_medium=referral&utm_campaign=logo-battle",img:"/sponsors/2.png",levelIds:[21],startDate:"June 12 2019 16:30:00 GMT+0530",endDate:"July 3 2019 16:40:00 GMT+0530"},{id:"3",name:"usepastel.com",tagLine:"Pastel is a visual feedback and collaboration tool for teams building websites and web apps",link:"https://usepastel.com?utm_source=cssbattle&utm_campaign=cssbattle_sponsorship",img:"/sponsors/3.png",levelIds:[53],startDate:"June 9 2020 16:30:00 GMT+0530",endDate:"July 9 2020 16:40:00 GMT+0530"},{id:"4",name:"ImprovMX.com",tagLine:"Free email forwarding for your domain name. Send and receive from custom aliases without having to pay for a Gsuite membership.",link:"https://improvmx.com?utm_source=cssbattle&utm_campaign=cssbattle_sponsorship",img:"/sponsors/4.png",levelIds:[61],startDate:"Nov 21 2020 16:30:00 GMT+0530",endDate:"Dec 21 2020 16:40:00 GMT+0530"},{id:"4",name:"ImprovMX.com",tagLine:"Free email forwarding for your domain name. Send and receive from custom aliases without having to pay for a Gsuite membership.",link:"https://improvmx.com?utm_source=cssbattle&utm_campaign=cssbattle_sponsorship",img:"/sponsors/4.png",levelIds:[61],startDate:"Nov 15 2020 16:30:00 GMT+0530",endDate:"Dec 14 2020 16:40:00 GMT+0530"},{id:"5",name:"PushOwl",tagLine:"Convert your one-time visitors into loyal customers with push notifications.",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fpushowl.com%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=5",img:"/sponsors/5.png",levelIds:[69],startDate:"Mar 2 2021 16:30:00 GMT+0530",endDate:"Apr 1 2021 16:30:00 GMT+0530"}];function He(e){var t=e.levelId,a=Object(n.useState)(),o=Object(i.a)(a,2),l=o[0],c=o[1];return Object(n.useEffect)(function(){var e=Ge.find(function(e){return e.levelIds.includes(t)});c(e)},[t]),l?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"inner-header"},r.a.createElement("h4",{className:"header__title  header__title--inner"},"Target Sponsored By")),r.a.createElement("div",{className:"island"},r.a.createElement("div",null,r.a.createElement("img",{className:"sponsor-image",width:"100",src:l.img,alt:""})),r.a.createElement("div",null,r.a.createElement("a",{className:"spponsor-link",target:"_blank",rel:"external noopener noreferrer",href:"https://cssbattle.dev/api/adRedirect?url=".concat(encodeURIComponent(l.link),"&sponsorId=").concat(l.id)},l.name," ",r.a.createElement(y,{name:"link",size:"12"})),r.a.createElement("p",{className:"sponsor-desc"},l.tagLine)))):null}var Re=a(45),Ue=function(e){var t=e.isOpen,a=e.onViewSolutionsRequest,n=e.onRequestClose;return r.a.createElement(ge.a,{isOpen:t,size:"small",extraClasses:"modal--text-center"},r.a.createElement("div",{className:"openBookIcon"}),r.a.createElement("h2",null,'This is an "Open" Target'),r.a.createElement("p",{className:"para",style:{lineHeight:"1.6"}},"Open Targets have all the top solutions public. Learn new tips & tricks and apply them to other targets."," ",r.a.createElement("a",{className:"link",href:"/blog/introducing-open-targets/",target:"_blank"},"Learn More about Open Targets"),"."),r.a.createElement(R.c,{center:!0},r.a.createElement(ee.a,{onClick:a,primary:!0},"View Top Solutions"),r.a.createElement(ee.a,{onClick:n},"Close")))},ze=Object(n.lazy)(function(){return Promise.all([a.e(0),a.e(1),a.e(5)]).then(a.bind(null,128))}),Ve=Object(n.lazy)(function(){return Promise.all([a.e(0),a.e(7)]).then(a.bind(null,129)).then(function(e){return{default:e.UserScripts}})}),Ye=function(e){var t=e.history,a=e.user,o=e.match.params.levelId,l=o.length>6?o:parseInt(o,10),s=Object(n.useState)(),u=Object(i.a)(s,2),p=u[0],h=u[1];Object(n.useEffect)(function(){var e=Se.a.find(function(e){return e.id===l});e?h(e):Object(N.e)(l).then(function(e){h(e)}),a&&a.uid&&I&&(S([]),G(!0),Object(N.E)({userId:a.uid,levelId:l}).then(function(e){G(!1),S(e)}))},[l]);var f=Object(n.useState)("<div></div>\n<style>\n  div {\n    width: 100px;\n    height: 100px;\n    background: #dd6b4d;\n  }\n</style>\n\n\x3c!-- OBJECTIVE --\x3e\n\x3c!-- Write HTML/CSS in this editor and replicate the given target image in the least code possible. What you write here, renders as it is --\x3e\n\n\x3c!-- SCORING --\x3e\n\x3c!-- The score is calculated based on the number of characters you use (this comment included :P) and how close you replicate the image. Read the FAQS (https://cssbattle.dev/faqs) for more info. --\x3e\n\n\x3c!-- IMPORTANT: remove the comments before submitting --\x3e"),g=Object(i.a)(f,2),b=g[0],y=g[1],E=Object(n.useRef)(b),v=Object(n.useState)(),w=Object(i.a)(v,2),C=w[0],S=w[1],O=Object(n.useState)(!1),j=Object(i.a)(O,2),I=j[0],k=j[1],B=Object(n.useState)(!1),x=Object(i.a)(B,2),F=x[0],A=x[1],L=Object(n.useState)(),M=Object(i.a)(L,2),P=M[0],G=M[1],H=Object(n.useState)(!1),U=Object(i.a)(H,2),z=U[0],V=U[1],q=Object(n.useState)(!1),W=Object(i.a)(q,2),J=W[0],$=W[1],X=Object(n.useState)({}),Q=Object(i.a)(X,2),te=Q[0],ae=Q[1],ne=Object(n.useState)(),re=Object(i.a)(ne,2),oe=re[0],le=re[1],ce=Object(n.useState)(!1),ie=Object(i.a)(ce,2),se=ie[0],ue=ie[1],me=Ge.find(function(e){return e.levelIds.includes(l)}),de=Object(n.useState)({msg:"No errors found",isCodeInvalid:!1}),pe=Object(i.a)(de,2),he=pe[0],fe=pe[1],ge=Object(n.useState)(!0),be=Object(i.a)(ge,2),ye=be[0],Ee=be[1],ve=Object(n.useState)(!1),_e=Object(i.a)(ve,2),we=_e[0],Ne=_e[1],Ce=Object(n.useState)(!1),Ie=Object(i.a)(Ce,2),Te=Ie[0],Fe=Ie[1];function Ye(){window.localStorage.setItem("lastCode-".concat(l),E.current)}function qe(e){"Escape"===e.key&&(k(!1),V(!1)),"E"===e.key&&e.ctrlKey&&e.shiftKey&&window.dispatchEvent(new Event("customEditorFocus")),"C"===e.key&&e.ctrlKey&&e.shiftKey&&(window.document.querySelector(".js-target-color").focus(),e.preventDefault())}function We(){Fe(!1),window.localStorage.setItem("hasSeenOpenTargetModal",!0)}Object(n.useEffect)(function(){p&&(window.document.title="Target #".concat(l," ").concat(p.name?"(".concat(p.name,")"):""," - CSSBattle"))},[p]),Object(n.useEffect)(function(){return document.body.classList.add("level-page"),function(){document.body.classList.remove("level-page")}},[]),Object(n.useEffect)(function(){return window.addEventListener("keyup",qe),function(){window.removeEventListener("keyup",qe)}},[]),Object(n.useEffect)(function(){var e="lastCode-".concat(l),a=window.localStorage.getItem(e);a&&(window.localStorage.removeItem(e),Xe(a)),window.addEventListener("unload",Ye);var n=window.location.pathname;return function(){window.removeEventListener("unload",Ye),window.localStorage.setItem(e,E.current),t.location.pathname.match(/login/)&&window.localStorage.setItem("beforeLoginLocation",n)}},[l]),Object(n.useEffect)(function(){var e=JSON.parse(window.localStorage.getItem("hasSeenOpenTargetModal"));p&&!p.isOpen||e?Fe(!1):p&&p.isOpen&&!e&&Fe(!0)},[p]);var Ke=Object(n.useState)([]),Je=Object(i.a)(Ke,2),Ze=Je[0],$e=Je[1];function Xe(e){y(e),E.current=e,function(e){var t=function(e){return e.match(/<script[\s\S]*?>/gi)?{msg:"<script> tags are not allowed",isCodeInvalid:!0,result:"error"}:e.match(/<img.*?src\s*=(.*?)/gi)||e.match(/url\(.*?\)/gi)||e.match(/<object.*?data\s*=(.*?)/gi)?{msg:"External images are not allowed",isCodeInvalid:!0,result:"error"}:e.match(/<link.*?href\s*=(.*?)/gi)||e.match(/@import.*?/gi)?{msg:"External stylesheets are not allowed",isCodeInvalid:!0,result:"error"}:e.match(/svg/gi)||e.match(/clip-path\s*:\s*path/gi)?{msg:"SVGs are not allowed",isCodeInvalid:!0,result:"error"}:e.match(/<embed.*?src\s*=(.*?)/gi)?{msg:"External resources are not allowed",isCodeInvalid:!0,result:"error"}:e.match(/srcdoc/gi)?{msg:'"srcdoc" attribute is not allowed',isCodeInvalid:!0,result:"error"}:e.match(/&[#0-9a-zA-Z]/gi)||function(e){for(var t=0,a=e.length;t<a;t++)if(e.charCodeAt(t)>255)return!0;return!1}(e)?{msg:"HTML entities are rendered differently in different systems and might not work as you expect",isCodeInvalid:!1,result:"warning"}:{msg:"No errors found",isCodeInvalid:!1,result:"success"}}(e);fe(t)}(e)}function Qe(){return(Qe=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),V(!1),G(!0),e.next=5,Object(N.E)({userId:a.uid,levelId:l});case 5:t=e.sent,G(!1),S(t),D({name:"levelSubmissionsBtnClick"});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function et(){return tt.apply(this,arguments)}function tt(){return(tt=Object(d.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A(!0),V(!1),D({name:"topSubmissionsBtnClick"});case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function at(e){Xe(e),k(!1),Oe.toast.info("Previous submission code loaded.")}function nt(){return(nt=Object(d.a)(m.a.mark(function e(){var t,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(D({name:"submitBtnClick"}),t=b,a&&a.isPro&&Ze.some(function(e){return e.shouldAutoRun})&&(Oe.toast.info("Running your auto-run editor plugins..."),Ze.forEach(function(e){e.shouldAutoRun&&(t=Object(_.k)(e,t))}),Xe(t)),!a){e.next=10;break}return e.next=7,a.getIdToken();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0="";case 11:n=e.t0,Me(t),ue(!0),fetch("".concat(N.a,"/getScore?levelId=").concat(l,"&token=").concat(n),{method:"post",headers:{"Content-Type":"Application/json"},body:JSON.stringify({code:t})}).then(function(e){return e.json()}).then(function(e){ue(!1),ae(e),!oe||e.score>oe.score?(le(Object(c.a)({},oe,{score:e.score,codeSize:t.length})),Object(_.l)(4),a?Oe.toast.info("New highscore!! You scored ".concat(e.score," with ").concat(e.match,"% match")):Ne(!0)):Oe.toast.info("You scored ".concat(e.score," with ").concat(e.match,"% match"))});case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){a&&a.isPro&&Object(N.n)({userId:a.uid}).then(function(e){$e(e)})},[a?a.isPro:""]),Object(n.useEffect)(function(){a&&Object(N.u)({playerId:a.uid,levelId:l}).then(le)},[l,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.Helmet,null,r.a.createElement("meta",{property:"og:image",content:"/api/socialImage/target?id=".concat(l)})),r.a.createElement(Y,{level:p,levelId:l}),r.a.createElement("div",{className:"container  container--fixed-height"},r.a.createElement("div",{className:"container__item  container__item--main container__item--editor"},r.a.createElement(n.Suspense,{fallback:r.a.createElement(R.e,null)},r.a.createElement(ze,{code:b,onChange:function(e,t,a){Xe(a)},type:"EDITOR",keyCombo:"CTRL + SHIFT + E",consoleInfo:he,meta:"".concat(b.length," characters")}),r.a.createElement(R.c,null,a&&a.isPro&&r.a.createElement(ee.a,{onClick:function(){$(!0),k(!1),V(!1),D({name:"openEditorPluginsBtnClick"})}},"Plugins ",r.a.createElement(T.a,null)),a&&r.a.createElement(ee.a,{onClick:function(){return Qe.apply(this,arguments)}},"My Solutions"),p&&p.isOpen&&r.a.createElement(ee.a,{onClick:et},"Top Solutions",r.a.createElement("img",{height:"18",src:"/images/open-book.svg",alt:"",style:{marginLeft:"0.5rem"}})),r.a.createElement(ee.a,{primary:!0,onClick:function(){return nt.apply(this,arguments)},disabled:!(!se&&!he.isCodeInvalid)&&"disabled ","data-hint":"Don't be afraid. You can submit multiple times",extraClasses:"hint--top-left",isLoading:se},se?"Submitting":"Submit")))),r.a.createElement("div",{className:"container__item  container__item--scrollable container__item--output"},r.a.createElement(Z.a,{meta:r.a.createElement("label",null,r.a.createElement("input",{defaultValue:!0,checked:ye,type:"checkbox",onChange:function(e){Ee(e.target.checked)}})," ","Slide & Compare")},"output"),r.a.createElement("div",{className:"item__content"},r.a.createElement(ke,{isSliderOn:ye,code:b,levelImage:p?p.image:""}),r.a.createElement("div",{className:"inner-header"},r.a.createElement("h4",{className:"header__title  header__title--inner"},"Your Score")),r.a.createElement("div",{className:"score-container"},r.a.createElement("div",null,r.a.createElement("p",{className:"score-container__score-type"},"Last Score:"),r.a.createElement("p",{className:"score-container__score"},te.score?"".concat(te.score," (").concat(te.match,"% match)"):"Submit to get score")),r.a.createElement("div",null,r.a.createElement("p",{className:"score-container__score-type"},"High Score:"),r.a.createElement("p",{className:"score-container__score"},oe?"".concat(oe.score," (").concat(oe.codeSize," chars)"):"-")),r.a.createElement("div",{className:"score-container__buttons"},r.a.createElement(ee.a,{onClick:function(){V(!0),k(!1),D({name:"levelLeaderboardBtnClick"})}},r.a.createElement("img",{className:"button__img",src:"/images/icons/rank_w.svg",alt:""})," ","Leaderboard"),a&&oe?r.a.createElement("a",{href:"http://twitter.com/share?url=https://cssbattle.dev/play/".concat(l,"&text=I am on ").concat(oe.score," score with just ").concat(oe.codeSize," characters on Target ").concat(l,". Do you have what it takes to beat that? \ud83d\ude0e&hashtags=CSSBattleChallenge&via=css_battle&related=css_battle"),target:"_blank",rel:"external noopener noreferrer",className:"button"},r.a.createElement("img",{height:"16",className:"button__img",src:"/images/twitter.svg",alt:""})," ","Challenge"):null)))),r.a.createElement("div",{className:"container__item  container__item--scrollable  container__item--target"},r.a.createElement(Z.a,{meta:"400px x 300px"},"Target"),p?r.a.createElement("div",{className:"item__content"},r.a.createElement("img",{alt:"",width:"400",height:"300",src:p.image,srcSet:"".concat(p.image.replace(/\.png/,"@2x.png")," 2x")}),r.a.createElement("div",{className:"inner-header"},r.a.createElement("h4",{className:"header__title  header__title--inner"},"Colors To Use"),r.a.createElement("p",{className:"key-combo  key-combo--inner-header"},"CTRL + Shift + C")),r.a.createElement("ul",{className:"colors-list"},(p.colors||["#FF0000","#FFFFFF"]).map(function(e){return r.a.createElement("li",{key:e},r.a.createElement(je,null,e))})),me?r.a.createElement(He,{levelId:l}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"inner-header"},r.a.createElement("h4",{className:"header__title  header__title--inner"},"Target Sponsor")),r.a.createElement(Pe,{type:window.selectedAd}))):null)),r.a.createElement(K,null),r.a.createElement(Le,{isOpen:z,onRequestClose:function(){return V(!1)}},z&&r.a.createElement(Be,{levelId:l})),r.a.createElement(Le,{isOpen:J,onRequestClose:function(){return $(!1)},side:"right"},J&&r.a.createElement(n.Suspense,{fallback:r.a.createElement(R.e,null)},r.a.createElement(Ve,{onScriptSelect:function(e){Xe(Object(_.k)(e,b)),Oe.toast.info('Plugin "'.concat(e.title,'" applied.'))},onUpdate:function(e){$e(e)}}))),r.a.createElement(Le,{isOpen:I,onRequestClose:function(){return k(!1)}},r.a.createElement(xe,{levelId:l,submissions:C,onSubmissionSelect:at,isFetching:P})),r.a.createElement(Le,{isOpen:F,onRequestClose:function(){return A(!1)}},F&&r.a.createElement(n.Suspense,{fallback:r.a.createElement(R.e,null)},r.a.createElement(Ae,{levelId:l,onSubmissionSelect:at}))),r.a.createElement(De,{isOpen:we,score:te.score,onRequestClose:function(){return Ne(!1)}}),r.a.createElement(Ue,{isOpen:Te,onViewSolutionsRequest:function(){We(),et()},onRequestClose:function(){return We()}}))};function qe(e){var t=e.question,a=e.children,n="#".concat(t.toLowerCase().replace(/\s/g,"-").replace(/\?/g,"")),o=window.location.hash;return r.a.createElement("details",{className:"faq-section",open:o===n},r.a.createElement("summary",{className:"faq-section__question"},t,r.a.createElement("a",{href:n,className:"faq-section__question-link"},"#")),r.a.createElement("div",{className:"faq-section__answer"},a))}var We=function(){return $("FAQs"),r.a.createElement(J,null,r.a.createElement("div",{className:"container__item container__item--main"},r.a.createElement(Z.a,null,"Frequently Asked Questions"),r.a.createElement("div",{className:"item__content item__content--inner-page  item__content--fixed-width"},r.a.createElement(qe,{question:"Is this free to play?"},r.a.createElement("p",null,"Yes, CSSBattle is a free to play platform. It only costs you your time ",r.a.createElement(R.f,{label:"smile",children:"\ud83d\ude00"}))),r.a.createElement(qe,{question:"Do I have to login to play?"},r.a.createElement("p",null,"Yes. You can see any target and try replicating it with code. But to submit and get a score, you'll need to login first.")),r.a.createElement(qe,{question:"Who can play this?"},r.a.createElement("p",null,"CSSBattle needs you to code in HTML (slightly) and CSS. If you have ever coded in these 2 web technologies, you are all set to play here."),r.a.createElement("p",null,"Even if you don't have any experience with HTML and CSS, they are super easy to start with."," ",r.a.createElement("a",{href:"https://cssreference.io/positioning/",rel:"external noopener"},"Open this CSS Reference")," ","in another browser tab, and get ready to battle!")),r.a.createElement(qe,{question:"What is a Battle?"},r.a.createElement("p",null,"A Battle is a collection of unique targets with its own separate leaderboard. Each Battle runs for a set amount of days/weeks and once it's finished, the Battle leaderboard is locked, and the winners are crowned."),r.a.createElement("p",null,"The targets in a Battle remain playable even after a Battle is over and changes in target leaderboard rankings still occur. This also affects the rankings in the"," ",r.a.createElement(p.a,{to:"/leaderboard"},"Global Leaderboard"),"."),r.a.createElement("p",null,"Note: Battle names do not hold any relation to any of the targets or the game itself. Any resemblance is mere coincidence. Do not over-think them. ",r.a.createElement(R.f,{label:"grimacing face",children:"\ud83d\ude2c"}))),r.a.createElement(qe,{question:"How to play?"},r.a.createElement("p",null,"The objective of the game is to write HTML/CSS to replicate the given target image in the least code possible."),r.a.createElement("p",null,"In the target page, start coding in the editor area on the left. As you start typing, the output area in the middle will start rendering your code. When you're confident that the output matches the target image, hit the ",r.a.createElement("strong",null,"Submit")," button to see your score."),r.a.createElement("h4",null,"Important points to Note:"),r.a.createElement("ul",{className:"unordered-list"},r.a.createElement("li",null,"What you write in the editor, renders as it is. We make no change. This means you don't even get the"," ",r.a.createElement("a",{href:"https://www.w3.org/wiki/Doctypes_and_markup_styles",rel:"external noopener noreferrer"},r.a.createElement("code",null,"DOCTYPE"))),r.a.createElement("li",null,'Since this is "CSS" battle, you are'," ",r.a.createElement("strong",null,"not allowed to use JavaScript, SVG or images in your code. In fact any external asset is not allowed.")," ","All code required to generate the target image has to be written in the given editor only.")),r.a.createElement("p",{className:"para"},"We also have a growing"," ",r.a.createElement(p.a,{to:"/tips"},"list of tips and tricks")," for CSS code-golfing."),r.a.createElement("p",null," Now go and climb the leaderboards!")),r.a.createElement(qe,{question:"How are scores calculated?"},r.a.createElement("p",null,"Our scoring algorithm takes into account 2 things: 1) How closely you have replicated the target image 2) Number of characters in the code. Based on these 2 factors, a score is calculated. Better the match and lesser the characters used, more the score."),r.a.createElement("p",null,"Also, it's worth mentioning that when your visual match with the target image is low, reducing character count won't give too much jump in score. Initially focus more on getting the match to 100%. Once you are on 100% match, the points start increasing more rapidly with decreasing character count. This exponential scoring is done to make it more rewarding for those who sweat it all out to get to extreme character counts!")),r.a.createElement(qe,{question:"What environment are solutions evaluated in?"},r.a.createElement("p",null,"Submitted code solutions are rendered in a headless Chromium browser on a Ubuntu 18.04 server."),r.a.createElement("p",null,"Your code is rendered as it is without any modification and the browser settings are all set on default."),r.a.createElement("p",null,"There might be slight differences in how different browsers render your code in the game preview. Hence till the time we find a way a reliable way to normalize these differences, we recommend playing on Chrome, Chromium, Brave or Safari browser (these are the ones we have tested).")),r.a.createElement(qe,{question:"How do I make use of friends?"},r.a.createElement("p",null,"With Friends, you can now choose who you want to see in the leaderboards and see your standings among them (alongside global players)."),r.a.createElement("p",null,"To add friends:"),r.a.createElement("ul",null,r.a.createElement("li",null,'Visit your friend\'s profile and click on the "Add to Friends" button.'),r.a.createElement("li",null,'Go to any page with a leaderboard and check "Friends Only" at the top. Now all the leaderboards will show your standings among just your friends.')),r.a.createElement("p",null,r.a.createElement("strong",null,"Note"),": Adding someone as a friend sends them a notification so they can add you back!")),r.a.createElement("p",null,"Still have a question? Don't hesitate to ask it on our"," ",r.a.createElement("a",{href:"https://community.cssbattle.dev",rel:"external noopener"},"Community forum")," ","or tweet out to"," ",r.a.createElement("a",{href:"https://twitter.com/css_battle",rel:"external noopener"},"@css_battle")))))},Ke=Object(n.lazy)(function(){return Promise.all([a.e(0),a.e(1),a.e(6)]).then(a.bind(null,130)).then(function(e){return{default:e.TipCodeBox}})});function Je(e){var t=e.title,a=e.children,o=e.beforeCode,l=e.afterCode;return r.a.createElement("div",{className:"scoring-tip"},r.a.createElement("h2",{className:"scoring-tip__title"},t),r.a.createElement("p",{className:"scoring-tip__desc"},a),r.a.createElement("div",{className:"scoring-tip__code-container"},r.a.createElement(n.Suspense,{fallback:r.a.createElement(R.e,null)},r.a.createElement(Ke,{code:o,isBefore:!0}),r.a.createElement(Ke,{code:l,isAfter:!0}))))}function Ze(e){var t=e.name,a=e.username;return r.a.createElement("a",{className:"link",href:"https://cssbattle.dev/player/".concat(a)},t)}var $e=function(){return $("Tips & Tricks"),r.a.createElement(J,null,r.a.createElement("div",{className:"container__item  container__item--aside  container__item--choose-leaderboard"},r.a.createElement(Z.a,null,"Info"),r.a.createElement("div",{className:"item__content  item__content--inner-page"},r.a.createElement("p",{className:"para",style:{marginTop:0}},"Here, we list some tips and tricks for CSS code-golfing that can help you get better scores. These tips are curated from numerous sources, many of which are generously shared by some of our awesome CSSBattle-ers:"," ",r.a.createElement(Ze,{name:"Alex Zaworski",username:"alexzaworski"}),","," ",r.a.createElement(Ze,{name:"Ilya Streltsyn",username:"selenit"}),","," ",r.a.createElement(Ze,{name:"Praveen",username:"apnerve"}),","," ",r.a.createElement(Ze,{name:"Stas Lashmanov",username:"cyberap"}),","," ",r.a.createElement(Ze,{name:"Jon Uleis",username:"jon"})," and many more \ud83d\ude4f!"),r.a.createElement("p",{className:"para  tip-disclaimer"},r.a.createElement("strong",null,"DISCLAIMER"),": The strategies listed here are not meant to be used in real projects. They mostly help you in CSSBattle code-golfing (expect for few which can be used elsewhere). In real world you'll probably use a minifier to make your files smaller."),r.a.createElement("p",{className:"para"},"Want to add a tip you discovered?"," ",r.a.createElement("a",{href:"mailto:contact@cssbattle.dev"},"Mail us"),"."))),r.a.createElement("div",{className:"container__item  container__item--padded container__item--main"},r.a.createElement(Z.a,null,"Tips & Tricks"),r.a.createElement("div",{className:"item__content item__content--inner-page"},r.a.createElement(Je,{title:"White-space removal",beforeCode:"<style>\n\tdiv {\n\t\tcolor: red;\n\t}\n</style>",afterCode:"<style>div{color:red;}</style>"},"The most basic strategy for code-golfing \u2014 remove unnecessary spaces, tabs, newlines, etc. These characters are not necessary for the code to work functionally. This is one of the things that minifiers do to your code too."),r.a.createElement(Je,{title:"Omit the last semi-colon",beforeCode:"<style>\n\tdiv {\n\t\tbackground: red;\n\t\theight: 200px;\n\t}\n</style>",afterCode:"<style>\n\tdiv {\n\t\tbackground: red;\n\t\theight: 200px\n\t}\n</style>"},"Semi-colon for the last CSS declaration in a declaration block can be omitted."),r.a.createElement(Je,{title:"Omit the closing tags",beforeCode:"<div></div>\n<style>\n\tdiv {\n\t\tcolor: red;\n\t}\n</style>",afterCode:"<div>\n<style>\n\tdiv {\n\t\tcolor: red;\n\t}"},"In most cases, you can omit the closing tag of an element. This works because the Browser closes them for you, to make the HTML valid. Though, be cautious as in some cases seemingly unclosed sibling tags can become parent-child of each other."),r.a.createElement(Je,{title:"Remove Double Quotes",beforeCode:'<div style="border:1px solid blue"></div>',afterCode:"<div style=border:solid+10px#00f></div>"},"You can remove the quotes from HTML attributes and replace the white-spaces before numbers with a ",r.a.createElement("code",null,"+"),"/",r.a.createElement("code",null,"-"),". Though, some re-ordering might be required to make things work. This is a very good example of exploiting how parsers understand your code. In the following example, we reorder things such that"," ",r.a.createElement("code",null,"+")," marks the beginning of ",r.a.createElement("code",null,"border-width")," and"," ",r.a.createElement("code",null,"#")," marks the start of ",r.a.createElement("code",null,"border-color"),"."),r.a.createElement(Je,{title:"Shorten selectors with made-up attributes",beforeCode:"<p><p><p><p><p>\n<style>\n\tp:nth-child(3){\n\t\tbackground: red;\n\t}\n</style>",afterCode:"<p><p><p i><p><p>\n<style>\n\tp[i]{\n\t\tbackground: red;\n\t}\n</style>"},"You can assign made-up attribute to any element to target it specifically in your selectors. Here is an example where you want to select the 3rd ",r.a.createElement("code",null,"<P>")," tag."),r.a.createElement(Je,{title:"position:fixed beats position:absolute, mostly",beforeCode:"<style>\n\tdiv{\n\t\tposition: absolute;\n\t}\n</style>",afterCode:"<style>\n\tdiv{\n\t\tposition: fixed;\n\t}\n</style>"},"In most cases, you might want to absolutely position an element with respect to the window/viewport instead of another element. In such"," ",r.a.createElement("code",null,"position: fixed")," can save you a good 3 characters! Neat, right?!"),r.a.createElement(Je,{title:"Play with the units",beforeCode:"<style>\n\tdiv{\n\t\twidth: 100px;\n\t}\n</style>",afterCode:"<style>\n\tdiv{\n\t\twidth: 25vw;\n\t}\n</style>"},"Experimenting with different units can save you a character or two, and give you that extra edge. For eg. ",r.a.createElement("code",null,"100px")," is better written as ",r.a.createElement("code",null,"25vw")," for CSSBattle's 400px target width. And guess what,"," ",r.a.createElement(Ze,{name:"Alex Zaworski",username:"alexzaworski"})," also has created a wonderful open-source tool to help you with just this, called"," ",r.a.createElement("a",{href:"https://github.com/alexzaworski/unit-golfer",rel:"external noopener"},"unit-golf"),"!"),r.a.createElement(Je,{title:"You don't always need to add an HTML element to style!",beforeCode:"<div>\n<style>\n\tdiv{\n\t\tbackground: red;\n\t}\n</style>",afterCode:"<style>\n\tbody{\n\t\tbackground: red;\n\t}\n</style>"},"By default, you have the ",r.a.createElement("code",null,"html")," and ",r.a.createElement("code",null,"body")," ","elements to style in your code!"),r.a.createElement(Je,{title:"Omit the 'px' unit",beforeCode:"<div>\n<style>\n\tdiv {\n\t\twidth: 100px;\n\t\tmargin: 8px;\n\t}\n</style>",afterCode:"<div>\n<style>\n\tdiv {\n\t\twidth: 100;\n\t\tmargin: 8;\n\t}\n</style>"},"For many properties, you can omit the ",r.a.createElement("code",null,"px")," unit and just write the numeric value."),r.a.createElement(Je,{title:"<body> has some ancient super-attributes!",beforeCode:"<style>\n\tbody {\n\t\tbackground: red;\n\t\tcolor:green;\n\t}\n</style>",afterCode:"<body bgcolor=red text=green>"},"There are old deprecated attributes available on ",r.a.createElement("code",null,"body")," ","tag to give background and text color. These can prove deadly in battles!"),r.a.createElement("p",{className:"para"},"We'll keep adding more mind-blowing tips here. Check back for more!"))))},Xe=function(){return $("About"),r.a.createElement(J,null,r.a.createElement("div",{className:"container__item container__item--main"},r.a.createElement(Z.a,null,"About CSSBattle"),r.a.createElement("div",{className:"item__content  item__content--inner-page  item__content--fixed-width"},r.a.createElement("p",{className:"para"},"CSSBattle is an online CSS"," ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Code_golf",rel:"external"},"Code Golfing")," ",'game. Here, players from all around the world try to visually replicate "Targets" in smallest possible CSS code and battle it out to get to the top of the leaderboard.'),r.a.createElement("p",{className:"para"},"CSSBattle is made by these 2 CSS freaks:"),r.a.createElement("div",{style:{display:"flex",gap:"2rem",flexWrap:"wrap"}},r.a.createElement("figure",{class:"aboutus-avatar"},r.a.createElement("img",{src:"/images/avatar-chang.png",height:"300",style:{borderRadius:"1rem"}}),r.a.createElement("caption",null,r.a.createElement("a",{href:"https://twitter.com/chinchang457",rel:"external"},"Kushagra Gour"))),r.a.createElement("figure",{class:"aboutus-avatar"},r.a.createElement("img",{src:"/images/avatar-kush.jpg",height:"300",style:{borderRadius:"1rem"}}),r.a.createElement("caption",null,r.a.createElement("a",{href:"https://twitter.com/kushsolitary",rel:"external"},"Kushagra Agarwal")))),r.a.createElement("h3",{className:"heading"},"Some mentions around the Web"),r.a.createElement("p",{className:"para"},r.a.createElement("a",{href:"https://www.producthunt.com/posts/cssbattle?utm_source=badge-featured&utm_medium=badge&utm_souce=badge-cssbattle",target:"_blank",rel:"external noreferrer noopener"},r.a.createElement("img",{src:"https://api.producthunt.com/widgets/embed-image/v1/featured.svg?post_id=150383&theme=dark",alt:"CSSBattle - Play against others in golf with your CSS skills | Product Hunt Embed",style:{width:"250px",height:"54px"},width:"250px",height:"54px"}))),r.a.createElement("h3",{className:"heading"},"Press Kit"),r.a.createElement("p",{className:"para"},"Download our logos, product screenshots, and the press release of the product."),r.a.createElement("a",{href:"/cssbattle-presskit.zip",className:"button"},"Download Press Kit"))))},Qe=function(){Object(n.useEffect)(function(){window.document.title="Stats - CSSBattle"},[]);var e=Object(n.useState)({playerCount:0}),t=Object(i.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)(function(){Object(N.s)().then(o)},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container__item container__item--main"},r.a.createElement(Z.a,null,"Stats"),r.a.createElement("div",{className:"item__content  item__content--inner-page"},r.a.createElement("p",{className:"para"},r.a.createElement("span",{role:"img","aria-label":"Users icon"},"\ud83d\udc65")," ",r.a.createElement("span",{style:{fontSize:"3em"}},a.playerCount)," players"),r.a.createElement("p",{className:"para"},r.a.createElement("span",{role:"img","aria-label":"Stats icon"},"\ud83d\udcca")," ",r.a.createElement("span",{style:{fontSize:"3em"}},a.submissionCount)," ","submissions")))),r.a.createElement(K,null))},et=function(){return Object(n.useEffect)(function(){window.document.title="Privacy & Terms - CSSBattle"},[]),r.a.createElement(J,null,r.a.createElement("div",{className:"container__item  container__item--main"},r.a.createElement(Z.a,null,"Privacy and Terms"),r.a.createElement("div",{className:"item__content  item__content--inner-page  item__content--fixed-width"},r.a.createElement("p",{className:"para"},r.a.createElement("em",null,"Last Updated: ",r.a.createElement("time",{dateTime:"2019-03-26"},"13th May 2019"))),r.a.createElement("p",null,"Let's try to keep things simple here, shall we?"),r.a.createElement("p",{className:"para"},"CSSBattle is an online code golfing game where players write HTML and CSS to visually replicate targets."),r.a.createElement("h3",{style:{margin:"2em 0 1em"}},"Data"),r.a.createElement("ul",{className:"unordered-list"},r.a.createElement("li",null,"When you login, CSSBattle stores your email ID and profile picture. Your profile picture is public on the website."),r.a.createElement("li",null,"When you start playing, CSSBattle stores your score data, submitted source code and any profile information you fill out."),r.a.createElement("li",null,"Your score data and profile information is public for everyone to see."),r.a.createElement("li",null,"Your email ID is only used for authentication and is not shared with anyone, at all."),r.a.createElement("li",null,"This website uses Google Analytics to track aggregated statistics like total pageviews, total submissions. No user identifiable data is tracked.")),r.a.createElement("h3",{style:{margin:"2em 0 1em"}},"Security"),r.a.createElement("ul",{className:"unordered-list"},r.a.createElement("li",null,"CSSBattle website works strictly over HTTPS to provide you a secured environment."),r.a.createElement("li",null,"Your submitted source codes are secured and no other player can access them.")))))};function tt(e){var t=e.iconName,a=e.href;return r.a.createElement("a",{className:"link  link--user-social",rel:"external noopener noreferrer",target:"_blank",href:a},r.a.createElement(y,{name:t,size:"32"}))}var at,nt=function(e){var t=e.match.params.username,a=Object(n.useContext)(v.a),o=Object(n.useState)(),l=Object(i.a)(o,2),c=l[0],s=l[1],u=Object(n.useState)(),h=Object(i.a)(u,2),f=h[0],g=h[1],b=Object(n.useState)(),y=Object(i.a)(b,2),E=y[0],w=y[1],C=function(){var e=Object(d.a)(m.a.mark(function e(t){var a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=[],n=1;n<=Se.a.length;n++)a.push(Object(N.x)(n));return e.next=4,Promise.all(a);case 4:return r=(r=e.sent).map(function(e,a){var n=e.findIndex(function(e){return e.userId===t});if(-1!==n)return{levelId:e[n].levelId,data:e[n],rank:n+1}}).filter(function(e){return e}).sort(function(e,t){return e.rank-t.rank}),e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){window.document.title="".concat(c?c.displayName:""," | CSSBattle")},[c]),Object(n.useEffect)(function(){(t.length>20?Object(N.z)(t):Object(N.A)(t)).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;s(e),e&&(Object(N.g)({userId:e.id||e.userId}).then(function(e){g(e)}),C(e.id).then(function(e){w(e)}))})},[t]);var S=Object(n.useState)(),O=Object(i.a)(S,2),j=O[0],I=O[1];Object(n.useEffect)(function(){c&&a&&Object(N.F)({followedId:c.id,followerId:a.uid}).then(function(e){I(e)})},[c,a?a.uid:""]);var k,B=Object(n.useState)(),x=Object(i.a)(B,2),F=x[0],A=x[1];return r.a.createElement(J,null,t.length<=20?r.a.createElement(Re.Helmet,null,r.a.createElement("link",{rel:"canonical",href:"https://cssbattle.dev/player/".concat(t)})):null,r.a.createElement("div",{className:"container__item  container__item--user-info"},r.a.createElement(Z.a,null,"User Info"),r.a.createElement("div",{className:"profile__user-details"},void 0===c&&r.a.createElement("p",{style:{display:"flex",alignItems:"center",margin:"1rem"}},r.a.createElement(ce.a,null)," Fetching player information..."),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"user-details__main"},r.a.createElement(R.a,{size:"90",url:c.avatar,className:"user-details__avatar",alt:c.displayName||""}),r.a.createElement("h1",{className:"user-details__name"},c.displayName," ",c.isPro&&r.a.createElement(T.a,{height:"18"})),c.username&&r.a.createElement("p",{className:"user-details__username"},"@",c.username)),c.isAvailableForHire&&r.a.createElement("p",{className:"user-details__hire user-details__hire--available"},"Available for hire"),c.whatYouDo&&r.a.createElement("p",{className:"user-details__extra  user-details__extra--job"},c.whatYouDo),c.country&&r.a.createElement("p",{className:"user-details__extra  user-details__extra--location"},c.country),r.a.createElement("p",{className:"user-details__social-links"},c.links&&c.links.website&&r.a.createElement(tt,{href:(k=c.links.website,k.match(/http/)||k.match(/www/)?k:"https://".concat(k)),iconName:"earth"}),c.links&&c.links.github&&r.a.createElement(tt,{href:"https://github.com/".concat(c.links.github),iconName:"github"}),c.links&&c.links.twitter&&r.a.createElement(tt,{href:"https://twitter.com/".concat(c.links.twitter),iconName:"twitter"}),c.links&&c.links.codepen&&r.a.createElement(tt,{href:"https://codepen.io/".concat(c.links.codepen),iconName:"codepen"})),a&&a.uid===c.id&&r.a.createElement("p",{className:"para"},r.a.createElement(p.a,{className:"button button--primary button--full-width",to:"/settings/"},c.username?"Edit profile":"Claim you username")),a&&!j&&c.id!==a.uid?r.a.createElement("p",{style:{marginTop:"1.5rem"}},r.a.createElement(ee.a,{primary:!0,extraClasses:"button--full-width",isLoading:F,onClick:function(){A(!0),Object(N.h)({followedId:c.id,followerId:a.uid}).then(function(){A(!1),I(!0),Oe.toast.info('You added "'.concat(c.displayName,'" as a friend. (Friends show in your friend-only leaderboards)')),D({name:"playerFriended",label:c.id})})},disabled:void 0===j},"Add to Friends")):null,a&&j?r.a.createElement("p",{style:{marginTop:"1.5rem"}},r.a.createElement(ee.a,{extraClasses:"button--full-width",isLoading:F,onClick:function(){A(!0),Object(N.M)({followedId:c.id,followerId:a.uid}).then(function(){A(!1),I(!1),Oe.toast.info('You removed "'.concat(c.displayName,'" as a friend.')),D({name:"playerUnFriended",label:c.id})})},disabled:void 0===j},"Remove from Friends")):null))),r.a.createElement("div",{className:"container__item  container__item--main"},r.a.createElement(Z.a,null,"Achievements"),r.a.createElement("div",{className:"item__content item__content--inner-page"},!f&&null!==c&&r.a.createElement("p",{style:{display:"flex",alignItems:"center",margin:"1rem"}},r.a.createElement(ce.a,null)," Fetching player data..."),null===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{width:"300",src:"/images/not-found.png",alt:""}),r.a.createElement("p",null,r.a.createElement("em",{style:{color:"grey"}},"Image by"," ",r.a.createElement("a",{target:"_blank",rel:"external noreferrer noopener",href:"https://icons8.com/ouch/illustration/no-connection"},"Icons8"))),r.a.createElement("p",null,"This profile doesn't exists. If that is you, you can claim it by logging in.")),f&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"global-stats  global-stats--main"},r.a.createElement("div",{className:"global-stats__item  global-stats__item--rank  global-stats__item--rank--".concat(f.rank)},r.a.createElement("p",{className:"global-stats__item__value"},Object(_.d)(f.rank)," /"," ",r.a.createElement("small",null,f.totalPlayers)),r.a.createElement("p",{className:"global-stats__item__id"},"Global Rank")),r.a.createElement("div",{className:"global-stats__item"},r.a.createElement("p",{className:"global-stats__item__value"},f.score.toFixed(2)),r.a.createElement("p",{className:"global-stats__item__id"},"Total Score")),r.a.createElement("div",{className:"global-stats__item"},r.a.createElement("p",{className:"global-stats__item__value"},f.playedCount,"/",Se.a.length),r.a.createElement("p",{className:"global-stats__item__id"},"Targets Played"))),a&&c.id===a.uid&&!f.rank&&r.a.createElement("p",{className:"para"},"* You need at least a score of 10000 to see your rank.")),E&&E.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"inner-header  inner-header--inner-page"},r.a.createElement("h4",{className:"header__title  header__title--inner"},"Leading Targets"),r.a.createElement("p",{className:"key-combo  key-combo--inner-header"},E.length,"/",Se.a.length)),r.a.createElement("div",{className:"leading-targets"},E.map(function(e){return r.a.createElement("div",{className:"leading-targets__item",key:e.levelId},r.a.createElement(p.a,{to:"/play/".concat(e.levelId),className:"shadow-link",title:"Play target number ".concat(e.levelId)}),r.a.createElement("img",{src:"/targets/".concat(e.levelId,".png"),srcSet:"".concat((t="/targets/".concat(e.levelId,".png"),t.replace(/\.png/,"@2x.png"))," 2x"),className:"leading-targets__image",alt:""}),r.a.createElement("div",{className:"leader-targets__rank-container  leader-targets__rank-container--".concat(e.rank)},r.a.createElement("div",{className:"target-top-info"},r.a.createElement("p",{className:"target-top-info__pill"},"#",e.levelId)),r.a.createElement("p",{className:"leader-targets__rank"},Object(_.d)(e.rank)),r.a.createElement("p",{className:"leader-targets__score"},e.data.score.toFixed(2)," ","{",e.data.codeSize,"}")));var t}))):null)))},rt=function(e){var t=e.targetId,a=e.myBest,o=e.leaderBest,l=e.leaderProfile,c=Object(n.useState)(),s=Object(i.a)(c,2),u=s[0],m=s[1],d=Object(n.useState)(),p=Object(i.a)(d,2),h=p[0],f=p[1];return Object(n.useEffect)(function(){var e=a.codeSize-o.codeSize;m(0===e)},[o,a]),Object(n.useEffect)(function(){a.score>0?f(!0):f(!1)},[a]),r.a.createElement("div",{className:"performance-tile ".concat(u?"performance-tile--leader":""," ").concat(h?"":"performance-tile--not-played")},r.a.createElement("div",{className:"performance__leader"},r.a.createElement(R.a,{small:!0,size:"40",url:l.avatar,username:l.username,userId:l.id}),r.a.createElement("div",{className:"performance__user-title"},"1st"),r.a.createElement("div",{className:"performance__user-score"},"{".concat(o.codeSize,"}"))),r.a.createElement("div",{className:"performance__diff"},100===a.match?a.codeSize-o.codeSize:"N/A"),r.a.createElement("div",{className:"performance__you"},r.a.createElement("div",{className:"performance__user-score"},100===a.match?"{".concat(a.codeSize,"}"):null,a.match>0&&a.match<100?"<100% match":null,a.score?null:"Not Played"),r.a.createElement("div",{className:"performance__user-title"},"You")),r.a.createElement("a",{className:"performance__target",href:"/play/".concat(t),"aria-label":"Play target ".concat(t)},r.a.createElement("div",{className:"target-top-info"},r.a.createElement("span",{className:"target-top-info__pill"},"#",t)),r.a.createElement("img",{src:"/targets/".concat(t,".png"),alt:""})))},ot=function(e){var t=e.history,a=Object(q.a)();Object(n.useEffect)(function(){window.document.title="My Analytics | CSSBattle"}),Object(n.useEffect)(function(){return a?a.isPro?void 0:t.push("/pro"):t.push("/login")},[!!a&&a.isPro]);var o=Object(n.useState)(function(){var e=x.battles.find(function(e){return Object(x.getBattleStatus)(e)===x.BattleStatuses.ONGOING});return e||(e=x.battles.filter(function(e){return Object(x.getBattleStatus)(e)===x.BattleStatuses.FINISHED}).pop()),e}),l=Object(i.a)(o,2),c=l[0],s=l[1],u=Object(n.useState)(!1),m=Object(i.a)(u,2),d=m[0],p=m[1],h=Object(n.useState)([]),f=Object(i.a)(h,2),g=f[0],b=f[1];function y(e,t){return e.myHighscore.score?t.myHighscore.score?e.myHighscore.match<100?-1:t.myHighscore.match<100?1:e.codeDiff-t.codeDiff:1:-1}Object(n.useEffect)(function(){a&&a.isPro&&(p(!0),b([]),Promise.all([Object(N.y)(c.levelIds.filter(function(e){return e})),Object(N.j)({playerId:a.uid})]).then(function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];p(!1);var r=a.map(function(e){var t=n[e.levelId]||{};return{targetId:e.levelId,codeDiff:e.highscore.codeSize-t.codeSize,myHighscore:t,leaderHighscore:e.highscore,leaderProfile:e.highscore.playerProfile}});b(r)}))},[a?a.uid:"",c.id]);var E=Object(n.useState)("difference"),v=Object(i.a)(E,2),_=v[0],w=v[1];return Object(n.useEffect)(function(){g.length&&("id"===_?g.sort(function(e,t){return e.targetId-t.targetId}):g.sort(y),b(Object(oe.a)(g)))},[_,g.length]),a&&a.isPro?r.a.createElement(J,null,r.a.createElement("div",{className:"container__item  container__item--main"},r.a.createElement("div",{className:"item__content item__content--inner-page"},r.a.createElement("div",{className:"target-stats"},r.a.createElement("div",{className:"target-stats__desc"},r.a.createElement("p",{className:"target-stats__title"},"Performance"),r.a.createElement("div",{className:"performance__diff"},"Char difference"),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{htmlFor:"filter"},"Switch battle:"),r.a.createElement("select",{className:"width--full",onChange:function(e){var t=parseInt(e.target.value,10);s(0!==t?x.battles.find(function(e){return e.id===t}):{levelIds:x.battles.reduce(function(e,t){return e.concat(t.levelIds)},[])})},value:c.id},r.a.createElement("option",{value:"0",key:"0"},"All battles"),x.battles.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},"#",e.id," - ",e.name)}))),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{htmlFor:"sortBy"},"Sort by:"),r.a.createElement("select",{value:_,id:"sortBy",disabled:!g.length,onChange:function(e){return w(e.target.value)}},r.a.createElement("option",{value:"id"},"Target number"),r.a.createElement("option",{value:"difference"},"Difference")))),r.a.createElement("div",{className:"performance-tiles"},d&&r.a.createElement("p",{style:{display:"flex",alignItems:"center",margin:"1rem"}},r.a.createElement(ce.a,null)," Fetching your performance..."),g.map(function(e){var t=e.targetId,a=e.leaderHighscore,n=e.myHighscore,o=e.leaderProfile;return r.a.createElement(rt,{key:t,targetId:t,leaderBest:a,myBest:n,leaderProfile:o})})))))):null},lt=[{countryName:"Afghanistan",countryShortCode:"AF"},{countryName:"\xc5land Islands",countryShortCode:"AX"},{countryName:"Albania",countryShortCode:"AL"},{countryName:"Algeria",countryShortCode:"DZ"},{countryName:"American Samoa",countryShortCode:"AS"},{countryName:"Andorra",countryShortCode:"AD"},{countryName:"Angola",countryShortCode:"AO"},{countryName:"Anguilla",countryShortCode:"AI"},{countryName:"Antarctica",countryShortCode:"AQ"},{countryName:"Antigua and Barbuda",countryShortCode:"AG"},{countryName:"Argentina",countryShortCode:"AR"},{countryName:"Armenia",countryShortCode:"AM"},{countryName:"Aruba",countryShortCode:"AW"},{countryName:"Australia",countryShortCode:"AU"},{countryName:"Austria",countryShortCode:"AT"},{countryName:"Azerbaijan",countryShortCode:"AZ"},{countryName:"Bahamas",countryShortCode:"BS"},{countryName:"Bahrain",countryShortCode:"BH"},{countryName:"Bangladesh",countryShortCode:"BD"},{countryName:"Barbados",countryShortCode:"BB"},{countryName:"Belarus",countryShortCode:"BY"},{countryName:"Belgium",countryShortCode:"BE"},{countryName:"Belize",countryShortCode:"BZ"},{countryName:"Benin",countryShortCode:"BJ"},{countryName:"Bermuda",countryShortCode:"BM"},{countryName:"Bhutan",countryShortCode:"BT"},{countryName:"Bolivia",countryShortCode:"BO"},{countryName:"Bonaire, Sint Eustatius and Saba",countryShortCode:"BQ"},{countryName:"Bosnia and Herzegovina",countryShortCode:"BA"},{countryName:"Botswana",countryShortCode:"BW"},{countryName:"Bouvet Island",countryShortCode:"BV"},{countryName:"Brazil",countryShortCode:"BR"},{countryName:"British Indian Ocean Territory",countryShortCode:"IO"},{countryName:"Brunei Darussalam",countryShortCode:"BN"},{countryName:"Bulgaria",countryShortCode:"BG"},{countryName:"Burkina Faso",countryShortCode:"BF"},{countryName:"Burundi",countryShortCode:"BI"},{countryName:"Cambodia",countryShortCode:"KH"},{countryName:"Cameroon",countryShortCode:"CM"},{countryName:"Canada",countryShortCode:"CA"},{countryName:"Cape Verde",countryShortCode:"CV"},{countryName:"Cayman Islands",countryShortCode:"KY"},{countryName:"Central African Republic",countryShortCode:"CF"},{countryName:"Chad",countryShortCode:"TD"},{countryName:"Chile",countryShortCode:"CL"},{countryName:"China",countryShortCode:"CN"},{countryName:"Christmas Island",countryShortCode:"CX"},{countryName:"Cocos (Keeling) Islands",countryShortCode:"CC"},{countryName:"Colombia",countryShortCode:"CO"},{countryName:"Comoros",countryShortCode:"KM"},{countryName:"Congo, Republic of the (Brazzaville)",countryShortCode:"CG"},{countryName:"Congo, the Democratic Republic of the (Kinshasa)",countryShortCode:"CD"},{countryName:"Cook Islands",countryShortCode:"CK"},{countryName:"Costa Rica",countryShortCode:"CR"},{countryName:"C\xf4te d'Ivoire, Republic of",countryShortCode:"CI"},{countryName:"Croatia",countryShortCode:"HR"},{countryName:"Cuba",countryShortCode:"CU"},{countryName:"Cura\xe7ao",countryShortCode:"CW"},{countryName:"Cyprus",countryShortCode:"CY"},{countryName:"Czech Republic",countryShortCode:"CZ"},{countryName:"Denmark",countryShortCode:"DK"},{countryName:"Djibouti",countryShortCode:"DJ"},{countryName:"Dominica",countryShortCode:"DM"},{countryName:"Dominican Republic",countryShortCode:"DO"},{countryName:"Ecuador",countryShortCode:"EC"},{countryName:"Egypt",countryShortCode:"EG"},{countryName:"El Salvador",countryShortCode:"SV"},{countryName:"Equatorial Guinea",countryShortCode:"GQ"},{countryName:"Eritrea",countryShortCode:"ER"},{countryName:"Estonia",countryShortCode:"EE"},{countryName:"Ethiopia",countryShortCode:"ET"},{countryName:"Falkland Islands (Islas Malvinas)",countryShortCode:"FK"},{countryName:"Faroe Islands",countryShortCode:"FO"},{countryName:"Fiji",countryShortCode:"FJ"},{countryName:"Finland",countryShortCode:"FI"},{countryName:"France",countryShortCode:"FR"},{countryName:"French Guiana",countryShortCode:"GF"},{countryName:"French Polynesia",countryShortCode:"PF"},{countryName:"French Southern and Antarctic Lands",countryShortCode:"TF"},{countryName:"Gabon",countryShortCode:"GA"},{countryName:"Gambia, The",countryShortCode:"GM"},{countryName:"Georgia",countryShortCode:"GE"},{countryName:"Germany",countryShortCode:"DE"},{countryName:"Ghana",countryShortCode:"GH"},{countryName:"Gibraltar",countryShortCode:"GI"},{countryName:"Greece",countryShortCode:"GR"},{countryName:"Greenland",countryShortCode:"GL"},{countryName:"Grenada",countryShortCode:"GD"},{countryName:"Guadeloupe",countryShortCode:"GP"},{countryName:"Guam",countryShortCode:"GU"},{countryName:"Guatemala",countryShortCode:"GT"},{countryName:"Guernsey",countryShortCode:"GG"},{countryName:"Guinea",countryShortCode:"GN"},{countryName:"Guinea-Bissau",countryShortCode:"GW"},{countryName:"Guyana",countryShortCode:"GY"},{countryName:"Haiti",countryShortCode:"HT"},{countryName:"Heard Island and McDonald Islands",countryShortCode:"HM"},{countryName:"Holy See (Vatican City)",countryShortCode:"VA"},{countryName:"Honduras",countryShortCode:"HN"},{countryName:"Hong Kong",countryShortCode:"HK"},{countryName:"Hungary",countryShortCode:"HU"},{countryName:"Iceland",countryShortCode:"IS"},{countryName:"India",countryShortCode:"IN"},{countryName:"Indonesia",countryShortCode:"ID"},{countryName:"Iran, Islamic Republic of",countryShortCode:"IR"},{countryName:"Iraq",countryShortCode:"IQ"},{countryName:"Ireland",countryShortCode:"IE"},{countryName:"Isle of Man",countryShortCode:"IM"},{countryName:"Israel",countryShortCode:"IL"},{countryName:"Italy",countryShortCode:"IT"},{countryName:"Jamaica",countryShortCode:"JM"},{countryName:"Japan",countryShortCode:"JP"},{countryName:"Jersey",countryShortCode:"JE"},{countryName:"Jordan",countryShortCode:"JO"},{countryName:"Kazakhstan",countryShortCode:"KZ"},{countryName:"Kenya",countryShortCode:"KE"},{countryName:"Kiribati",countryShortCode:"KI"},{countryName:"Korea, Democratic People's Republic of",countryShortCode:"KP"},{countryName:"Korea, Republic of",countryShortCode:"KR"},{countryName:"Kuwait",countryShortCode:"KW"},{countryName:"Kyrgyzstan",countryShortCode:"KG"},{countryName:"Laos",countryShortCode:"LA"},{countryName:"Latvia",countryShortCode:"LV"},{countryName:"Lebanon",countryShortCode:"LB"},{countryName:"Lesotho",countryShortCode:"LS"},{countryName:"Liberia",countryShortCode:"LR"},{countryName:"Libya",countryShortCode:"LY"},{countryName:"Liechtenstein",countryShortCode:"LI"},{countryName:"Lithuania",countryShortCode:"LT"},{countryName:"Luxembourg",countryShortCode:"LU"},{countryName:"Macao",countryShortCode:"MO"},{countryName:"Macedonia, Republic of",countryShortCode:"MK"},{countryName:"Madagascar",countryShortCode:"MG"},{countryName:"Malawi",countryShortCode:"MW"},{countryName:"Malaysia",countryShortCode:"MY"},{countryName:"Maldives",countryShortCode:"MV"},{countryName:"Mali",countryShortCode:"ML"},{countryName:"Malta",countryShortCode:"MT"},{countryName:"Marshall Islands",countryShortCode:"MH"},{countryName:"Martinique",countryShortCode:"MQ"},{countryName:"Mauritania",countryShortCode:"MR"},{countryName:"Mauritius",countryShortCode:"MU"},{countryName:"Mayotte",countryShortCode:"YT"},{countryName:"Mexico",countryShortCode:"MX"},{countryName:"Micronesia, Federated States of",countryShortCode:"FM"},{countryName:"Moldova",countryShortCode:"MD"},{countryName:"Monaco",countryShortCode:"MC"},{countryName:"Mongolia",countryShortCode:"MN"},{countryName:"Montenegro",countryShortCode:"ME"},{countryName:"Montserrat",countryShortCode:"MS"},{countryName:"Morocco",countryShortCode:"MA"},{countryName:"Mozambique",countryShortCode:"MZ"},{countryName:"Myanmar",countryShortCode:"MM"},{countryName:"Namibia",countryShortCode:"NA"},{countryName:"Nauru",countryShortCode:"NR"},{countryName:"Nepal",countryShortCode:"NP"},{countryName:"Netherlands",countryShortCode:"NL"},{countryName:"New Caledonia",countryShortCode:"NC"},{countryName:"New Zealand",countryShortCode:"NZ"},{countryName:"Nicaragua",countryShortCode:"NI"},{countryName:"Niger",countryShortCode:"NE"},{countryName:"Nigeria",countryShortCode:"NG"},{countryName:"Niue",countryShortCode:"NU"},{countryName:"Norfolk Island",countryShortCode:"NF"},{countryName:"Northern Mariana Islands",countryShortCode:"MP"},{countryName:"Norway",countryShortCode:"NO"},{countryName:"Oman",countryShortCode:"OM"},{countryName:"Pakistan",countryShortCode:"PK"},{countryName:"Palau",countryShortCode:"PW"},{countryName:"Palestine, State of",countryShortCode:"PS"},{countryName:"Panama",countryShortCode:"PA"},{countryName:"Papua New Guinea",countryShortCode:"PG"},{countryName:"Paraguay",countryShortCode:"PY"},{countryName:"Peru",countryShortCode:"PE"},{countryName:"Philippines",countryShortCode:"PH"},{countryName:"Pitcairn",countryShortCode:"PN"},{countryName:"Poland",countryShortCode:"PL"},{countryName:"Portugal",countryShortCode:"PT"},{countryName:"Puerto Rico",countryShortCode:"PR"},{countryName:"Qatar",countryShortCode:"QA"},{countryName:"R\xe9union",countryShortCode:"RE"},{countryName:"Romania",countryShortCode:"RO"},{countryName:"Russian Federation",countryShortCode:"RU"},{countryName:"Rwanda",countryShortCode:"RW"},{countryName:"Saint Barth\xe9lemy",countryShortCode:"BL"},{countryName:"Saint Helena, Ascension and Tristan da Cunha",countryShortCode:"SH"},{countryName:"Saint Kitts and Nevis",countryShortCode:"KN"},{countryName:"Saint Lucia",countryShortCode:"LC"},{countryName:"Saint Martin",countryShortCode:"MF"},{countryName:"Saint Pierre and Miquelon",countryShortCode:"PM"},{countryName:"Saint Vincent and the Grenadines",countryShortCode:"VC"},{countryName:"Samoa",countryShortCode:"WS"},{countryName:"San Marino",countryShortCode:"SM"},{countryName:"Sao Tome and Principe",countryShortCode:"ST"},{countryName:"Saudi Arabia",countryShortCode:"SA"},{countryName:"Senegal",countryShortCode:"SN"},{countryName:"Serbia",countryShortCode:"RS"},{countryName:"Seychelles",countryShortCode:"SC"},{countryName:"Sierra Leone",countryShortCode:"SL"},{countryName:"Singapore",countryShortCode:"SG"},{countryName:"Sint Maarten (Dutch part)",countryShortCode:"SX"},{countryName:"Slovakia",countryShortCode:"SK"},{countryName:"Slovenia",countryShortCode:"SI"},{countryName:"Solomon Islands",countryShortCode:"SB"},{countryName:"Somalia",countryShortCode:"SO"},{countryName:"South Africa",countryShortCode:"ZA"},{countryName:"South Georgia and South Sandwich Islands",countryShortCode:"GS"},{countryName:"South Sudan",countryShortCode:"SS"},{countryName:"Spain",countryShortCode:"ES"},{countryName:"Sri Lanka",countryShortCode:"LK"},{countryName:"Sudan",countryShortCode:"SD"},{countryName:"Suriname",countryShortCode:"SR"},{countryName:"Swaziland",countryShortCode:"SZ"},{countryName:"Sweden",countryShortCode:"SE"},{countryName:"Switzerland",countryShortCode:"CH"},{countryName:"Syrian Arab Republic",countryShortCode:"SY"},{countryName:"Taiwan",countryShortCode:"TW"},{countryName:"Tajikistan",countryShortCode:"TJ"},{countryName:"Tanzania, United Republic of",countryShortCode:"TZ"},{countryName:"Thailand",countryShortCode:"TH"},{countryName:"Timor-Leste",countryShortCode:"TL"},{countryName:"Togo",countryShortCode:"TG"},{countryName:"Tokelau",countryShortCode:"TK"},{countryName:"Tonga",countryShortCode:"TO"},{countryName:"Trinidad and Tobago",countryShortCode:"TT"},{countryName:"Tunisia",countryShortCode:"TN"},{countryName:"Turkey",countryShortCode:"TR"},{countryName:"Turkmenistan",countryShortCode:"TM"},{countryName:"Turks and Caicos Islands",countryShortCode:"TC"},{countryName:"Tuvalu",countryShortCode:"TV"},{countryName:"Uganda",countryShortCode:"UG"},{countryName:"Ukraine",countryShortCode:"UA"},{countryName:"United Arab Emirates",countryShortCode:"AE"},{countryName:"United Kingdom",countryShortCode:"GB"},{countryName:"United States",countryShortCode:"US"},{countryName:"United States Minor Outlying Islands",countryShortCode:"UM"},{countryName:"Uruguay",countryShortCode:"UY"},{countryName:"Uzbekistan",countryShortCode:"UZ"},{countryName:"Vanuatu",countryShortCode:"VU"},{countryName:"Venezuela, Bolivarian Republic of",countryShortCode:"VE"},{countryName:"Vietnam",countryShortCode:"VN"},{countryName:"Virgin Islands, British",countryShortCode:"VG"},{countryName:"Virgin Islands, U.S.",countryShortCode:"VI"},{countryName:"Wallis and Futuna",countryShortCode:"WF"},{countryName:"Western Sahara",countryShortCode:"EH"},{countryName:"Yemen",countryShortCode:"YE"},{countryName:"Zambia",countryShortCode:"ZM"},{countryName:"Zimbabwe",countryShortCode:"ZW"}];function ct(e){var t=e.url,a=Object(n.useContext)(v.a),o=Object(n.useState)(),l=Object(i.a)(o,2),c=l[0],s=l[1],u=Object(n.useState)(t),m=Object(i.a)(u,2),d=m[0],p=m[1],h=Object(n.useState)(),f=Object(i.a)(h,2),g=f[0],b=f[1];return r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{htmlFor:"avatar"},"Profile Picture"),r.a.createElement("div",{style:{display:"flex",alignItems:"center"},className:"input-container"},r.a.createElement("div",{style:{marginRight:"1rem"}},r.a.createElement(R.a,{size:"50",url:d})),c?r.a.createElement(ce.a,null):r.a.createElement("div",{style:{minWidth:"0"}},g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{primary:!0,onClick:function(){var e=a.uid,t=g.name.replace(/.*\.(\w+)?$/,"avatar.$1"),n=g.name.match(/\.(\w+)?$/),r=n&&"jpg"!==n[1]?n[1]:"jpeg";s(!0),Object(_.o)({userId:a.uid,file:g,path:"user/".concat(e,"/").concat(t)}).then(function(){s(!1),b(void 0),Oe.toast.info("Profile image updated successfully."),(a.firebaseUser||a).updateProfile({photoURL:"https://firebasestorage.googleapis.com/v0/b/cssbattleapp.appspot.com/o/".concat(encodeURIComponent("user/".concat(e,"/avatar_").concat(e,".").concat(r)),"?alt=media")})})}},"Looks good. Upload & Save")," ","or"," "),r.a.createElement("input",{type:"file",id:"avatar",accept:"image/*",onChange:function(e){if(a){var t=e.target.files[0];if(t.name.match(/\.svg/))return alert("Svg image isn't allowed");b(t);var n=new FileReader;n.onloadend=function(){p(n.result)},n.readAsDataURL(t)}}}))),r.a.createElement("p",{className:"input-hint"},"Image file (png or jpeg) should be less than 1mb. Preferably a square image of at least 150px dimension."))}function it(){var e=Object(q.a)(),t=Object(n.useState)(),a=Object(i.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(!1),s=Object(i.a)(c,2),u=s[0],m=s[1];return Object(n.useEffect)(function(){e&&e.isPro&&(m(!0),Object(N.t)({userId:e.uid}).then(function(e){m(!1),l(e)}))},[e?e.uid:"",e?e.isPro:""]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"current-membership"},e&&!e.isPro&&r.a.createElement("p",{className:"para"},'You are not a "PRO" member yet.'," ",r.a.createElement(p.a,{to:"/pro",className:"link"},"Upgrade to PRO"),"."),u&&r.a.createElement("p",{className:"para"},r.a.createElement(ce.a,null)," Fetching membership details..."),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Current Membership: Pro"),r.a.createElement("p",{className:"para"},"Purchased on"," ",r.a.createElement("time",{dateTime:o.data.event_time},new Date(o.data.event_time).toDateString())),r.a.createElement("p",{className:"para"},"Next payment of ",r.a.createElement("strong",null,"$",o.data.unit_price)," (",parseInt(o.data.unit_price,10)<10?"monthly":"yearly",") occurs on"," ",r.a.createElement("strong",null,r.a.createElement("time",{dateTime:o.data.next_bill_date},new Date(o.data.next_bill_date).toDateString())),"."),r.a.createElement(ee.a,{danger:!0,style:{marginTop:"1rem"},onClick:function(){o&&window.confirm('Are you sure want to cancel your "PRO" membership?')&&window.open(o.data.cancel_url)}},"Cancel Membership"),r.a.createElement("p",{className:"para"},r.a.createElement(p.a,{to:"/pro",className:"link"},'Read about your "PRO" benefits'),"."))))}function st(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)(function(){var t=document.createElement("script");t.src="https://cdn.paddle.com/paddle/paddle.js",t.async="true",t.addEventListener("load",function(){window.Paddle.Setup({vendor:e}),o(!0)}),document.body.appendChild(t)},[]),r}var ut={CUSTOM_BATTLE_MINI:"customBattleMini",CUSTOM_BATTLE_SMALL:"customBattleSmall"},mt=(at={},Object(F.a)(at,ut.CUSTOM_BATTLE_MINI,{vendorId:"578130",label:"Small",maxDuration:1440,price:"$199"}),Object(F.a)(at,ut.CUSTOM_BATTLE_SMALL,{vendorId:"578132",label:"Large",maxDuration:10080,price:"$399"}),at),dt=a(70),pt=a.n(dt);var ht=[Object(c.a)({id:ut.CUSTOM_BATTLE_MINI},mt[ut.CUSTOM_BATTLE_MINI],{durationText:"Upto 24 hours"}),Object(c.a)({id:ut.CUSTOM_BATTLE_SMALL},mt[ut.CUSTOM_BATTLE_SMALL],{durationText:"Upto 7 days"})];function ft(){var e=Object(q.a)(),t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],l=a[1],s=Object(n.useState)(!1),u=Object(i.a)(s,2),m=u[0],d=u[1],h=st(50177),f=Object(n.useState)(!1),g=Object(i.a)(f,2),b=g[0],y=g[1];Object(n.useEffect)(function(){e&&(d(!0),Object(N.l)(e.uid).then(function(e){e=e.sort(function(e,t){return t.timestamp.seconds-e.timestamp.seconds}).map(function(e){return Object(c.a)({},e,{purchasedOnHumanReadable:new Date(1e3*e.timestamp.seconds)})}),d(!1),l(e)}))},[e?e.uid:"",e?e.isPro:""]);var E=Object(n.useState)(ut.CUSTOM_BATTLE_MINI),v=Object(i.a)(E,2),_=v[0],w=v[1];function C(e){w(e.target.value)}return r.a.createElement("div",null,r.a.createElement("fieldset",{className:pt.a.pricing},r.a.createElement("legend",null,r.a.createElement("h2",null,"Select battle type to purchase")),ht.map(function(e,t){return r.a.createElement(R.b,{style:{marginBottom:"1.5rem"}},r.a.createElement("label",{class:"d-f ai-c"},r.a.createElement("input",{type:"radio",name:"battle-type",id:e.label,value:e.id,defaultChecked:0===t,onChange:C}),r.a.createElement(R.b,{style:{marginLeft:"1rem"}},r.a.createElement(R.b,{style:{marginBottom:"0.3rem"}},e.label," - ",e.price),"Duration: ",e.durationText)))}),r.a.createElement("p",{class:"para"},r.a.createElement("a",{href:"/blog/custom-battles",className:"link",target:"_blank"},"Read more about Custom Battles")),e?r.a.createElement(ee.a,{primary:!0,onClick:function(){setTimeout(function(){y(!0)},1e3),window.Paddle.Checkout.open({product:mt[_].vendorId,passthrough:e.uid})},disabled:!h,style:{marginTop:"2rem"}},"Buy Custom Battle (",mt[_].label,")"):r.a.createElement(p.a,{to:"/login",className:"button button--primary"},"Sign Up before you can buy")),b?r.a.createElement("p",{className:"para"},"Please refresh this page in case you purchased."):null,r.a.createElement("h2",{style:{marginTop:"2rem"}},"Purchases"),m?r.a.createElement(ce.b,null,"Fetching past purchases..."):null,m||o.length?null:r.a.createElement("p",{class:"para"},"You haven't purchased any Custom Battle credits yet."),o.length?r.a.createElement("table",{style:{marginTop:"1rem"},className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No."),r.a.createElement("th",null,"Battle type"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Purchased on"))),r.a.createElement("tbody",null,o.map(function(e,t){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,o.length-t),r.a.createElement("td",null,function(e){var t;return(t={},Object(F.a)(t,mt[ut.CUSTOM_BATTLE_MINI].vendorId,mt[ut.CUSTOM_BATTLE_MINI].label),Object(F.a)(t,mt[ut.CUSTOM_BATTLE_SMALL].vendorId,mt[ut.CUSTOM_BATTLE_SMALL].label),t)[e]}(e.data.p_product_id)),r.a.createElement("td",null,e.isUsed?"Used \u274c":"Unused \u2705"),r.a.createElement("td",null,e.purchasedOnHumanReadable.toDateString()))}))):null)}function gt(e){var t=e.name,a=e.selectedTab,n=e.children;return a!==t?null:r.a.createElement("div",{className:"settings-tab-content"},n)}function bt(e){var t=e.name,a=e.selectedTab,n=e.onClick,o=e.children;return r.a.createElement("li",{className:"settings-tab ".concat(t===a?"settings-tab__active":"")},r.a.createElement("button",{onClick:n},o))}function yt(e){var t=e.label,a=e.icon,n=e.prefix,o=e.defaultValue,l=e.onChange,c=e.keyPath,i=t.replace(/\s/,"_");return r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{htmlFor:i},t),r.a.createElement("div",{className:"input-with-prefix"},r.a.createElement("p",{className:"input-prefix"},a," ",r.a.createElement("span",null,n)),r.a.createElement("input",{id:i,defaultValue:o,onChange:l,"data-path":c})))}var Et=function(e){var t=e.history,a=Object(n.useContext)(v.a),o=Object(n.useState)(),l=Object(i.a)(o,2),c=l[0],s=l[1],u=Object(n.useState)(),p=Object(i.a)(u,2),h=p[0],f=p[1],g=Object(n.useState)(),b=Object(i.a)(g,2),E=b[0],w=b[1],C=Object(n.useState)(),S=Object(i.a)(C,2),O=S[0],j=S[1],I=Object(n.useState)(function(){var e=window.location.search.match(/tab=([^&]+)/);return e?e[1]:"profile"}),k=Object(i.a)(I,2),B=k[0],x=k[1];Object(n.useEffect)(function(){window.document.title="Settings | CSSBattle"},[]),Object(n.useEffect)(function(){if(!a)return t.push("/login");Object(N.z)(a.uid,!0).then(function(e){s(e),f(JSON.parse(JSON.stringify(e)))})},[a?a.uid:""]);var F=Object(n.useState)(),A=Object(i.a)(F,2),L=A[0],M=A[1],P=Object(_.b)(function(e){if(["admin","administrator","css","cssbattle","css_battle","_cssbattle","_css_battle"].includes(e))return M(!1);M(null),Object(N.A)(e).then(function(e){M(!e)})},1e3),G=function(e){e.preventDefault();var t=Object(_.j)({links:h.links,settings:h.settings,displayName:h.displayName,isAvailableForHire:h.isAvailableForHire,whatYouDo:h.whatYouDo,country:h.country});w(!0),Object(N.K)(a.uid,t).then(function(){w(!1),t.displayName&&(a.firebaseUser||a).updateProfile({displayName:t.displayName}),D({name:"profileUpdated"}),Oe.toast.info("Profile updated successfully!")})},H=function(e){var t=e.target.dataset.path,a="checkbox"===e.target.type?e.target.checked:e.target.value;Object(_.n)(h,t,a)};return r.a.createElement(J,null,r.a.createElement("div",{className:"container__item  container__item--main  container__item--settings"},r.a.createElement(Z.a,null,"Settings"),r.a.createElement("div",{className:"settings-container"},r.a.createElement("div",{className:"settings-tabs"},r.a.createElement("ul",null,r.a.createElement(bt,{name:"profile",selectedTab:B,onClick:function(){return x("profile")}},"Profile"),r.a.createElement(bt,{name:"notifications",selectedTab:B,onClick:function(){return x("notifications")}},"Notifications"),r.a.createElement(bt,{name:"membership",selectedTab:B,onClick:function(){return x("membership")}},"Membership ",r.a.createElement(T.a,{style:{marginLeft:"0.5rem"}})),r.a.createElement(bt,{name:"custom-battle-credits",selectedTab:B,onClick:function(){return x("custom-battle-credits")}},"Custom Battle credits"))),!c&&r.a.createElement(gt,{name:"profile",selectedTab:B},r.a.createElement("p",{style:{display:"flex",alignItems:"center"}},r.a.createElement(ce.a,null)," Fetching data...")),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(gt,{name:"profile",selectedTab:B},r.a.createElement("form",{className:"username-form",onSubmit:function(e){if(e.preventDefault(),a){var t=h.username;window.confirm('Username cannot be changed once set. Are you sure you want to set "'.concat(t,'"?'))&&(j(!0),Object(N.L)(a,t).then(function(){D({name:"usernameUpdated",label:t}),j(!1),Oe.toast.info("Username updated successfully! This page will refresh in 2 seconds."),setTimeout(function(){window.location.reload()},1e3)}).catch(function(){var e=Object(d.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!1),!(t instanceof Promise)){e.next=11;break}return e.next=4,t;case 4:a=e.sent,e.t0=a,e.next="usernameUnavailable"===e.t0?8:10;break;case 8:return Oe.toast.info("That username is unavailable. Try something else."),e.abrupt("break",11);case 10:Oe.toast.info("Oops! Something went wrong. Try again or report to @css_battle");case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()))}else alert("Please login first.")}},r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{htmlFor:"username"},"Username (Your own sweet profile page)"),r.a.createElement("div",{className:"input-with-prefix"},r.a.createElement("p",{className:"input-prefix"},r.a.createElement("span",null,"cssbattle.dev/player/")),r.a.createElement("input",{id:"username",pattern:"[a-z0-9_]*",minLength:"3",maxLength:"20",defaultValue:c.username,autoComplete:"off","data-path":"username",readOnly:c.username,onInput:function(e){!function(e){var t=e.target.value.toLowerCase();e.target.checkValidity()&&t?P(t):M(void 0)}(e),H(e)}})),c.username&&r.a.createElement("p",{className:"input-hint"},"Your CSSBattle profile page:"," ",r.a.createElement("a",{className:"link",href:"".concat(window.location.origin,"/player/").concat(c.username)},"".concat(window.location.origin,"/player/").concat(c.username))),r.a.createElement("div",{className:"validation-message"},null===L&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null)," Checking username availability"),!1===L?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{name:"error"})," This username is already taken"):!0===L?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{name:"tick"})," This username is available"):null),!c.username&&r.a.createElement("p",{className:"input-hint"},"Minimum 3 and maximum 20 characters long. Alphabets, numbers and underscore(_) allowed. Case-insensitive."),r.a.createElement("p",{className:"input-hint"},"Note: Once set, username cannot be changed.")),r.a.createElement("p",null,r.a.createElement(ee.a,{type:"submit",primary:!0,disabled:!0!==L&&"disabled",isLoading:O},"Set Username"," ",h&&h.username?"":"(Enter a username above to enable this button)"))),r.a.createElement("form",{onSubmit:G},r.a.createElement(ct,{url:c.avatar}),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{htmlFor:"displayName"},"Display name"),r.a.createElement("input",{id:"displayName",defaultValue:c.displayName,onInput:H,"data-path":"displayName"})),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{htmlFor:"website"},"Website"),r.a.createElement("input",{id:"website",defaultValue:c.links&&c.links.website||"",onInput:H,"data-path":"links.website"})),r.a.createElement(yt,{label:"Github username",prefix:"https://github.com/",defaultValue:c.links&&c.links.github||"",onChange:H,keyPath:"links.github",icon:r.a.createElement(y,{name:"github",size:"20"})}),r.a.createElement(yt,{label:"Twitter username",prefix:"https://twitter.com/",defaultValue:c.links&&c.links.twitter||"",onChange:H,keyPath:"links.twitter",icon:r.a.createElement(y,{name:"twitter",size:"20"})}),r.a.createElement(yt,{label:"CodePen username",prefix:"https://codepen.io/",defaultValue:c.links&&c.links.codepen||"",onChange:H,keyPath:"links.codepen",icon:r.a.createElement(y,{name:"codepen",size:"20"})}),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{htmlFor:"headline"},"What do you do?"),r.a.createElement("input",{id:"headline",defaultValue:c.whatYouDo,onInput:H,"data-path":"whatYouDo"})),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{htmlFor:"hiringStatus"},r.a.createElement("input",{type:"checkbox",defaultChecked:c.isAvailableForHire,onChange:H,"data-path":"isAvailableForHire",id:"hiringStatus"})," ","Available for hire")),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{htmlFor:"country"},"Country"),r.a.createElement("select",{type:"checkbox",defaultValue:c.country,onChange:H,"data-path":"country",id:"country"},r.a.createElement("option",{value:""},"Select country"),lt.map(function(e){return r.a.createElement("option",{key:e.countryShortCode,value:e.countryName},e.countryName)}))),r.a.createElement("p",null,r.a.createElement(ee.a,{primary:!0,type:"submit",isLoading:E},"Update Profile"))),r.a.createElement("p",{className:"para"},"Note: All information entered here is public.")),r.a.createElement(gt,{name:"notifications",selectedTab:B},r.a.createElement("form",{onSubmit:G},r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{htmlFor:"emailNotifications"},r.a.createElement("input",{type:"checkbox",defaultChecked:c.settings&&c.settings.emailNotifications||!1,onChange:H,"data-path":"settings.emailNotifications",id:"emailNotifications"})," ","Send me Emails about battle announcements"),r.a.createElement("p",{className:"input-hint"},"We won't spam you :)")),r.a.createElement("p",null,r.a.createElement(ee.a,{primary:!0,type:"submit",isLoading:E},"Update notification preferences")))),r.a.createElement(gt,{name:"membership",selectedTab:B},r.a.createElement(it,null)),r.a.createElement(gt,{name:"custom-battle-credits",selectedTab:B},r.a.createElement(ft,null))))))},vt=(a(107),a(108),a(109),a(110),a(111),function(e){var t=e.match,a=e.history,o=Object(n.useContext)(v.a),l=100;Object(n.useEffect)(function(){window.document.title="Leaderboard | CSSBattle"},[]);var s=Object(n.useState)(function(){if(t.params.type&&t.params.id){if("battle"===t.params.type)return"battle/".concat(t.params.id);if("target"===t.params.type)return"target/".concat(t.params.id)}return"global"}),u=Object(i.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(),h=Object(i.a)(p,2),f=h[0],g=h[1];Object(n.useEffect)(function(){Object(N.s)().then(g)},[]);var b=Object(n.useState)([]),y=Object(i.a)(b,2),E=y[0],w=y[1],S=Object(n.useState)(),O=Object(i.a)(S,2),j=O[0],I=O[1],k=Object(n.useState)({}),B=Object(i.a)(k,2),T=B[0],F=B[1],A=C("showFriendsLeaderboard",!!o),L=Object(i.a)(A,2),M=L[0],P=L[1],D=Object(n.useRef)(),G=Object(n.useRef)();function H(e){return"target"===e.target.value?(d(G.current.value),a.push("/leaderboard/target/".concat(G.current.value.split("/")[1]))):"battle"===e.target.value?(d(D.current.value),a.push("/leaderboard/battle/".concat(D.current.value.split("/")[1]))):(d(e.target.value),void a.push("/leaderboard/".concat(e.target.value)))}return Object(n.useEffect)(function(){window.localStorage.debug,I(!0),F({}),w([]),function(){if("global"===m)return M?Object(N.p)({userId:o.uid}):Object(N.r)(l);if(m.match("battle")){var e=parseInt(m.split("/")[1],10);return M?Object(N.o)({userId:o.uid,battleId:e,numberOfPlayers:l}):Object(N.k)({battleId:e,numberOfPlayers:l})}if(m.match("target")){var t=parseInt(m.split("/")[1],10);return M?Object(N.q)({userId:o.uid,levelId:t,numberOfPlayers:l}):Object(N.v)({levelId:t,numberOfPlayers:l})}}().then(function(e){w(e),I(!1),o&&e.length&&(e.find(function(e){return e.id===o.uid})?F({rank:e.findIndex(function(e){return e.id===o.uid})+1}):"target"!==t.params.type&&Object(N.g)({userId:o.uid,battleId:"battle"===t.params.type?t.params.id:void 0,levelId:"target"===t.params.type?t.params.id:void 0}).then(function(t){F(t),w([].concat(Object(oe.a)(e),[{score:t.score,playerProfile:Object(c.a)({},o,{avatar:o.photoURL}),id:o.uid,rank:t.rank,playedCount:t.playedCount}]))}))})},[o?o.uid:"",M,m]),r.a.createElement(J,null,r.a.createElement("div",{className:"container__item  container__item--aside  container__item--choose-leaderboard"},r.a.createElement(Z.a,null,"Choose leaderboard"),r.a.createElement("div",{className:"item__content  item__content--inner-page"},o&&r.a.createElement(ie,{isFriendsMode:M,onChange:function(e){P("friends"===e.target.value)}}),r.a.createElement("div",null,r.a.createElement("div",{className:"leaderboard-selector"},r.a.createElement("input",{defaultChecked:"global"===m,type:"radio",name:"leaderboard",id:"global",value:"global",onChange:H}),r.a.createElement("label",{htmlFor:"global"},"All Time Leaderboard")),r.a.createElement("div",{className:"leaderboard-selector"},r.a.createElement("input",{type:"radio",name:"leaderboard",id:"battle",value:"battle",defaultChecked:m.match(/battle/),onChange:H}),r.a.createElement("label",{htmlFor:"battle"},"Battle Leaderboards"),r.a.createElement("select",{className:"width--full",ref:D,disabled:!m.match(/battle/),onChange:H,value:m},x.battles.map(function(e){return r.a.createElement("option",{value:"battle/".concat(e.id),key:e.id},"#",e.id," - ",e.name)}))),r.a.createElement("div",{className:"leaderboard-selector"},r.a.createElement("input",{type:"radio",name:"leaderboard",id:"target",value:"target",defaultChecked:m.match(/target/),onChange:H}),r.a.createElement("label",{htmlFor:"target"},"Target Leaderboards"),r.a.createElement("select",{className:"width--full",ref:G,disabled:!m.match(/target/),onChange:H,value:m},Se.a.map(function(e){return r.a.createElement("option",{value:"target/".concat(e.id),key:e.id},"#",e.id," - ",e.name)})))))),r.a.createElement("div",{className:"container__item  container__item--padded  container__item--main"},r.a.createElement(Z.a,{meta:"You: ".concat(T.rank||"-","/").concat(M?E.length:function(){if(!f)return"-";if(m.match("battle")){var e=parseInt(m.split("/")[1],10);return f.battlePlayerCount[e]}return f.playerCount}())},"Leaderboard: ",function(){if("global"===m)return"All time";if(m.match("battle")){var e=parseInt(m.split("/")[1],10),t=x.battles.filter(function(t){return t.id===e})[0];return"Battle #".concat(e," - ").concat(t.name)}if(m.match("target")){var a=parseInt(m.split("/")[1],10),n=Se.a.filter(function(e){return e.id===a})[0];return"Target #".concat(a," - ").concat(n.name)}}()),r.a.createElement("div",{className:"item__content  item__content--inner-page"},j?r.a.createElement("p",{className:"ta-c"},r.a.createElement(ce.a,null)):null,M&&!j&&!E.length&&r.a.createElement(se,null),r.a.createElement("div",{className:"leaderboard-leaders"},E.slice(0,3).map(function(e,t){return r.a.createElement("div",{key:t,className:"leader  leader--".concat(t+1)},r.a.createElement(R.a,{size:"60",url:e.playerProfile.avatar,username:e.playerProfile.username,userId:e.userId,className:"leader__avatar"}),r.a.createElement("div",{className:"leader__name"},r.a.createElement(R.i,{name:e.playerProfile.displayName,username:e.playerProfile.username,isPro:e.playerProfile.isPro,userId:e.userId,className:""})),r.a.createElement("p",{className:"leader__score"},e.score.toFixed(2)," ",r.a.createElement("span",{className:"leader__meta"},e.playedCount?"(".concat(e.playedCount," Target").concat(e.playedCount>1?"s":"",")"):"",e.codeSize?"{".concat(e.codeSize,"}"):"")))})),0===T.rank&&r.a.createElement("p",{className:"section-helper  section-helper--no-score"},"Play at least ","global"===m?2:1," targets to see your rank."),r.a.createElement("div",{className:"inner-header  inner-header--inner-page"},r.a.createElement("h4",{className:"header__title  header__title--inner"},"Runner Ups")),!E.slice(3).length&&!j&&r.a.createElement("p",{className:"para",style:{textAlign:"center"}},"No runner ups"),r.a.createElement("table",{className:"runner-ups"},r.a.createElement("tbody",null,E.slice(3).map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{"data-column":"Player Details"},r.a.createElement(R.a,{small:!0,size:"32",url:e.playerProfile.avatar,username:e.playerProfile.username,userId:e.userId,className:"leaderboard__user-avatar"}),r.a.createElement(R.i,{name:e.playerProfile.displayName,username:e.playerProfile.username,isPro:e.playerProfile.isPro,userId:e.userId,className:"leaderboard__user-name"})),r.a.createElement("td",{"data-column":"Score"},e.score.toFixed(2)),r.a.createElement("td",{"data-column":"Meta"},e.playedCount?"(".concat(e.playedCount," Target").concat(e.playedCount>1?"s":"",")"):"",e.codeSize?"{".concat(e.codeSize,"}"):""),r.a.createElement("td",{"data-column":"Rank"},Object(_.d)(e.rank||t+4)))}))))))}),_t=a(40);function wt(e){var t,a=e.providerName,n=e.email;return n?function(e){var t={url:"".concat(window.location.origin,"/login"),handleCodeInApp:!0};return _t.auth().sendSignInLinkToEmail(e,t).then(function(){window.localStorage.setItem("emailForSignIn",e)}).catch(function(e){console.error(e.code,e)})}(n):("github"===a?t=new _t.auth.GithubAuthProvider:"twitter"===a?t=new _t.auth.TwitterAuthProvider:"google"===a&&(t=new _t.auth.GoogleAuthProvider).addScope("https://www.googleapis.com/auth/userinfo.profile"),_t.auth().signInWithPopup(t).then(function(){D({name:"loggedIn"}),window.localStorage.setItem("lastAuthProvider",a)}).catch(function(e){console.log(e),"auth/account-exists-with-different-credential"===e.code?alert("You have already signed up with the same email using different social login. Eg. If it was Twitter previously, use Twitter now too."):"auth/web-storage-unsupported"===e.code&&alert("Please allow 3rd party cookies in your browser for login. Or try a different browser.")}))}a(50);var Nt=a(30);function Ct(e){var t=e.type;return"github"===t?r.a.createElement("svg",{style:{width:16,height:16},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"currentColor",d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"})):"twitter"===t?r.a.createElement("svg",{style:{width:16,height:16},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"currentColor",d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"})):"google"===t?r.a.createElement("svg",{style:{width:16,height:16},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"currentColor",d:"M21.35 11.1h-9.17v2.73h6.51c-.33 3.81-3.5 5.44-6.5 5.44C8.36 19.27 5 16.25 5 12c0-4.1 3.2-7.27 7.2-7.27 3.09 0 4.9 1.97 4.9 1.97L19 4.72S16.56 2 12.1 2C6.42 2 2.03 6.8 2.03 12c0 5.05 4.13 10 10.22 10 5.35 0 9.25-3.67 9.25-9.09 0-1.15-.15-1.81-.15-1.81z"})):null}var St=function(e){var t=e.type,a=e.lastAuthProvider,n=e.children,o=Object(Nt.a)(e,["type","lastAuthProvider","children"]);return r.a.createElement(ee.a,Object.assign({extraClasses:"button--login button--".concat(t)},o),r.a.createElement(Ct,{type:t}),"Sign in with ",n," ",a===t?"(last used)":"")},Ot=function(e){var t=e.history,a=Object(n.useContext)(v.a),o=window.localStorage.getItem("lastAuthProvider"),l=Object(n.useState)(!1),c=Object(i.a)(l,2),s=c[0],u=c[1];function m(){s&&window.localStorage.setItem("pendingEmailSubscription",!0)}function d(e){m(),wt({providerName:e})}Object(n.useEffect)(function(){window.document.title="Login | CSSBattle"},[]),Object(n.useEffect)(function(){if(a){var e=window.localStorage.getItem("beforeLoginLocation");e?(window.localStorage.removeItem("beforeLoginLocation"),t.replace(e)):t.replace("/")}},[a]);var h=Object(n.useState)(),f=Object(i.a)(h,2),g=f[0],b=f[1],y=Object(n.useState)(),E=Object(i.a)(y,2),_=E[0],w=E[1],N=Object(n.useState)(""),C=Object(i.a)(N,2),S=C[0],O=C[1];var j=window.location.href.match(/apiKey=/);return Object(n.useEffect)(function(){!function(){if(_t.auth().isSignInWithEmailLink(window.location.href)){var e=window.localStorage.getItem("emailForSignIn");return e||(e=window.prompt("Please provide your email for confirmation")),e?_t.auth().signInWithEmailLink(e,window.location.href).then(function(e){window.localStorage.removeItem("emailForSignIn"),window.localStorage.setItem("lastAuthProvider","email")}).catch(function(e){}):Promise.reject()}Promise.reject()}()},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,null),r.a.createElement("div",{className:"container  container--centered-box"},r.a.createElement("div",{className:"container__item",style:{opacity:j?.1:1,pointerEvents:j?"none":"initial"}},r.a.createElement("div",{className:"item__content  login-form-container"},r.a.createElement("h2",{className:"heading"},"Sign up / Sign in"),o?null:r.a.createElement("div",null,r.a.createElement(R.d,{label:"Notify me about new battles",checked:s,onChange:function(e){return u(e.target.checked)}}),r.a.createElement("hr",{style:{marginTop:"-1rem"}})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),S&&(w(!0),m(),wt({email:S}).then(function(){w(!1),b(!0)}))}},r.a.createElement("div",{className:"input-container",style:{marginBottom:"1rem"}},r.a.createElement("div",{className:"input-with-button"},r.a.createElement("input",{type:"email",id:"email",onInput:function(e){return O(e.target.value)},placeholder:"example@domain.com"}),r.a.createElement(ee.a,{type:"submit",isLoading:_},"Sign in with Email"," ","email"===o?" (last used)":"")),r.a.createElement("p",{className:"input-hint"},"This is a password-less login, so you don't need a password.")),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"}})),g&&r.a.createElement("div",{style:{padding:"0.5rem",background:"#276827",borderRadius:"5px",marginBottom:"2rem"}},"A password-less login link has been sent to your email (",S,")"),r.a.createElement("div",{className:"input-container",style:{marginTop:"1rem"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem"}},r.a.createElement("hr",{style:{margin:"0 1rem 0 10rem",flex:1}}),r.a.createElement("span",{style:{margin:0}},"OR"),r.a.createElement("hr",{style:{margin:"0 10rem 0 1rem",flex:1}})),r.a.createElement("p",{className:"login-buttons-container"},r.a.createElement(St,{type:"github",id:"login",lastAuthProvider:o,onClick:function(){return d("github")}},"Github"),r.a.createElement(St,{type:"twitter",lastAuthProvider:o,onClick:function(){return d("twitter")}},"Twitter"),r.a.createElement(St,{type:"google",lastAuthProvider:o,onClick:function(){return d("google")}},"Google")))),r.a.createElement("p",{className:"para  login-disclaimer"},"By using CSSBattle, you agree to our"," ",r.a.createElement(p.a,{className:"link",to:"privacy-and-terms"},"Privacy Policy and Terms of Service"))),j?r.a.createElement("div",{className:"container__item",style:{position:"absolute",top:"50%"}},"Trying to log you in...",r.a.createElement(ce.a,null)):null),r.a.createElement(K,null))};function jt(){return r.a.createElement("div",{className:"pro-feature__coming-soon"},"Coming Soon")}function It(e){var t=e.title,a=e.isComingSoon,n=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"pro-feature__title"},t," ",a&&r.a.createElement(jt,null)),r.a.createElement("p",{className:"pro-feature__desc"},n))}var kt=function(e){e.history;var t=Object(q.a)();$("PRO");var a=st(50177),o=Object(n.useState)(!0),l=Object(i.a)(o,2),c=l[0],s=l[1];function u(e){s("yearly"===e.target.value)}return r.a.createElement(J,{extraClasses:"container--pro-page"},r.a.createElement("div",{className:"container__item"},r.a.createElement("div",{className:"item__content"},r.a.createElement("div",{className:"pro-left"},t&&t.isPro?r.a.createElement(r.a.Fragment,null," ",r.a.createElement("p",{className:"para"},'You are already a "PRO" player.'),r.a.createElement("p",{className:"para"},r.a.createElement(p.a,{className:"link",to:"/settings?tab=membership"},'Manage your "PRO" membership'))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"heading",style:{fontSize:"var(--font-size-4)",marginTop:0}},r.a.createElement("span",{style:{verticalAlign:"middle"}},"Upgrade to "),r.a.createElement("img",{src:"/images/pro-badge.svg",width:"40",style:{verticalAlign:"middle"},alt:"Pro"})),r.a.createElement("div",{className:"filter  generic-filter"},r.a.createElement("span",{className:"filter__button",style:{flex:"auto"}},r.a.createElement("input",{type:"radio",name:"subscription-type",id:"yearly",value:"yearly",defaultChecked:!0,onChange:u}),r.a.createElement("label",{htmlFor:"yearly"},"Yearly (40% off)")),r.a.createElement("span",{className:"filter__button",style:{flex:"auto"}},r.a.createElement("input",{type:"radio",name:"subscription-type",id:"monthly",value:"monthly",onChange:u}),r.a.createElement("label",{htmlFor:"monthly"},"Monthly"))),r.a.createElement("div",{className:"pro-pricing"},r.a.createElement("span",null,c?r.a.createElement(r.a.Fragment,null," $3/month "):r.a.createElement(r.a.Fragment,null," $5/month "))),r.a.createElement("p",{className:"para  para--small"},"Cancel anytime. 100% refund if cancelled within 14 days."),r.a.createElement("p",{className:"para"},t?r.a.createElement(ee.a,{primary:!0,extraClasses:"button--full-width",onClick:function(){window.Paddle.Checkout.open({product:c?564882:561645,passthrough:t.uid})},disabled:!a},"Upgrade to PRO for"," ",c?r.a.createElement(r.a.Fragment,null," $36/year "):r.a.createElement(r.a.Fragment,null," $5/month ")):r.a.createElement(p.a,{to:"/login",className:"button button--primary button--full-width"},"Sign Up before you upgrade")))),r.a.createElement("div",{className:"pro-right"},r.a.createElement("p",{className:"benefits-desc"},"CSSBattle is free and will always be free to play. Upgrading to PRO gives you the following additional sweet benefits that make playing on CSSBattle a little more fun and enjoyable for you."),r.a.createElement("ul",{className:"pro-features"},r.a.createElement("li",{className:"pro-feature"},r.a.createElement(It,{title:"Add plugins to the code editor"},"Want to minify your code automatically before submitting? Or maybe convert all the ",r.a.createElement("code",null,"px")," units to ",r.a.createElement("code",null,"in")," ","with a press of a button? With plugins, you'll be able to do all that and more.")),r.a.createElement("li",{className:"pro-feature"},r.a.createElement(It,{title:"Advanced target stats"},"Get a bird's-eye view on your performance in battles with our advance stats. See where you're performing well and where you're lagging behind.")),r.a.createElement("li",{className:"pro-feature"},r.a.createElement(It,{title:"Light theme"},"Get access to a PRO special light (white) theme.")),r.a.createElement("li",{className:"pro-feature"},r.a.createElement(It,{title:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{verticalAlign:"middle"}},"PRO badge")," ",r.a.createElement("img",{src:"/images/pro-badge.svg",width:"30",style:{verticalAlign:"middle"},alt:"Pro"}))},"Get a shiny badge next to your name wherever it appears across CSSBattle. ",r.a.createElement(R.f,{label:"sunglasses",children:"\ud83d\ude0e"}))),r.a.createElement("li",{className:"pro-feature"},r.a.createElement(It,{title:"Create public community targets",isComingSoon:!0},"Create your own targets for the community with your own rules. All the targets will be rated by the community and we'll feature new targets every week.")))))))},Bt=function(e){var t=e.title,a=e.battleId,o=e.numOfPlayersToShow,l=void 0===o?10:o,s=Object(n.useContext)(v.a),u=Object(n.useState)([]),m=Object(i.a)(u,2),d=m[0],h=m[1],f=Object(n.useState)({}),g=Object(i.a)(f,2),b=g[0],y=g[1],E=Object(n.useState)(),_=Object(i.a)(E,2),w=_[0],S=_[1],O=C("showFriendsLeaderboard",!!s),j=Object(i.a)(O,2),I=j[0],k=j[1],B=Object(n.useState)({battlePlayerCount:{}}),T=Object(i.a)(B,2),x=T[0],F=T[1];return Object(n.useEffect)(function(){Object(N.s)().then(F)},[]),Object(n.useEffect)(function(){S(!0),h([]),y({}),(I?Object(N.o)({battleId:a,userId:s.uid}):Object(N.k)({battleId:a,numOfPlayers:l})).then(function(e){h(e),S(!1),s&&e.length&&(e.find(function(e){return e.id===s.uid})?y({rank:e.findIndex(function(e){return e.id===s.uid})+1}):Object(N.g)({userId:s.uid,battleId:a}).then(function(t){y(t),h([].concat(Object(oe.a)(e),[{score:t.score,playerProfile:Object(c.a)({},s,{avatar:s.photoURL}),id:s.uid,rank:t.rank,playedCount:t.playedCount}]))}))})},[s?s.uid:"",a,I]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{meta:"You: ".concat(b.rank||"-","/").concat(I?d.length:x.battlePlayerCount[a]||"-")},t),r.a.createElement("div",{className:"item__content"},s&&r.a.createElement(ie,{isFriendsMode:I,onChange:function(e){k("friends"===e.target.value)}}),I&&!w&&!d.length&&r.a.createElement(se,null),0===b.rank&&r.a.createElement("p",{className:"section-helper  section-helper--no-score"},"Play at least 1 target to see your rank."),r.a.createElement("div",{className:"leaderboard-container"},w?r.a.createElement("p",{className:"ta-c"},r.a.createElement(ce.a,null)):null,!w&&!d.length&&!I&&r.a.createElement("p",{className:"para"},"No one here. It could be you! How about playing some targets?"),r.a.createElement("ol",{className:"leaderboard__user-list"},d.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(le,{key:t,data:Object(c.a)({},e,{rank:void 0===e.rank?t+1:e.rank})}))}))),d.length?r.a.createElement("p",{className:"para  leaderboard-buttons"},r.a.createElement(p.a,{to:"/leaderboard/battle/".concat(a),className:"button"},"See top 100"),r.a.createElement(p.a,{to:"/leaderboard",className:"button",style:{marginLeft:"1rem"}},"All-time leaderboard")):null))};function Tt(e){var t=e.data,a=e.playerData,o=void 0===a?{}:a,l=e.stats,c=Object(n.useContext)(v.a);t.image=t.id?t.image:"/targets/0.png?v=2";var i=t.image.replace(/\.png/,"@2x.png");return r.a.createElement("div",{className:"target-tile ".concat(t.id?"":"target-tile--dummy"," ").concat(t.isOpen?"target-tile--public":"")},t.id&&r.a.createElement(p.a,{to:"/play/".concat(t.id),className:"shadow-link",title:"Play target number ".concat(t.id)}),r.a.createElement("img",{src:t.image,srcSet:"".concat(i," 2x"),alt:"",loading:"lazy",className:"target-tile__image"}),r.a.createElement("div",{className:"target-tile__info"},r.a.createElement("div",{className:"target-top-info"},t.id?r.a.createElement("p",{className:"target-top-info__pill"},t.id.length>5&&t.name||"#".concat(t.id)):null,t.isOpen?r.a.createElement("p",{className:"target-top-info__pill"},r.a.createElement("img",{alt:"",src:"/images/open-book.svg"})):null),r.a.createElement("div",{className:"target-highscore"},l?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"target-highscore__right"},r.a.createElement("div",{className:"target-highscore__username"},r.a.createElement(R.i,{name:l.highscore.playerProfile.displayName,username:l.highscore.playerProfile.username,userId:l.highscore.playerProfile.userId,isPro:l.highscore.playerProfile.isPro,ellipsis:!0})),r.a.createElement("p",{className:"target-highscore__score"},l.highscore.score," ",r.a.createElement("span",null,"{",l.highscore.codeSize,"}"))),r.a.createElement(R.a,{small:!0,size:"40",url:l.highscore.playerProfile.avatar,userId:l.highscore.playerProfile.userId,username:l.highscore.playerProfile.username,className:"target-highscore__avatar"})):"No highscore available"),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"target-tile-header"},"Your Stats"),r.a.createElement("div",{className:"target-attempts"},r.a.createElement("p",{className:"target-attempts__item  target-attempts__item--score"},"Score:",r.a.createElement("span",null,o.score||"N/A"," ",r.a.createElement("span",null,"{",o.codeSize||"-","}")))))),t.isOpen?r.a.createElement("div",{className:"public-target-message"},r.a.createElement("p",null,'This is an "Open" Target. Open Targets have all the top solutions public.'," ",r.a.createElement("a",{className:"link",href:"/blog/introducing-open-targets/"},"Learn More"))):null)}function xt(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),o=a[0],l=a[1];return Object(n.useEffect)(function(){if(l(),e.data.id){var t=e.data.id;return Object(N.w)(e.data.id).then(function(a){t===e.data.id&&l(a)}),function(){t=null}}},[e.data.id]),r.a.createElement(Tt,Object.assign({},e,{stats:o}))}var Ft={ALL:"all",PLAYED:"played",NOT_PLAYED:"notPlayed"};function At(e){var t=e.battle,a=Object(n.useContext)(v.a),o=Object(n.useState)([]),l=Object(i.a)(o,2),s=l[0],u=l[1],m=Object(n.useState)(),d=Object(i.a)(m,2),p=d[0],h=d[1],f=Object(n.useState)(0),g=Object(i.a)(f,2),b=g[0],y=g[1],E=Object(n.useState)(Ft.ALL),_=Object(i.a)(E,2),w=_[0],C=_[1];function S(e){C(e.target.value)}return Object(n.useEffect)(function(){Object(N.f)(t.levelIds).then(u)},[t.id]),Object(n.useEffect)(function(){y(0),h(),a&&Object(N.D)({userId:a.uid,levelIds:t.levelIds}).then(function(e){y(Object.keys(e).length),h(e)})},[a?a.uid:"",t.id]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{sticky:!0,meta:a?r.a.createElement("div",null,r.a.createElement("span",{className:"filter"},r.a.createElement("span",{className:"filter__button"},r.a.createElement("input",{defaultChecked:!0,type:"radio",name:"filter",id:"all",value:Ft.ALL,onChange:S}),r.a.createElement("label",{htmlFor:"all"},"All (","".concat(t.levelIds.length),")")),r.a.createElement("span",{className:"filter__button"},r.a.createElement("input",{type:"radio",name:"filter",id:"played",value:Ft.PLAYED,onChange:S}),r.a.createElement("label",{htmlFor:"played"},"Played (","".concat(b),")")),r.a.createElement("span",{className:"filter__button"},r.a.createElement("input",{type:"radio",name:"filter",id:"notPlayed",value:Ft.NOT_PLAYED,onChange:S}),r.a.createElement("label",{htmlFor:"notPlayed"},"Not yet played (","".concat(s.length-b),")")))):null},"Battle ",r.a.createElement(R.h,{id:t.id})," - ",t.name),r.a.createElement("div",{className:"item__content"},r.a.createElement("div",{className:"targets-container"},s.map(function(e,a){return w===Ft.ALL||w===Ft.PLAYED&&p[e.id]||w===Ft.NOT_PLAYED&&!p[e.id]?r.a.createElement(xt,{key:a,data:Object(c.a)({},e,{id:e.id,isOpen:!(!t.openLevelIds||!t.openLevelIds.includes(e.id))}),playerData:p?p[e.id]:void 0}):null}))))}function Lt(e){return e.endDate||+new Date(1e3*e.startDate.seconds)+60*e.duration*1e3}function Mt(e){var t=e.battle,a=Object(q.a)(),o=Object(s.f)(),l=Object(n.useState)(),c=Object(i.a)(l,2),u=c[0],h=c[1],f=Object(x.checkIfCustomBattle)(t);function g(){return a&&(!a.settings||!a.settings.emailNotifications)&&!1!==u}var b=Object(n.useState)(Object(x.getBattleStatus)(t)),y=Object(i.a)(b,2),E=y[0],v=y[1],w=Object(n.useState)(!1),C=Object(i.a)(w,2),S=C[0],O=C[1];function j(e){return I.apply(this,arguments)}function I(){return(I=Object(d.a)(m.a.mark(function e(n){var r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return e.next=3,a.getIdToken();case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0="";case 7:if(r=e.t0){e.next=10;break}return e.abrupt("return");case 10:return O(!0),e.abrupt("return",fetch("".concat(N.a,"/").concat(n===x.BattleStatuses.ONGOING?"startBattle":"stopBattle","?token=").concat(r,"&battleId=").concat(t.id)).then(function(e){return O(!1),e}));case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(){return(k=Object(d.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(t.levelIds.length){e.next=4;break}return e.abrupt("return",window.alert("You have not added any targets yet. Add at least 1 target to before starting the battle."));case 4:if(window.confirm("You cannot edit or restart a battle once it is started. Are you sure you want to start this battle?")){e.next=7;break}return e.abrupt("return");case 7:j(x.BattleStatuses.ONGOING).then(function(){var e=Object(d.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=4;break}return Object(_.l)(3),v(x.BattleStatuses.ONGOING),e.abrupt("return");case 4:return e.next=6,t.json();case 6:if("insufficientCredits"!==(a=e.sent).error){e.next=13;break}return window.confirm("You have insufficient credits to start this custom battle. Click OK to proceed to buying credits.")&&o.push("/settings?tab=custom-battle-credits"),e.abrupt("return");case 13:if("noTargetsFound"!==a.error){e.next=16;break}return window.alert("You have not added any targets yet. Add at least 1 target to before starting the battle."),e.abrupt("return");case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){O(!1),alert("Battle could not be started. Try one more time, otherwise DM us on twitter: @css_battle")});case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,null,t.type?t.type===x.BattleTypes.BIG_BATTLE?"Big":"Mini":"Custom"," ","Battle"),r.a.createElement("div",{className:"homepage-banner"},r.a.createElement("div",{className:"d-if",style:{alignItems:"center",marginBottom:"0.25rem"}},r.a.createElement("h1",{className:"homepage-banner__heading",style:{marginBottom:"0",marginRight:"1rem"}},"Battle ",r.a.createElement(R.h,{id:t.id})," - ",t.name),r.a.createElement(P,{status:E})),r.a.createElement("div",{className:"homepage-banner__description  battle-banner__description"},t.description?r.a.createElement("p",{className:"para"},t.description," ",t.sponsor?r.a.createElement(r.a.Fragment,null,"Sponsored by"," ",r.a.createElement("a",{className:"link",href:t.sponsor.link},t.sponsor.name),". The following rewards will be given to players at the end of the Battle."):null):null,t.rewards?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"battle-rewards"},t.rewards.gold?r.a.createElement("div",{className:"reward-tile reward-tile--gold"},t.rewards.gold):null,t.rewards.silver?r.a.createElement("div",{className:"reward-tile reward-tile--silver"},t.rewards.silver):null,t.rewards.bronze?r.a.createElement("div",{className:"reward-tile reward-tile--bronze"},t.rewards.bronze):null,t.rewards.others?r.a.createElement("div",{className:"reward-tile reward-tile--regular"},t.rewards.others):null),r.a.createElement("p",{style:{fontSize:"12px",marginTop:"-30px"}},t.rewards.note)):null),E===x.BattleStatuses.UPCOMING&&t.startDate?r.a.createElement(r.a.Fragment,null,r.a.createElement(R.b,{style:{padding:"0.6rem 1.5rem"}},r.a.createElement(Q,{date:t.startDate})),r.a.createElement("p",{className:"para"},"Starting on ",new Date(t.startDate).toLocaleString())):null,E===x.BattleStatuses.FINISHED&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"para",style:{marginLeft:"2rem",marginRight:"2rem"}},f?"This Battle has finished. But you can always play the targets below. Note: Custom battle targets don't  contribute to your global ranking.":"This Battle has finished. But you can always play the targets below and improve your global ranking!"),g()&&r.a.createElement(ee.a,{primary:!0,onClick:function(){h(!0),D({name:"emailNotificationUpdated",label:1}),Object(N.K)(a.uid,{"settings.emailNotifications":!0}).then(function(){h(!1)})},isLoading:u},"Get Notified via Email about new Battles"),!1===u?r.a.createElement("p",{className:"para"},"Great! We'll notify you about coming Battles."):null,g()&&r.a.createElement("p",{className:"small",style:{margin:"2rem 2rem 0",color:"var(--clr-text-light)"}},"With this, you'll also receive future emails from us regarding such announcements. We won't spam you :)")),E===x.BattleStatuses.ONGOING&&t.startDate?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"para"},"Battle ends on ",new Date(Lt(t)).toLocaleString()),r.a.createElement(R.b,{style:{padding:"0.6rem 1.5rem"}},r.a.createElement(Q,{date:Lt(t)}))):null,!a&&r.a.createElement("p",null,r.a.createElement(p.a,{className:"button",to:"/login"},"Sign In / Sign Up")),a&&a.uid===t.createdBy?r.a.createElement(R.c,{center:!0},E===x.BattleStatuses.UPCOMING?r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{primary:!0,onClick:function(){return k.apply(this,arguments)},isLoading:S},"Start Battle"),r.a.createElement(p.a,{className:"link",to:"/battle/create/".concat(t.id)},"Edit")):null,E===x.BattleStatuses.ONGOING?r.a.createElement(ee.a,{danger:!0,onClick:function(){window.confirm("You cannot restart a battle once it is stopped. Are you sure you want to stop this battle?")&&j(x.BattleStatuses.FINISHED).then(function(){var e=Object(d.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=3;break}return v(x.BattleStatuses.FINISHED),e.abrupt("return");case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){O(!1),alert("Battle could not be stopped. Try one more time, otherwise DM us on twitter: @css_battle")})},isLoading:S},"Stop Battle"):null):null))}var Pt=function(e){var t=e.match,a=Object(n.useContext)(v.a),o=Object(_.a)(t.params.battleId)?t.params.battleId:parseInt(t.params.battleId,10),l=Object(n.useState)(),c=Object(i.a)(l,2),s=c[0],u=c[1];return Object(n.useEffect)(function(){Object(N.c)(o).then(function(e){Object(x.getBattleStatus)(e)!==x.BattleStatuses.UPCOMING||a&&e.createdBy===a.uid||(e.levelIds=e.levelIds.map(function(){return 0})),u(e)})},[o]),Object(n.useEffect)(function(){s&&(window.document.title="Battle #".concat(s.id,": ").concat(s.name," - CSSBattle"))},[s]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{battleId:o,battleName:s?s.name:""}),s?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container__item  container__item--main  container__item--targets"},r.a.createElement(Mt,{battle:s}),r.a.createElement(At,{battle:s})),r.a.createElement("div",{className:"container__item  container__item--aside container__item--sticky"},s?r.a.createElement("div",{className:fe.a.halfAndHalf},r.a.createElement("div",null,r.a.createElement(Bt,{title:"Battle Leaderboard",battleId:s.id})),r.a.createElement("div",null,r.a.createElement(pe,{battleId:s.id}))):null)):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container__item container__item--main"},r.a.createElement(ce.b,null,"Fetching battle details..."))),r.a.createElement(K,null))},Dt=function(){return $("Become a Sponsor"),r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,null),r.a.createElement("div",{className:"container  container--pro-page"},r.a.createElement("div",{className:"container__item"},r.a.createElement("div",{className:"item__content"},r.a.createElement("div",{className:"pro-left"},r.a.createElement("div",{className:"sticky"},r.a.createElement("h2",{className:"heading"},"Sponsor the Next Battle"),r.a.createElement("div",{className:"pro-pricing"},r.a.createElement("span",null,"$650")),r.a.createElement("p",{className:"para  para--small"},"This is a one-time fee. Please contact us first to reserve a Battle."),r.a.createElement("p",{className:"para"},r.a.createElement("a",{href:"mailto:contact@cssbattle.dev",className:"button  button--full-width  button--primary"},"Contact Us")))),r.a.createElement("div",{className:"pro-right",style:{lineHeight:"1.6"}},r.a.createElement("p",{className:"para"},"Battle sponsorship means that the first Target (receives the most gameplays) in a Battle is dedicated to your brand. It entitles you to the following:"),r.a.createElement("ul",{className:"unordered-list"},r.a.createElement("li",null,"Target image based on your logo."),r.a.createElement("li",null,"Your name, description, image below the Target, linked back to you."),r.a.createElement("li",null,"Your name in the battle description, linked back to you.")),r.a.createElement("p",{className:"para"},"For example,"," ",r.a.createElement(p.a,{to:"/battle/4",className:"link"},"Battle #4")," ","was sponsored by SitePoint. And"," ",r.a.createElement(p.a,{to:"/play/21",className:"link"},"Target #21")," ","is their sponsored Target."),r.a.createElement("figure",null,r.a.createElement(p.a,{to:"/play/21"},r.a.createElement("img",{className:"image",src:"/images/sponsored-target.png",alt:"Play screen showing sponsored ad location below the target"})),r.a.createElement("figcaption",null,"Screenshot of a sponsored target play screen")),r.a.createElement("h3",{className:"heading"},"Why choose Target sponsorship?"),r.a.createElement("p",{className:"para"},"CSSBattle is one of its kind game for frontend developers. Target Sponsorship brings your brand/logo in front of some of the best developers in the world. Here are some amazing stats about the game:"),r.a.createElement("ul",{class:"list"},r.a.createElement("li",null,"Registered developers: ",r.a.createElement(Gt,null,"60K")),r.a.createElement("li",null,"Daily active players: ",r.a.createElement(Gt,null,"3000+")),r.a.createElement("li",null,"Monthly pageviews: ",r.a.createElement(Gt,null,"750K")),r.a.createElement("li",null,"Twitter reach:"," ",r.a.createElement(Gt,null,"30K impressions per month")),r.a.createElement("li",null,"Visitors from:"," ",r.a.createElement(Gt,null,"200 countries ")),r.a.createElement("li",null,"Average session duration:"," ",r.a.createElement(Gt,null,"~10 minutes"))))))),r.a.createElement(K,null))},Gt=function(e){var t=e.children;return r.a.createElement("span",{style:{color:"var(--clr-brand)",fontSize:"1.5em"}},t)};function Ht(e){var t=e.url,a=e.onUpload,o=Object(n.useContext)(v.a),l=Object(n.useState)(),c=Object(i.a)(l,2),s=c[0],u=c[1],m=Object(n.useState)(t),d=Object(i.a)(m,2),p=d[0],h=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"avatar"},"Target image:"),r.a.createElement("div",{className:"input-container  d-f",style:{marginTop:"1rem",flexWrap:"wrap"}},r.a.createElement("div",null,r.a.createElement("div",{className:"input-container"},r.a.createElement("div",{style:{marginBottom:"1rem"}},r.a.createElement("img",{width:"400",height:"300",src:p,alt:"Current target"})),r.a.createElement("div",{className:"d-f ai-c"},r.a.createElement("input",{type:"file",id:"avatar",accept:"image/png",onChange:function(e){if(o){var t=e.target.files[0];if(!t.size/1024>300)return alert("Image should be less than 300KB");var n=new FileReader;n.onloadend=function(){var e=new Image;e.src=n.result,setTimeout(function(){if(800!==e.width||600!==e.height)return alert("Image should be exactly 800px (width) x 600px (height)");h(n.result),function(e){var t=o.uid,n="target_".concat(Object(_.e)(7),"@2x.png"),r="user/".concat(t,"/targets/").concat(n);u(!0),Object(_.o)({userId:o.uid,file:e,path:r}).then(function(){u(!1);var e="https://firebasestorage.googleapis.com/v0/b/cssbattleapp.appspot.com/o/".concat(encodeURIComponent("".concat(r)),"?alt=media");"function"===typeof a&&a(e.replace(/%402x/,""))}).catch(function(e){u(!1),alert("Something went wrong while uploading. Make sure the image is a .png file less than 300KB")})}(t)},10)},n.readAsDataURL(t)}},disabled:!!s&&"disabled"}),s&&r.a.createElement(ce.a,null)))),r.a.createElement("div",null,r.a.createElement("p",{className:"para"},"Image file should be png and should be less than 300KB. The dimension should be exactly 800 (width) x 600 (height), i.e. 2x of final target image. A 400x300 size image will be auto-generated from it."),r.a.createElement("p",{className:"para"},"Guidelines to make a good target:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Keep maximum 5 colours."),r.a.createElement("li",null,"Keep good contrast amongst all colors.")))))}var Rt=a(38),Ut=a.n(Rt);function zt(e){var t=e.data,a=e.onRemove,o=e.levelsDispatch,l=Object(n.useState)(!1),c=Object(i.a)(l,2),s=c[0],u=c[1],m=Object(n.useState)(t.id?t.image:"/targets/0.png?v=2"),d=Object(i.a)(m,2),p=d[0],h=d[1],f=p.replace(/(@2x)?\.png/,"@2x.png");return Object(n.useEffect)(function(){h(t.image)},[t.image]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"target-tile ".concat(t.id?"":"target-tile--dummy")},r.a.createElement("img",{src:p,srcSet:"".concat(f," 2x"),alt:"",loading:"lazy",className:"target-tile__image",onError:function(){h(f)}}),r.a.createElement("div",{className:Ut.a.buttonsOnHover},r.a.createElement(ee.a,{onClick:function(){u(!0)}},"Edit"),r.a.createElement(ee.a,{onClick:a},"Delete"))),r.a.createElement(ge.a,{isOpen:s,onRequestClose:function(){return u(!1)},header:"Add Target"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},r.a.createElement("div",null,r.a.createElement("div",{className:Ut.a.halfInputs,style:{minWidth:"300px",marginBottom:"2rem"}},r.a.createElement(R.g,{label:"Name",value:t.name,onChange:function(e){o({type:"EDIT",payload:{levelId:t.id,name:e.target.value}})}}),r.a.createElement(R.g,{label:"Colors used (comma separated)",defaultValue:t.colors.join(", "),help:r.a.createElement(r.a.Fragment,null,"Example: #ff0, #bada55"),onChange:function(e){o({type:"EDIT",payload:{levelId:t.id,colors:e.target.value}})}})),r.a.createElement("div",{style:{flexBasis:"400px",flexShrink:0}},r.a.createElement(Ht,{url:p,onUpload:function(e){o({type:"EDIT",payload:{levelId:t.id,image:e}})}}))),r.a.createElement(R.c,null,r.a.createElement(ee.a,{onClick:function(){return u(!1)}},"Cancel"),r.a.createElement(ee.a,{primary:!0,onClick:function(){return u(!1)}},"Save & Close")))))}var Vt=a(46),Yt=a.n(Vt),qt=a(71),Wt=a.n(qt);function Kt(e){var t=e.gutter,a=e.children;return r.a.createElement("div",{className:Wt.a.Cluster,style:{"--gutter":t}},r.a.createElement("div",null,a))}var Jt=a(32),Zt=a.n(Jt);function $t(e){var t=e.value;switch(e.unit){case"minutes":t*=1;break;case"hours":t*=60;break;case"days":t*=1440;break;default:t*=1}return Math.floor(t)}function Xt(e){var t=e.battleTypeLabel,a=e.isSelected,n=e.availableCount;return r.a.createElement("div",{className:"".concat(Zt.a.creditItem," ").concat(a?Zt.a.creditItem___selected:"","\n      ").concat(a&&n?Zt.a.creditItem___success:"","\n      ").concat(a&&!n?Zt.a.creditItem___warning:"","\n      ")},r.a.createElement("div",null,'"',t,'" battle (',n," available)"),r.a.createElement("p",{style:{marginTop:"0.5rem"}},"Duration: upto"," ","Small"===t?r.a.createElement(r.a.Fragment,null,"24 hours"):r.a.createElement(r.a.Fragment,null,"7 days")),a&&!n?r.a.createElement(R.b,{style:{marginTop:"0.5rem"}},r.a.createElement(p.a,{to:"/settings/?tab=custom-battle-credits",className:"link",target:"_blank"},"Purchase Credits (in new window)")):null)}function Qt(e){var t=e.formInput,a=Object(q.a)(),o=function(e){if(!e)return{value:0,unit:"minutes"};var t=~~(e/1440);if(t>0)return{value:t,unit:"days"};var a=~~(e/60);return a>0?{value:a,unit:"hours"}:{value:e,unit:"minutes"}}(t.value),l=Object(n.useState)({0:0,1:0}),c=Object(i.a)(l,2),s=c[0],u=c[1];function m(e){t.input.onChange(null,$t({value:o.value,unit:e.target.value}))}Object(n.useEffect)(function(){if(a){var e=Object(N.G)(a.uid,function(e){var t={};t[0]=e.filter(function(e){return e.data.p_product_id===mt[ut.CUSTOM_BATTLE_MINI].vendorId}).length,t[1]=e.filter(function(e){return e.data.p_product_id===mt[ut.CUSTOM_BATTLE_SMALL].vendorId}).length,u(t)});return function(){e()}}},[a?a.uid:""]);var d,p=(d=t.value)<=mt[ut.CUSTOM_BATTLE_MINI].maxDuration?0:d<=mt[ut.CUSTOM_BATTLE_SMALL].maxDuration?1:void 0;return r.a.createElement("div",{className:Yt.a.halfInputs},r.a.createElement("div",{className:"input-container"},r.a.createElement("div",{className:Zt.a.duration},r.a.createElement("input",{type:"number",id:"df",required:!0,className:Zt.a.durationInput,value:o.value,onChange:function(e){t.input.onChange(null,$t({value:+e.target.value,unit:o.unit}))}}),r.a.createElement("div",{className:Zt.a.radio},r.a.createElement("div",null,r.a.createElement("input",{type:"radio",value:"mins",name:"durationUnit",id:"mins",checked:"minutes"===o.unit,onChange:m}),r.a.createElement("label",{htmlFor:"mins"},"Mins")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",value:"hours",name:"durationUnit",id:"hours",checked:"hours"===o.unit,onChange:m}),r.a.createElement("label",{htmlFor:"hours"},"Hours")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",value:"days",name:"durationUnit",id:"days",checked:"days"===o.unit,onChange:m}),r.a.createElement("label",{htmlFor:"days"},"Days")))),r.a.createElement("p",{className:"input-hint"},"Duration of the battle should not exceed 7 days.")),r.a.createElement("div",null,r.a.createElement("div",{className:Zt.a.creditInfo},r.a.createElement("p",{className:Zt.a.creditText},"Required battle credits:"),r.a.createElement(Xt,{battleTypeLabel:mt[ut.CUSTOM_BATTLE_MINI].label,availableCount:s[0],isSelected:0===p}),r.a.createElement(Xt,{battleTypeLabel:mt[ut.CUSTOM_BATTLE_SMALL].label,availableCount:s[1],isSelected:1===p}))))}function ea(e,t){switch(t.type){case"EDIT":var a=t.payload,n=a.levelId,r=Object(Nt.a)(a,["levelId"]),o=e.findIndex(function(e){return e.id===n}),l=e[o],i=e.filter(function(e){return e.id!==n});return"string"===typeof(l=Object(c.a)({},l,r)).colors&&(l.colors=l.colors.replace(/\s/g,""),l.colors=l.colors.split(",").filter(function(e){return e})),i.splice(o,0,l),i;case"ADD":return[].concat(Object(oe.a)(e),[t.level]);case"REMOVE":return e.filter(function(e){return e.id!==t.levelId});case"RESET":return t.payload;default:return e}}var ta=function(e){var t=e.match.params.battleId,a=Object(q.a)(),o=Object(s.f)(),l=Object(n.useState)(!0),c=Object(i.a)(l,2),u=c[0],m=c[1],d=Object(n.useState)(!1),h=Object(i.a)(d,2),f=h[0],g=h[1],b=be("An awesome battle"),E=be(30),v=be(""),w=Object(n.useState)(),C=Object(i.a)(w,2),S=C[0],O=C[1],j=Object(n.useReducer)(ea,[]),I=Object(i.a)(j,2),k=I[0],B=I[1];Object(n.useEffect)(function(){m(!0),Object(N.c)(t).then(function(e){m(!1),b.setValue(e.name),E.setValue(e.duration||30),v.setValue(e.description),Object(N.f)(e.levelIds||[]).then(function(e){O(e),B({type:"RESET",payload:e})})})},[t]),$("Edit Battle");var T=Object(n.useState)(!1),x=Object(i.a)(T,2),F=x[0],A=x[1];return r.a.createElement(J,null,r.a.createElement("div",{className:"container__item  container__item--main"},u?r.a.createElement("div",{className:"ta-c",style:{margin:"2rem"}},r.a.createElement(ce.b,null,"Fetching battle details...")):r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,null,"Create a Custom Battle"),r.a.createElement("div",{className:"item__content"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),g(!0),Object(N.I)({userId:a.uid,battle:{id:t,name:b.value,description:v.value,duration:+E.value},levels:k,oldLevels:S}).then(function(){g(!1),Oe.toast.info("Battle updated.")})}},r.a.createElement("div",{className:Yt.a.halfInputs},r.a.createElement(R.g,Object.assign({label:"Title"},b.input,{required:!0})),r.a.createElement(R.g,Object.assign({label:"Description"},v.input,{required:!0}))),r.a.createElement(R.b,{style:{marginBottom:"1rem"}},r.a.createElement("div",null,r.a.createElement("h3",{className:"inner-header"},"Duration"),r.a.createElement(Qt,{formInput:E}))),r.a.createElement(R.b,{style:{marginBottom:"1rem"}},r.a.createElement("div",{className:Ut.a.targets},r.a.createElement("h3",{className:"inner-header"},"Targets"),r.a.createElement("p",{className:"input-hint ".concat(Ut.a.targetInputHint)},r.a.createElement("strong",null,"Note:")," The targets you add remain inaccessible to everyone until you start the battle."),r.a.createElement(Kt,{gutter:"2rem"},r.a.createElement("button",{type:"button",className:Ut.a.addTarget,onClick:function(){B({type:"ADD",level:{name:"Untitled Target",colors:[],image:"/targets/0.png",id:Object(_.e)()}})}},r.a.createElement(y,{size:"32",name:"plus-round"}),"Add target"),k.map(function(e,t){return r.a.createElement("div",{key:t,className:Ut.a.targetTile},r.a.createElement(zt,{data:e,onRemove:function(){return t=e.id,void B({type:"REMOVE",levelId:t});var t},levelsDispatch:B}))})))),r.a.createElement(R.c,null,r.a.createElement(ee.a,{onClick:function(){window.confirm("Deleted battle cannot be recovered. Are you sure you want to delete this battle?")&&(A(!0),Object(N.b)({battleId:t,levelIds:k.map(function(e){return e.id})}).then(function(){A(!1),o.push("/my-battles")}))},danger:!0,isLoading:F},"Delete battle"),r.a.createElement(ee.a,{type:"submit",primary:!0,isLoading:f},"Save battle"),r.a.createElement(p.a,{to:"/battle/".concat(t),className:"link",target:"_blank"},"Visit battle page (opens in new tab)")))))),r.a.createElement(aa,null))};function aa(){return r.a.createElement("div",{className:"container__item  container__item--aside container__item--sticky"},r.a.createElement(Z.a,null,"What's a Custom Battle"),r.a.createElement("div",{className:"item__content  item__content--inner-page"},r.a.createElement("p",{className:"para"},'"Custom Battles" are battles that you can organize! You choose the targets and the duration.'),r.a.createElement("p",null,'Whether it\'s a tech conference, friday nerd party or just a tech event at your company - "Custom Battles" are a perfect event to get everyone to play, compete and have fun.')))}var na=function(){var e=Object(q.a)(),t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],l=a[1],s=Object(n.useState)([]),u=Object(i.a)(s,2),m=u[0],d=u[1],h=Object(n.useState)(!1),f=Object(i.a)(h,2),g=f[0],b=f[1];return $("My Battles"),Object(n.useEffect)(function(){e&&Object(N.m)(e.uid).then(function(e){e=e.map(function(e){return Object(c.a)({},e,{updatedOnHumanReadable:new Date(1e3*(e.updatedOn?e.updatedOn.seconds:e.createdOn.seconds))})}),l(e)})},[e?e.uid:""]),Object(n.useEffect)(function(){e&&Object(N.C)(e.uid).then(function(e){e=e.sort(function(e,t){return t.lastUpdated.seconds-e.lastUpdated.seconds}).map(function(e){return Object(c.a)({},e,{playedOnHumanReadable:new Date(1e3*e.lastUpdated.seconds)})}),d(e)})},[e?e.uid:""]),r.a.createElement(J,null,r.a.createElement("div",{className:"container__item  container__item--main"},r.a.createElement(Z.a,null,"My battles"),r.a.createElement("div",{className:"item__content"},r.a.createElement("div",{className:"inner-header  inner-header--inner-page"},r.a.createElement("h4",{className:"header__title  header__title--inner"},"Played Battles"),r.a.createElement("p",{className:"key-combo  key-combo--inner-header"},m.length)),r.a.createElement("table",{className:"table",style:{marginTop:"2rem"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No."),r.a.createElement("th",null,"Battle name"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Last Played"),r.a.createElement("th",null))),r.a.createElement("tbody",null,m.map(function(e,t){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement(P,{status:Object(x.getBattleStatus)(e)})),r.a.createElement("td",null,e.playedOnHumanReadable.toLocaleString()),r.a.createElement("td",null,r.a.createElement(p.a,{className:"link",to:"/battle/".concat(e.battleId)},"View battle")))}))),r.a.createElement("div",{className:"inner-header  inner-header--inner-page"},r.a.createElement("h4",{className:"header__title  header__title--inner"},"Created Battles"),r.a.createElement("p",{className:"key-combo  key-combo--inner-header"},o.length)),r.a.createElement("table",{className:"table",style:{marginTop:"2rem"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No."),r.a.createElement("th",null,"Battle name"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Last updated on"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,o.map(function(e,t){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement(P,{status:Object(x.getBattleStatus)(e)})),r.a.createElement("td",null,e.updatedOnHumanReadable.toLocaleString()),r.a.createElement("td",null,r.a.createElement(p.a,{className:"link",to:"/battle/".concat(e.id)},"View battle")),r.a.createElement("td",null,r.a.createElement(p.a,{className:"link",to:"/battle/create/".concat(e.id),"aria-label":"Edit battle: ".concat(e.name)},"Edit")))}))))),r.a.createElement("div",{className:"container__item  container__item--aside container__item--sticky"},r.a.createElement("div",{className:"item__content"},r.a.createElement(ee.a,{onClick:function(){b(!0)}},"Host Battle"))),r.a.createElement(ye,{isOpen:g,onRequestClose:function(){return b(!1)}}))};function ra(e){var t=e.gap,a=void 0===t?"1rem":t,n=e.align,o=void 0===n?"center":n,l=e.justify,c=void 0===l?"flex-start":l,i=e.children;return r.a.createElement("div",{style:{display:"flex",gap:a,alignItems:o,justifyContent:c}},i)}function oa(e){var t=e.jobDetails;return r.a.createElement("div",{className:"jobs-list__item ".concat(t.showOnHomepage?"jobs-list__item__highlight":"")},r.a.createElement("div",{className:"jobs__company-info"},r.a.createElement(ra,null,r.a.createElement("img",{className:"jobs__company-logo",alt:"",src:t.image}),r.a.createElement("a",{style:{flex:1},className:"jobs__company-name",href:"".concat(t.website)},t.name),r.a.createElement("p",{className:"target-top-info__pill"},Object(_.m)(t.startDate)," ago")),r.a.createElement("p",{className:"jobs__company-desc"},t.description)),r.a.createElement("div",{className:"job-meta-info"},r.a.createElement(ra,null,r.a.createElement("svg",{width:"20",height:"20",fill:"none",style:{marginRight:"0.1rem"}},r.a.createElement("path",{d:"M1.667 2.5h16.666A1.725 1.725 0 0120 4.167v11.666a1.725 1.725 0 01-1.667 1.667H1.667A1.725 1.725 0 010 15.833V4.167A1.725 1.725 0 011.667 2.5zm5 9.092c-1.667 0-5 .908-5 2.575V15h10v-.833c0-1.667-3.334-2.575-5-2.575zm0-6.592a2.5 2.5 0 100 5 2.5 2.5 0 000-5zm7.5 3.333v2.5H17.5v-2.5h-3.333z",fill:"#A0B3C6"})),r.a.createElement("p",null,t.title)),r.a.createElement(ra,null,r.a.createElement("svg",{width:"20",height:"20",fill:"none",style:{marginRight:"0.1rem"}},r.a.createElement("path",{d:"M5.833 12.5H7.5c0 .9 1.142 1.667 2.5 1.667s2.5-.767 2.5-1.667c0-.917-.867-1.25-2.7-1.692-1.767-.441-3.967-.991-3.967-3.308 0-1.492 1.225-2.758 2.917-3.183V2.5h2.5v1.817c1.692.425 2.917 1.691 2.917 3.183H12.5c0-.9-1.142-1.667-2.5-1.667S7.5 6.6 7.5 7.5c0 .917.867 1.25 2.7 1.692 1.767.441 3.967.991 3.967 3.308 0 1.492-1.225 2.758-2.917 3.183V17.5h-2.5v-1.817c-1.692-.425-2.917-1.691-2.917-3.183z",fill:"#A0B3C6"})),r.a.createElement("p",null,t.salary)),r.a.createElement(ra,null,r.a.createElement("svg",{width:"20",height:"20",fill:"none",style:{marginRight:"0.1rem"}},r.a.createElement("path",{d:"M10 9.583a2.083 2.083 0 110-4.166 2.083 2.083 0 010 4.166zm0-7.916A5.833 5.833 0 004.167 7.5C4.167 11.875 10 18.333 10 18.333s5.833-6.458 5.833-10.833A5.833 5.833 0 0010 1.667z",fill:"#A0B3C6"})),r.a.createElement("p",null,t.location)),r.a.createElement(ra,null,r.a.createElement("svg",{width:"20",height:"10",fill:"none",style:{marginRight:"0.1rem"}},r.a.createElement("path",{d:"M1.9 5C1.9 3.29 3.29 1.9 5 1.9H9V0H5C2.24 0 0 2.24 0 5C0 7.76 2.24 10 5 10H9V8.1H5C3.29 8.1 1.9 6.71 1.9 5ZM6 6H14V4H6V6ZM15 0H11V1.9H15C16.71 1.9 18.1 3.29 18.1 5C18.1 6.71 16.71 8.1 15 8.1H11V10H15C17.76 10 20 7.76 20 5C20 2.24 17.76 0 15 0Z",fill:"#A0B3C6"})),r.a.createElement("a",{href:t.modifiedUrl,target:"_blank",rel:"noopener noreferrer"},"Apply Now"))))}var la=function(){$("Jobs");var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)(function(){var e=[];o(e);for(var t=0;t<ve.a.length;t++){var a=new Date,n=new Date(ve.a[t].startDate),r=new Date(ve.a[t].endDate);a>=n&&a<r&&(ve.a[t].modifiedUrl="https://cssbattle.dev/api/adRedirect?url=".concat(encodeURIComponent(ve.a[t].url),"&sponsorId=").concat(90+t),e.push(ve.a[t]))}o(e)},[ve.a]),r.a.createElement(J,null,r.a.createElement("div",{className:"container__item container__item--main"},r.a.createElement(Z.a,null,"Jobs"),r.a.createElement("div",{style:{padding:"2rem 0 0"}},r.a.createElement(ra,{justify:"center"},r.a.createElement("a",{href:"/jobs/post",className:"button button--primary"},"Post a Job - $150/month"))),a&&a.length?r.a.createElement("div",{className:"item__content item__content--inner-page"},r.a.createElement("div",{className:"jobs-list"},a.map(function(e){return r.a.createElement(oa,{key:e.id,jobDetails:e})}))):null))},ca=function(){$("Learn CSS");return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100vh"}},r.a.createElement("div",{className:"header",style:{flexWrap:"wrap"}},r.a.createElement("div",{className:"header__left"},r.a.createElement("h1",{className:"logo",title:"CSSBattle"},r.a.createElement("span",{className:"visually-hidden"},"CSSBattle"),r.a.createElement(p.a,{to:"/"})),"/ LEARN"),r.a.createElement("form",{id:"learnForm",onSubmit:function(e){var t=e.target;e.preventDefault();var a=new FormData(t);window.fetch("https://formspree.io/f/mpzolwky",{method:"POST",body:a,headers:{Accept:"application/json"}}).then(function(){t.querySelector("input").remove(),t.querySelector("button").textContent="You are subscribed!",t.querySelector("button").style.pointerEvents="none",Object(_.l)(3)})},style:{display:"flex",gap:"10px",alignItems:"center",justifyContent:"center",flexWrap:"wrap"}},r.a.createElement("span",null,"Wanna get notified when this launches?"),r.a.createElement("input",{type:"email",name:"email"})," ",r.a.createElement(ee.a,{type:"submit"},"Subscribe"))),r.a.createElement("div",{style:{flex:1,overflow:"hidden",display:"flex",gap:"5px",justifyContent:"center",backgroundColor:"#10101B",position:"relative"}},r.a.createElement("video",{playsInline:!0,id:"trailer",style:{objectFit:"contain",width:"100vw",height:"100%"}},r.a.createElement("source",{src:"/learn-video.mp4",type:"video/webm"})),r.a.createElement("button",{className:"sidebar__close",style:{right:"60px"},onClick:function(e){e.preventDefault(),window.trailer.removeAttribute("controls"),window.trailer.pause(),window.trailer.currentTime=0,window.modal.style.display="flex"}}),r.a.createElement("div",{className:"learn-modal",id:"modal"},r.a.createElement("div",{className:"learn-content"},r.a.createElement("h2",{style:{color:"#FEE333"}},'Introducing CSSBattle "LEARN"'),r.a.createElement("p",null,'CSSBattle "LEARN" is the first ever gamified CSS course targeted towards beginners, intermediates, and even experts. Each course consists of multiple levels and you progress only when you clear the current level - just like a game!'),r.a.createElement("button",{className:"learn-play-btn",onClick:function(){window.trailer.play(),window.trailer.setAttribute("controls","controls"),window.modal.style.display="none"}},"See trailer",r.a.createElement("svg",{style:{width:"50px",height:"50px",fill:"currentcolor",filter:"drop-shadow(0px 26px 8px rgba(0,0,0,0.4))"},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"currentColor",d:"M10,16.5V7.5L16,12M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})))))))},ia=a(40);a(50);var sa=(0,a(26).createBrowserHistory)();sa.listen(function(){window.location.href.match(/apiKey/)||setTimeout(function(){window.gtag("config","UA-136774468-1",{page_location:window.location.href})},1e3)}),window.document.querySelector("#critical-css").remove();var ua=function(){var e=window.localStorage.getItem("lastUser"),t=Object(n.useState)(e?JSON.parse(e):null),a=Object(i.a)(t,2),o=a[0],l=a[1];return Object(n.useEffect)(function(){window.gtag("config","UA-136774468-1")},[]),Object(n.useEffect)(function(){ia.auth().onAuthStateChanged(function(e){e?(Object(_.i)(e),o&&o.isPro&&(e.isPro=o.isPro),o&&o.settings&&(e.settings=o.settings),l(e),Object(N.z)(e.uid).then(function(t){var a=Object(c.a)({},e,{isPro:!1},t);Object(_.i)(a),a.firebaseUser=e,a.getIdToken=e.getIdToken,l(a),window.localStorage.getItem("pendingEmailSubscription")&&(Object(N.K)(a.uid,{"settings.emailNotifications":!0}),window.localStorage.removeItem("pendingEmailSubscription"))})):(window.localStorage.removeItem("lastUser"),l(null))})},[]),r.a.createElement(v.a.Provider,{value:o},r.a.createElement(s.b,{history:sa},r.a.createElement("div",null,r.a.createElement(s.a,{path:"/",exact:!0,component:we}),r.a.createElement(s.a,{path:"/play/:levelId",exact:!0,render:function(e){return r.a.createElement(Ye,Object.assign({},e,{user:o}))}}),r.a.createElement(s.a,{path:"/faqs",exact:!0,component:We}),r.a.createElement(s.a,{path:"/tips",exact:!0,component:$e}),r.a.createElement(s.a,{path:"/about",exact:!0,component:Xe}),r.a.createElement(s.a,{path:"/privacy-and-terms",exact:!0,component:et}),r.a.createElement(s.a,{path:"/stats",exact:!0,component:Qe}),r.a.createElement(s.a,{path:"/player/:username",exact:!0,component:nt}),r.a.createElement(s.a,{path:"/me",exact:!0,component:ot}),r.a.createElement(s.a,{path:"/settings",exact:!0,component:Et}),r.a.createElement(s.a,{path:"/leaderboard/:type?/:id?",exact:!0,component:vt}),r.a.createElement(s.a,{path:"/login",exact:!0,component:Ot}),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/my-battles",exact:!0,component:na}),r.a.createElement(s.a,{path:"/battle/create/:battleId",component:ta}),r.a.createElement(s.a,{path:"/battle/:battleId",component:Pt})),r.a.createElement(s.a,{path:"/pro",exact:!0,component:kt}),r.a.createElement(s.a,{path:"/become-a-sponsor",exact:!0,component:Dt}),r.a.createElement(s.a,{path:"/jobs",exact:!0,component:la}),r.a.createElement(s.a,{path:"/learn-css",exact:!0,component:ca}))),r.a.createElement(Oe.ToastContainer,{position:"bottom-right",autoClose:3e3}))};console.log("\n _______  _______  _______  _______  _______  _______  _______  ___      _______ \n|       ||       ||       ||  _    ||   _   ||       ||       ||   |    |       |\n|       ||  _____||  _____|| |_|   ||  |_|  ||_     _||_     _||   |    |    ___|\n|       || |_____ | |_____ |       ||       |  |   |    |   |  |   |    |   |___ \n|      _||_____  ||_____  ||  _   | |       |  |   |    |   |  |   |___ |    ___|\n|     |_  _____| | _____| || |_|   ||   _   |  |   |    |   |  |       ||   |___ \n|_______||_______||_______||_______||__| |__|  |___|    |___|  |_______||_______|\n"),console.log("{\u2694\ufe0f} Join our community forum -> https://community.cssbattle.dev"),window.selectedAd="ethicalads";var ma=JSON.parse(window.localStorage.getItem("lastUser"));if(ma&&ma.isPro&&ma.settings&&"light"===ma.settings.theme){var da=document.createElement("link");da.href="/light-theme.css",da.rel="stylesheet",da.id="lightThemeLink",document.head.append(da)}l.a.render(r.a.createElement(ua,null),document.getElementById("root"))}],[[77,3,4]]]);
//# sourceMappingURL=main.0504e7d9.chunk.js.map